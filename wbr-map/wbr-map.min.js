/*! For license information please see wbr-map.min.js.LICENSE.txt */
(()=>{var e={143:(e,t,n)=>{"use strict";n.d(t,{A:()=>r}),t=n(601),t=n.n(t);var i=n(314);(n=n.n(i)()(t())).push([e.id,'.map-container{background-color:#fff;display:flex;height:90vh;margin:10px;position:relative}.map-container .side-panel{border-right:1px solid #dedede;height:calc(100% - 20px);overflow-y:auto;padding:10px;width:300px}.map-container .map-panel{flex:1 1}.map-container .location{background-color:#0c1e3b;color:#fff;cursor:pointer;margin-bottom:1rem;padding:.5rem 1rem;text-align:left}.map-container .location h3{color:#fff;font-size:20px;font-weight:600;margin:0 0 16px}.map-container .location p{margin-bottom:0}.popup-content h4{color:#333;font-size:22px;line-height:24px}.popup-content a{color:#796646}@media only screen and (max-width:768px){.map-container .side-panel{background-color:#0c1e3baa;height:calc(100% - 20px);left:-350px;padding:10px;position:absolute;top:0;transition:left .3s ease;z-index:2}.side-panel.open{left:-20px}}.navbar-toggler{border:0 solid #efbb20;display:none;font-size:16px;line-height:24px;margin:40px 0 39px 15px;outline:none!important;padding:0}@media only screen and (max-width:768px){.navbar-toggler{display:block;margin:18px 0 16px 30px}}@media only screen and (max-width:575px){.navbar-toggler{margin:10px 0 10px 20px}}.navicon{background:#0c1e3b;cursor:pointer;height:45px;right:10px;transition:.5s ease-in-out;width:45px;z-index:2}.navicon,.navicon span{position:absolute;transform:rotate(0deg)}.navicon span{background:#fff;border-radius:1px;display:block;height:2px;left:10px;opacity:1;transition:.25s ease-in-out;width:100%}.navicon span:first-child{top:13px;width:22px}.navicon span:nth-child(2){top:22px;width:25px}.navicon span:nth-child(3){top:32px;width:20px}.navicon.open span:first-child{top:23px;transform:rotate(135deg)}.navicon.open span:nth-child(2){left:-60px;opacity:0}.navicon.open span:nth-child(3){top:23px;transform:rotate(-135deg);width:23px}:host,:root{--ol-background-color:#fff;--ol-accent-background-color:#f5f5f5;--ol-subtle-background-color:#80808040;--ol-partial-background-color:#ffffffbf;--ol-foreground-color:#333;--ol-subtle-foreground-color:#666;--ol-brand-color:#0af}.ol-box{background-color:#ffffffbf;background-color:var(--ol-partial-background-color);border:1.5px solid #fff;border:1.5px solid var(--ol-background-color);border-radius:2px;box-sizing:border-box}.ol-mouse-position{position:absolute;right:8px;top:8px}.ol-scale-line{background:#ffffffbf;background:var(--ol-partial-background-color);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid #666;border:1px solid var(--ol-subtle-foreground-color);border-top:none;color:#333;color:var(--ol-foreground-color);font-size:10px;margin:1px;text-align:center;transition:all .25s;will-change:contents,width}.ol-scale-bar{bottom:8px;left:8px;position:absolute}.ol-scale-bar-inner{display:flex}.ol-scale-step-marker{background-color:#333;background-color:var(--ol-foreground-color);float:right;height:15px;width:1px;z-index:10}.ol-scale-step-text{bottom:-5px;font-size:10px;z-index:11}.ol-scale-step-text,.ol-scale-text{color:#333;color:var(--ol-foreground-color);position:absolute;text-shadow:-1.5px 0 #ffffffbf,0 1.5px #ffffffbf,1.5px 0 #ffffffbf,0 -1.5px #ffffffbf;text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-text{bottom:25px;font-size:12px;text-align:center}.ol-scale-singlebar{border:1px solid #333;border:1px solid var(--ol-foreground-color);box-sizing:border-box;height:10px;position:relative;z-index:9}.ol-scale-singlebar-even{background-color:#666;background-color:var(--ol-subtle-foreground-color)}.ol-scale-singlebar-odd{background-color:#fff;background-color:var(--ol-background-color)}.ol-unsupported{display:none}.ol-unselectable,.ol-viewport{-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ol-viewport canvas{all:unset;overflow:hidden}.ol-viewport{touch-action:pan-x pan-y}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ol-grabbing{cursor:grabbing}.ol-grab{cursor:move;cursor:grab}.ol-control{background-color:#80808040;background-color:var(--ol-subtle-background-color);border-radius:4px;position:absolute}.ol-zoom{left:.5em;top:.5em}.ol-rotate{right:.5em;top:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;transition:opacity .25s linear,visibility 0s linear .25s;visibility:hidden}.ol-zoom-extent{left:.5em;top:4.643em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{background-color:#fff;background-color:var(--ol-background-color);border:none;border-radius:2px;color:#666;color:var(--ol-subtle-foreground-color);display:block;font-size:inherit;font-weight:700;height:1.375em;line-height:.4em;margin:1px;padding:0;text-align:center;text-decoration:none;width:1.375em}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:focus,.ol-control button:hover{color:#333;color:var(--ol-foreground-color);outline:1px solid #666;outline:1px solid var(--ol-subtle-foreground-color);text-decoration:none}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{align-items:center;bottom:.5em;display:flex;flex-flow:row-reverse;max-width:calc(100% - 1.3em);right:.5em;text-align:right}.ol-attribution a{color:#666;color:var(--ol-subtle-foreground-color);text-decoration:none}.ol-attribution ul{color:#333;color:var(--ol-foreground-color);font-size:12px;margin:0;padding:1px .5em;text-shadow:0 0 2px #fff;text-shadow:0 0 2px var(--ol-background-color)}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button{flex-shrink:0}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:#ffffffbf;background:var(--ol-partial-background-color)}.ol-attribution.ol-uncollapsible{border-radius:4px 0 0;bottom:0;right:0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{height:200px;left:.5em;top:4.5em}.ol-zoomslider button{height:10px;position:relative}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{bottom:.5em;left:.5em}.ol-overviewmap.ol-uncollapsible{border-radius:0 4px 0 0;bottom:0;left:0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:block}.ol-overviewmap .ol-overviewmap-map{border:1px solid #666;border:1px solid var(--ol-subtle-foreground-color);height:150px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:0;left:0;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:#80808040;background:var(--ol-subtle-background-color)}.ol-overviewmap-box{border:1.5px dotted #666;border:1.5px dotted var(--ol-subtle-foreground-color)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.ol-overviewmap .ol-viewport:hover{cursor:pointer}',""]);const r=n},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(0<t[5].length?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var u=0;u<e.length;u++){var h=[].concat(e[u]);i&&s[h[0]]||(void 0!==o&&(void 0!==h[5]&&(h[1]="@layer".concat(0<h[5].length?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=o),n&&(h[2]&&(h[1]="@media ".concat(h[2]," {").concat(h[1],"}")),h[2]=n),r&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=r):h[4]="".concat(r)),t.push(h))}},t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},72:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var r={},o=[],s=0;s<e.length;s++){var a=e[s],l=r[h=i.base?a[0]+i.base:a[0]]||0,u="".concat(h," ").concat(l),h=(r[h]=l+1,n(u));l={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]},-1!==h?(t[h].references++,t[h].updater(l)):(a=function(e,t){var n=t.domAPI(t);return n.update(e),function(t){t?t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer||n.update(e=t):n.remove()}}(l,i),i.byIndex=s,t.splice(s,0,{identifier:u,updater:a,references:1})),o.push(u)}return o}e.exports=function(e,r){var o=i(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}e=i(e,r);for(var l=0;l<o.length;l++){var u=n(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=e}}},659:e=>{"use strict";var t={};e.exports=function(e,n){if(!(e=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e)))throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{"use strict";e.exports=function(e){var t;return"undefined"==typeof document?{update:function(){},remove:function(){}}:(t=e.insertStyleElement(e),{update:function(n){var i,r,o,s;i=t,r=e,o="",n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {")),(s=void 0!==n.layer)&&(o+="@layer".concat(0<n.layer.length?" ".concat(n.layer):""," {")),o+=n.css,s&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}"),(s=n.sourceMap)&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),r.styleTagTransform(o,i,r.options)},remove:function(){var e;null!==(e=t).parentNode&&e.parentNode.removeChild(e)}})}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(i){var r=t[i];return void 0!==r||(r=t[i]={id:i,exports:{}},e[i](r,r.exports,n)),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{"use strict";var e=n(72),t=(e=n.n(e),n(825)),i=(t=n.n(t),n(659)),r=(i=n.n(i),n(56)),o=(r=n.n(r),n(540)),s=(o=n.n(o),n(113)),a=(s=n.n(s),n(143)),l={};l.styleTagTransform=s(),l.setAttributes=r(),l.insert=i().bind(null,"head"),l.domAPI=t(),l.insertStyleElement=o(),e()(a.A,l),a.A&&a.A.locals&&a.A.locals})(),(()=>{"use strict";var e,t,n,i,r,o,s={914:(e,t,n)=>{var i=n(483),r=n(557);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}n=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement);var h=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function g(e,t,n,i,r,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var p={},m=("children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){p[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];p[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){p[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){p[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){p[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){p[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){p[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){p[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){p[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)})),/[\-:]([a-z])/g);function _(e){return e[1].toUpperCase()}function v(e,t,n,i){var r,o=p.hasOwnProperty(t)?p[t]:null;(null!==o?0!==o.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,n,i){if(null==e||function(e,t,n,i){if(null===n||0!==n.type)switch(typeof t){case"function":case"symbol":return 1;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return}}(t,e,n,i))return 1;if(!i&&null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||e<1}}(n,o,i)&&(n=null),i||null===o?(r=t,(h.call(f,r)||!h.call(d,r)&&(c.test(r)?f[r]=!0:(d[r]=!0,0)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,i=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,_);p[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,_);p[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,_);p[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){p[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),p.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){p[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var y=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),L=(Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode"),Symbol.for("react.offscreen")),A=(Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker"),Symbol.iterator);function F(e){return null!==e&&"object"==typeof e&&"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var D,O=Object.assign;function z(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var N=!1;function G(e,t){if(!e||N)return"";N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(t){var i=t}Reflect.construct(e,[],t)}else{try{t.call()}catch(t){i=t}e.call(t.prototype)}else{try{throw Error()}catch(t){i=t}e()}}catch(t){if(t&&i&&"string"==typeof t.stack){for(var r,o=t.stack.split("\n"),s=i.stack.split("\n"),a=o.length-1,l=s.length-1;1<=a&&0<=l&&o[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==s[l]){if(1!==a||1!==l)do{if(a--,--l<0||o[a]!==s[l])return r="\n"+o[a].replace(" at new "," at "),r=e.displayName&&r.includes("<anonymous>")?r.replace("<anonymous>",e.displayName):r}while(1<=a&&0<=l);break}}}finally{N=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null!=t){if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case w:return"Fragment";case b:return"Portal";case C:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case k:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case R:var n=t.render;return(t=t.displayName)||(""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef");case M:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case P:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}}return null}(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function j(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function B(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function U(e){e._valueTracker||(e._valueTracker=function(e){var t,n,i=B(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set)return t=r.get,n=r.set,Object.defineProperty(e,i,{configurable:!0,get:function(){return t.call(this)},set:function(e){o=""+e,n.call(this,e)}}),Object.defineProperty(e,i,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[i]}}}(e))}function V(e){var t,n,i;if(e)return(t=e._valueTracker)?(n=t.getValue(),i="",(e=i=e?B(e)?e.checked?"true":"false":e.value:i)!==n&&(t.setValue(e),1)):1}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=j(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function H(e,t){K(e,t);var n=j(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return e.removeAttribute("value");t.hasOwnProperty("value")?Q(e,t.type,n):t.hasOwnProperty("defaultValue")&&Q(e,t.type,j(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Q(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var J=Array.isArray;function $(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+j(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,i&&(e[r].defaultSelected=!0);null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ee(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function te(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(J(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}n=t=null==t?"":t}e._wrapperState={initialValue:j(n)}}function ne(e,t){var n=j(t.value),i=j(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue)&&e.defaultValue!==n&&(e.defaultValue=n),null!=i&&(e.defaultValue=""+i)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function re(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?re(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}ae=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}};var se,ae,le="undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ae(e,t)}))}:ae;function ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return n.nodeValue=t}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ce=["Webkit","ms","Moz","O"];function de(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t){var i,r;t.hasOwnProperty(n)&&(i=0===n.indexOf("--"),r=de(n,t[n],i),"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r)}}Object.keys(he).forEach((function(e){ce.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pe(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function me(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function ve(e){return 3===(e=(e=e.target||e.srcElement||window).correspondingUseElement?e.correspondingUseElement:e).nodeType?e.parentNode:e}var ye=null,xe=null,be=null;function we(e){if(e=nr(e)){if("function"!=typeof ye)throw Error(o(280));var t=e.stateNode;t&&(t=rr(t),ye(e.stateNode,e.type,t))}}function Se(e){xe?be?be.push(e):be=[e]:xe=e}function Ce(){if(xe){var e=xe,t=be;if(be=xe=null,we(e),t)for(e=0;e<t.length;e++)we(t[e])}}function Ee(e,t){return e(t)}function ke(){}var Re=!1;function Te(e,t,n){if(Re)return e(t,n);Re=!0;try{Ee(e,t,n)}finally{Re=!1,null===xe&&null===be||(ke(),Ce())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var i=rr(n);if(null===i)return null;switch(n=i[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":e=!(i=(i=!i.disabled)||!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e));break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(n)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ae){Me=!1}var Le=!1,Ae=null,Fe=!1,De=null,Oe={onError:function(e){Le=!0,Ae=e}};function ze(e,t,n,i,r,o,s,a,l){Le=!1,Ae=null,function(e,t,n,i,r,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(Oe,arguments)}function Ne(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(e=t;!!(4098&(t=e).flags)&&(n=t.return),e=t.return;);return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null!==(t=null===t&&null!==(e=e.alternate)?e.memoizedState:t))return t.dehydrated}return null}function We(e){if(Ne(e)!==e)throw Error(o(188))}function je(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ne(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null===(i=r.return))break;n=i}else{if(r.child===s.child){for(s=r.child;s;){if(s===n)return We(r),e;if(s===i)return We(r),t;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var Be=r.unstable_scheduleCallback,Ue=r.unstable_cancelCallback,Ve=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Xe=r.unstable_now,Ze=r.unstable_getCurrentPriorityLevel,Ke=r.unstable_ImmediatePriority,He=r.unstable_UserBlockingPriority,qe=r.unstable_NormalPriority,Qe=r.unstable_LowPriority,Je=r.unstable_IdlePriority,$e=null,et=null,tt=Math.clz32||function(e){return 0==(e>>>=0)?32:31-(nt(e)/it|0)|0},nt=Math.log,it=Math.LN2,rt=64,ot=4194304;function st(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function at(e,t){var n=e.pendingLanes;if(0===n)return 0;var i,r=0,o=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!=a?0!=(i=a&~o)?r=st(i):0!=(s&=a)&&(r=st(s)):0!=(a=n&~o)?r=st(a):0!==s&&(r=st(s)),0===r)return 0;if(0!==t&&t!==r&&!(t&o)&&((o=r&-r)>=(s=t&-t)||16===o&&4194240&s))return t;if(!!(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-tt(t)),r|=e[n],t&=~o;return r}function lt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ut(){var e=rt;return!(4194240&(rt<<=1))&&(rt=64),e}function ht(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function ct(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-tt(t)]=n}function dt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-tt(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var ft=0;function gt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var pt,mt,_t,vt,yt,xt=!1,bt=[],wt=null,St=null,Ct=null,Et=new Map,kt=new Map,Rt=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":wt=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function Mt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&null!==(t=nr(t))&&mt(t)):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r)),e}function Pt(e){var t=tr(e.target);if(null!==t){var n=Ne(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,yt(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return e.blockedOn=3===n.tag?n.stateNode.containerInfo:null}e.blockedOn=null}function Lt(e){if(null===e.blockedOn){for(var t=e.targetContainers;0<t.length;){var n=Ut(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=nr(n))&&mt(t),e.blockedOn=n,0;var i=new(n=e.nativeEvent).constructor(n.type,n);_e=i,n.target.dispatchEvent(i),_e=null,t.shift()}return 1}}function At(e,t,n){Lt(e)&&n.delete(t)}function Ft(){xt=!1,null!==wt&&Lt(wt)&&(wt=null),null!==St&&Lt(St)&&(St=null),null!==Ct&&Lt(Ct)&&(Ct=null),Et.forEach(At),kt.forEach(At)}function Dt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ft)))}function Ot(e){function t(t){return Dt(t,e)}if(0<bt.length){Dt(bt[0],e);for(var n=1;n<bt.length;n++){var i=bt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==wt&&Dt(wt,e),null!==St&&Dt(St,e),null!==Ct&&Dt(Ct,e),Et.forEach(t),kt.forEach(t),n=0;n<Rt.length;n++)(i=Rt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Pt(n),null===n.blockedOn&&Rt.shift()}var zt=y.ReactCurrentBatchConfig,Nt=!0;function Gt(e,t,n,i){var r=ft,o=zt.transition;zt.transition=null;try{ft=1,jt(e,t,n,i)}finally{ft=r,zt.transition=o}}function Wt(e,t,n,i){var r=ft,o=zt.transition;zt.transition=null;try{ft=4,jt(e,t,n,i)}finally{ft=r,zt.transition=o}}function jt(e,t,n,i){if(Nt){var r=Ut(e,0,0,i);if(null===r)Ti(e,t,i,Bt,n),It(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return wt=Mt(wt,e,t,n,i,r),1;case"dragenter":return St=Mt(St,e,t,n,i,r),1;case"mouseover":return Ct=Mt(Ct,e,t,n,i,r),1;case"pointerover":var o=r.pointerId;return Et.set(o,Mt(Et.get(o)||null,e,t,n,i,r)),1;case"gotpointercapture":return o=r.pointerId,kt.set(o,Mt(kt.get(o)||null,e,t,n,i,r)),1}}(r,e,t,n,i))i.stopPropagation();else if(It(e,i),4&t&&-1<Tt.indexOf(e)){for(;null!==r;){var o=nr(r);if(null!==o&&pt(o),null===(o=Ut(e,0,0,i))&&Ti(e,t,i,Bt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Ti(e,t,i,null,n)}}var Bt=null;function Ut(e,t,n,i){if((Bt=null)!==(e=tr(e=ve(i))))if(null===(t=Ne(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bt=e,null}function Vt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Ke:return 1;case He:return 4;case qe:case Qe:return 16;case Je:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function Kt(){if(Zt)return Zt;for(var e=Xt,t=e.length,n=("value"in Yt?Yt.value:Yt.textContent),i=n.length,r=0;r<t&&e[r]===n[r];r++);for(var o=t-r,s=1;s<=o&&e[t-s]===n[i-s];s++);return Zt=n.slice(r,1<s?1-s:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=(e=10===e?13:e)||13===e?e:0}function qt(){return!0}function Qt(){return!1}function Jt(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?qt:Qt,this.isPropagationStopped=Qt,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}Pe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0};var $t,en,tn,nn=Jt(Pe),rn=Jt(Cn=O({},Pe,{view:0,detail:0})),on=O({},Cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tn&&(en=tn&&"mousemove"===e.type?($t=e.screenX-tn.screenX,e.screenY-tn.screenY):$t=0,tn=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:en}}),sn=Jt(on),an=Jt(O({},on,{dataTransfer:0})),ln=Jt(O({},Cn,{relatedTarget:0})),un=Jt(O({},Pe,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Jt(O({},Pe,{clipboardData:function(e){return("clipboardData"in e?e:window).clipboardData}})),cn=Jt(O({},Pe,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function mn(){return pn}var _n=Jt(O({},Cn,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Jt(O({},on,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Jt(O({},Cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),xn=Jt(O({},Pe,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Jt(O({},on,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=[9,13,27,32],Sn=n&&"CompositionEvent"in window,Cn=null,En=(n&&"documentMode"in document&&(Cn=document.documentMode),n&&"TextEvent"in window&&!Cn),kn=n&&(!Sn||Cn&&8<Cn&&Cn<=11),Rn=String.fromCharCode(32),Tn=!1;function In(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return 1;default:return}}function Mn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1,Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function An(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?Ln[e.type]:"textarea"===t}function Fn(e,t,n,i){Se(i),0<(t=Mi(t,"onChange")).length&&(n=new nn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Dn=null,On=null;function zn(e){wi(e,0)}function Nn(e){if(V(ir(e)))return e}function Gn(e,t){if("change"===e)return t}var Wn=!1;function jn(){Dn&&(Dn.detachEvent("onpropertychange",Bn),On=Dn=null)}function Bn(e){var t;"value"===e.propertyName&&Nn(On)&&(Fn(t=[],On,e,ve(e)),Te(zn,t))}function Un(e,t,n){"focusin"===e?(jn(),On=n,(Dn=t).attachEvent("onpropertychange",Bn)):"focusout"===e&&jn()}function Vn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Nn(On)}function Yn(e,t){if("click"===e)return Nn(t)}function Xn(e,t){if("input"===e||"change"===e)return Nn(t)}n&&(Cn=n&&((Pe="oninput"in document)||((on=document.createElement("div")).setAttribute("oninput","return;"),Pe="function"==typeof on.oninput),Pe),Wn=Cn&&(!document.documentMode||9<document.documentMode));var Zn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Kn(e,t){if(Zn(e,t))return 1;if("object"==typeof e&&null!==e&&"object"==typeof t&&null!==t){var n=Object.keys(e),i=Object.keys(t);if(n.length===i.length){for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!Zn(e[r],t[r]))return}return 1}}}function Hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qn(e,t){var n,i=Hn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&t<=n)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Hn(i)}}function Qn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function Jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var $n=n&&"documentMode"in document&&document.documentMode<=11,ei=null,ti=null,ni=null,ii=!1;function ri(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ii||null==ei||ei!==Y(i)||(i="selectionStart"in(i=ei)&&Jn(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ni&&Kn(ni,i))||(ni=i,0<(i=Mi(ti,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ei))}function oi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var si={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionend:oi("Transition","TransitionEnd")},ai={},li={};function ui(e){if(ai[e])return ai[e];if(si[e]){var t,n=si[e];for(t in n)if(n.hasOwnProperty(t)&&t in li)return ai[e]=n[t]}return e}n&&(li=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);var hi=ui("animationend"),ci=ui("animationiteration"),di=ui("animationstart"),fi=ui("transitionend"),gi=new Map,pi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(e,t){gi.set(e,t),l(t,[e])}for(var _i=0;_i<pi.length;_i++){var vi=pi[_i];mi(vi.toLowerCase(),"on"+(vi[0].toUpperCase()+vi.slice(1)))}mi(hi,"onAnimationEnd"),mi(ci,"onAnimationIteration"),mi(di,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(fi,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xi=new Set("cancel close invalid load scroll toggle".split(" ").concat(yi));function bi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(){if(ze.apply(this,arguments),Le){if(!Le)throw Error(o(198));var e=Ae;Le=!1,Ae=null,Fe||(Fe=!0,De=e)}}(i,t,void 0,e),e.currentTarget=null}function wi(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var i=(r=e[n]).event,r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=(u=r[s]).instance,l=u.currentTarget,u=u.listener;if(a!==o&&i.isPropagationStopped())break e;bi(i,u,l),o=a}else for(s=0;s<r.length;s++){if(a=(u=r[s]).instance,l=u.currentTarget,u=u.listener,a!==o&&i.isPropagationStopped())break e;bi(i,u,l),o=a}}}if(Fe)throw e=De,Fe=!1,De=null,e}function Si(e,t){var n=t[Ji],i=e+"__bubble";(n=void 0===n?t[Ji]=new Set:n).has(i)||(Ri(t,e,2,!1),n.add(i))}function Ci(e,t,n){var i=0;t&&(i|=4),Ri(n,e,i,t)}var Ei="_reactListening"+Math.random().toString(36).slice(2);function ki(e){var t;e[Ei]||(e[Ei]=!0,s.forEach((function(t){"selectionchange"!==t&&(xi.has(t)||Ci(t,!1,e),Ci(t,!0,e))})),null===(t=9===e.nodeType?e:e.ownerDocument))||t[Ei]||Ci("selectionchange",!(t[Ei]=!0),t)}function Ri(e,t,n,i){switch(Vt(t)){case 1:var r=Gt;break;case 4:r=Wt;break;default:r=jt}n=r.bind(null,t,n,e),r=!(!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t)||void 0,i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ti(e,t,n,i,r){var o=i;if(!(1&t||2&t||null===i))e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=tr(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue e}a=a.parentNode}}i=i.return}Te((function(){var i,r,s,a=o,l=ve(n),u=[];e:{var h=gi.get(e);if(void 0!==h){var c=nn,d=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=_n;break;case"focusin":d="focus",c=ln;break;case"focusout":d="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case hi:case ci:case di:c=un;break;case fi:c=xn;break;case"scroll":c=rn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=vn}for(var f,g=!(m=!!(4&t))&&"scroll"===e,p=m?null!==h?h+"Capture":null:h,m=[],_=a;null!==_;){var v=(f=_).stateNode;if(5===f.tag&&null!==v&&(f=v,null!==p)&&null!=(v=Ie(_,p))&&m.push(Ii(_,v,f)),g)break;_=_.return}0<m.length&&(h=new c(h,d,null,n,l),u.push({event:h,listeners:m}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(h="mouseover"===e||"pointerover"===e)||n===_e||!(d=n.relatedTarget||n.fromElement)||!tr(d)&&!d[Qi])&&(c||h)&&(h=l.window===l?l:(h=l.ownerDocument)?h.defaultView||h.parentWindow:window,c?(c=a,null!==(d=(d=n.relatedTarget||n.toElement)?tr(d):null)&&(d!==(g=Ne(d))||5!==d.tag&&6!==d.tag)&&(d=null)):(c=null,d=a),c!==d)){if(m=sn,v="onMouseLeave",p="onMouseEnter",_="mouse","pointerout"!==e&&"pointerover"!==e||(m=vn,v="onPointerLeave",p="onPointerEnter",_="pointer"),g=null==c?h:ir(c),f=null==d?h:ir(d),(h=new m(v,_+"leave",c,n,l)).target=g,h.relatedTarget=f,v=null,tr(l)===a&&((m=new m(p,_+"enter",d,n,l)).target=f,m.relatedTarget=g,v=m),g=v,c&&d)e:{for(p=d,_=0,f=m=c;f;f=Pi(f))_++;for(f=0,v=p;v;v=Pi(v))f++;for(;0<_-f;)m=Pi(m),_--;for(;0<f-_;)p=Pi(p),f--;for(;_--;){if(m===p||null!==p&&m===p.alternate)break e;m=Pi(m),p=Pi(p)}m=null}else m=null;null!==c&&Li(u,h,c,m,!1),null!==d&&null!==g&&Li(u,g,d,m,!0)}switch("select"===(c=(h=a?ir(a):window).nodeName&&h.nodeName.toLowerCase())||"input"===c&&"file"===h.type?i=Gn:An(h)?Wn?i=Xn:(i=Vn,r=Un):!(c=h.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==h.type&&"radio"!==h.type||(i=Yn),(i=i&&i(e,a))?Fn(u,i,n,l):(r&&r(e,h,a),"focusout"===e&&(r=h._wrapperState)&&r.controlled&&"number"===h.type&&Q(h,"number",h.value)),r=a?ir(a):window,e){case"focusin":!An(r)&&"true"!==r.contentEditable||(ei=r,ti=a,ni=null);break;case"focusout":ni=ti=ei=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":ii=!1,ri(u,n,l);break;case"selectionchange":if($n)break;case"keydown":case"keyup":ri(u,n,l)}if(Sn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Pn?In(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(kn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Pn&&(s=Kt()):(Xt="value"in(Yt=l)?Yt.value:Yt.textContent,Pn=!0)),0<(r=Mi(a,y)).length)&&(y=new cn(y,e,null,n,l),u.push({event:y,listeners:r}),s||null!==(s=Mn(n)))&&(y.data=s),(s=En?function(t,n){switch(e){case"compositionend":return Mn(n);case"keypress":return 32!==n.which?null:(Tn=!0,Rn);case"textInput":return(t=n.data)===Rn&&Tn?null:t;default:return null}}(0,n):function(e,t){if(Pn)return"compositionend"===e||!Sn&&In(e,t)?(e=Kt(),Zt=Xt=Yt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(a=Mi(a,"onBeforeInput")).length&&(l=new cn("onBeforeInput","beforeinput",null,n,l),u.push({event:l,listeners:a}),l.data=s)}wi(u,t)}))}function Ii(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Ie(e,n))&&i.unshift(Ii(e,o,r)),null!=(o=Ie(e,t)))&&i.push(Ii(e,o,r)),e=e.return}return i}function Pi(e){if(null===e)return null;for(;(e=e.return)&&5!==e.tag;);return e||null}function Li(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==u&&(a=u,r?null!=(l=Ie(n,o))&&s.unshift(Ii(n,l,a)):null!=(l=Ie(n,o))&&s.push(Ii(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ai=/\r\n?/g,Fi=/\u0000|\uFFFD/g;function Di(e){return("string"==typeof e?e:""+e).replace(Ai,"\n").replace(Fi,"")}function Oi(e,t,n){if(t=Di(t),Di(e)!==t&&n)throw Error(o(425))}function zi(){}var Ni=null,Gi=null;function Wi(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ji="function"==typeof setTimeout?setTimeout:void 0,Bi="function"==typeof clearTimeout?clearTimeout:void 0,Ui="function"==typeof Promise?Promise:void 0,Vi="function"==typeof queueMicrotask?queueMicrotask:void 0!==Ui?function(e){return Ui.resolve(null).then(e).catch(Yi)}:ji;function Yi(e){setTimeout((function(){throw e}))}function Xi(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),Ot(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++}while(n=r);Ot(t)}function Zi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Ki(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hi="__reactFiber$"+(on=Math.random().toString(36).slice(2)),qi="__reactProps$"+on,Qi="__reactContainer$"+on,Ji="__reactEvents$"+on,$i="__reactListeners$"+on,er="__reactHandles$"+on;function tr(e){var t=e[Hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qi]||n[Hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ki(e);null!==e;){if(n=e[Hi])return n;e=Ki(e)}return t}n=(e=n).parentNode}return null}function nr(e){return!(e=e[Hi]||e[Qi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ir(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function rr(e){return e[qi]||null}var or=[],sr=-1;function ar(e){return{current:e}}function lr(e){sr<0||(e.current=or[sr],or[sr]=null,sr--)}function ur(e,t){or[++sr]=e.current,e.current=t}var hr={},cr=ar(hr),dr=ar(!1),fr=hr;function gr(e,t){var n=e.type.contextTypes;if(!n)return hr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function pr(e){return null!=e.childContextTypes}function mr(){lr(dr),lr(cr)}function _r(e,t,n){if(cr.current!==hr)throw Error(o(168));ur(cr,t),ur(dr,n)}function vr(e,t,n){var i,r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return O({},n,r)}function yr(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hr,fr=cr.current,ur(cr,e),ur(dr,dr.current)}function xr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=vr(e,t,fr),i.__reactInternalMemoizedMergedChildContext=e,lr(dr),lr(cr),ur(cr,e)):lr(dr),ur(dr,n)}var br=null,wr=!1,Sr=!1;function Cr(e){null===br?br=[e]:br.push(e)}function Er(){if(!Sr&&null!==br){Sr=!0;var e=0,t=ft;try{var n=br;for(ft=1;e<n.length;e++)for(var i=n[e];null!==(i=i(!0)););br=null,wr=!1}catch(t){throw null!==br&&(br=br.slice(e+1)),Be(Ke,Er),t}finally{ft=t,Sr=!1}}return null}var kr=[],Rr=0,Tr=null,Ir=0,Mr=[],Pr=0,Lr=null,Ar=1,Fr="";function Dr(e,t){kr[Rr++]=Ir,kr[Rr++]=Tr,Tr=e,Ir=t}function Or(e,t,n){Mr[Pr++]=Ar,Mr[Pr++]=Fr,Mr[Pr++]=Lr,Lr=e;var i,r=Ar,o=(e=Fr,32-tt(r)-1),s=(r&=~(1<<o),n+=1,32-tt(t)+o);Fr=30<s?(s=(r&(1<<(i=o-o%5))-1).toString(32),r>>=i,o-=i,Ar=1<<32-tt(t)+o|n<<o|r,s+e):(Ar=1<<s|n<<o|r,e)}function zr(e){null!==e.return&&(Dr(e,1),Or(e,1,0))}function Nr(e){for(;e===Tr;)Tr=kr[--Rr],kr[Rr]=null,Ir=kr[--Rr],kr[Rr]=null;for(;e===Lr;)Lr=Mr[--Pr],Mr[Pr]=null,Fr=Mr[--Pr],Mr[Pr]=null,Ar=Mr[--Pr],Mr[Pr]=null}var Gr=null,Wr=null,jr=!1,Br=null;function Ur(e,t){var n=$l(5,null,null,0);n.elementType="DELETED",n.stateNode=t,null===(t=(n.return=e).deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Vr(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Gr=e,Wr=Zi(t.firstChild),1);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Gr=e,Wr=null,1);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Lr?{id:Ar,overflow:Fr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=$l(18,null,null,0)).stateNode=t,(n.return=e).child=n,Gr=e,Wr=null,1);default:return}}function Yr(e){return!(!(1&e.mode)||128&e.flags)}function Xr(e){if(jr)if(Wr){var t=Wr;if(!Vr(e,Wr)){if(Yr(e))throw Error(o(418));var n=Zi(t.nextSibling),i=Gr;n&&Vr(e,n)?Ur(i,t):(e.flags=-4097&e.flags|2,jr=!1,Gr=e)}}else{if(Yr(e))throw Error(o(418));e.flags=-4097&e.flags|2,jr=!1,Gr=e}}function Zr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Gr=e}function Kr(e){if(e!==Gr)return!1;if(!jr)return Zr(e),!(jr=!0);var t;if(t=(t=(t=3!==e.tag)&&!(t=5!==e.tag)?"head"!==(t=e.type)&&"body"!==t&&!Wi(e.type,e.memoizedProps):t)&&Wr){if(Yr(e))throw Hr(),Error(o(418));for(;t;)Ur(e,t),t=Zi(t.nextSibling)}if(Zr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Wr=Zi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Wr=null}}else Wr=Gr?Zi(e.stateNode.nextSibling):null;return!0}function Hr(){for(var e=Wr;e;)e=Zi(e.nextSibling)}function qr(){Wr=Gr=null,jr=!1}function Qr(e){null===Br?Br=[e]:Br.push(e)}var Jr=y.ReactCurrentBatchConfig;function $r(e,t){if(e&&e.defaultProps)for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var eo=ar(null),to=null,no=null,io=null;function ro(){io=no=to=null}function oo(e){var t=eo.current;lr(eo),e._currentValue=t}function so(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ao(e,t){(io=no=null)!==(e=(to=e).dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(ea=!0),e.firstContext=null)}function lo(e){var t=e._currentValue;if(io!==e)if(e={context:e,memoizedValue:t,next:null},null===no){if(null===to)throw Error(o(308));no=e,to.dependencies={lanes:0,firstContext:e}}else no=no.next=e;return t}var uo=null;function ho(e){null===uo?uo=[e]:uo.push(e)}function co(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,ho(t)):(n.next=r.next,r.next=n),t.interleaved=n,fo(e,i)}function fo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),e=(n=e).return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),e=(n=e).return;return 3===n.tag?n.stateNode:null}var go=!1;function po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _o(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vo(e,t,n){var i,r;return null===(r=e.updateQueue)?null:(r=r.shared,2&tl?(null===(i=r.pending)?t.next=t:(t.next=i.next,i.next=t),r.pending=t):(null===(i=r.interleaved)?(t.next=t,ho(r)):(t.next=i.next,i.next=t),r.interleaved=t),fo(e,n))}function yo(e,t,n){var i;null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)&&(i=t.lanes,n|=i&=e.pendingLanes,dt(e,t.lanes=n))}function xo(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null}}while(null===o?r=o=s:o=o.next=s,null!==(n=n.next));null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=n}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bo(e,t,n,i){var r,o,s=e.updateQueue,a=(go=!1,s.firstBaseUpdate),l=s.lastBaseUpdate;if(null!==(c=s.shared.pending)&&(s.shared.pending=null,o=(r=c).next,(r.next=null)===l?a=o:l.next=o,l=r,null!==(h=e.alternate))&&(c=(h=h.updateQueue).lastBaseUpdate)!==l&&(null===c?h.firstBaseUpdate=o:c.next=o,h.lastBaseUpdate=r),null!==a){for(var u=s.baseState,h=(l=0,o=r=null),c=a;;){var d=c.lane,f=c.eventTime;if((i&d)===d){null!==h&&(h=h.next={eventTime:f,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=e,p=c;switch(d=t,f=n,p.tag){case 1:if("function"==typeof(g=p.payload)){u=g.call(f,u,d);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(d="function"==typeof(g=p.payload)?g.call(f,u,d):g))break e;u=O({},u,d);break e;case 2:go=!0}}null!==c.callback&&0!==c.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[c]:d.push(c))}else f={eventTime:f,lane:d,tag:c.tag,payload:c.payload,callback:c.callback,next:null},null===h?(o=h=f,r=u):h=h.next=f,l|=d;if(null===(c=c.next)){if(null===(c=s.shared.pending))break;c=(d=c).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===h&&(r=u),s.baseState=r,s.firstBaseUpdate=o,s.lastBaseUpdate=h,null!==(t=s.shared.interleaved))for(s=t;l|=s.lane,(s=s.next)!==t;);else null===a&&(s.shared.lanes=0);ul|=l,e.lanes=l,e.memoizedState=u}}function wo(e,t,n){if(e=t.effects,(t.effects=null)!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!=typeof r)throw Error(o(191,r));r.call(i)}}}var So=(new i.Component).refs;function Co(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Eo={isMounted:function(e){return!!(e=e._reactInternals)&&Ne(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Rl(),r=Tl(e),o=_o(i,r);o.payload=t,null!=n&&(o.callback=n),null!==(t=vo(e,o,r))&&(Il(t,e,r,i),yo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Rl(),r=Tl(e),o=_o(i,r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=vo(e,o,r))&&(Il(t,e,r,i),yo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rl(),i=Tl(e),r=_o(n,i);r.tag=2,null!=t&&(r.callback=t),null!==(t=vo(e,r,i))&&(Il(t,e,i,n),yo(t,e,i))}};function ko(e,t,n,i,r,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&Kn(n,i)&&Kn(r,o))}function Ro(e,t,n){var i=!1,r=hr,o=t.contextType;t=new t(n,o="object"==typeof o&&null!==o?lo(o):(r=pr(t)?fr:cr.current,(i=null!=(i=t.contextTypes))?gr(e,r):hr)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Eo,(e.stateNode=t)._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o)}function To(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Eo.enqueueReplaceState(t,t.state,null)}function Io(e,t,n,i){var r=e.stateNode,o=(r.props=n,r.state=e.memoizedState,r.refs=So,po(e),t.contextType);"object"==typeof o&&null!==o?r.context=lo(o):(o=pr(t)?fr:cr.current,r.context=gr(e,o)),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Co(e,0,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Eo.enqueueReplaceState(r,r.state,null),bo(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}function Mo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}var r,s;if(i)return r=i,s=""+e,null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=r.refs;t===So&&(t=r.refs={}),null===e?delete t[s]:t[s]=e})._stringRef=s,t);throw Error(o(147,e))}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Po(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lo(e){return(0,e._init)(e._payload)}function Ao(e){function t(t,n){var i;e&&(null===(i=t.deletions)?(t.deletions=[n],t.flags|=16):i.push(n))}function n(n,i){if(e)for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=tu(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null===(i=t.alternate)||(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?(t=ou(n,e.mode,i)).return=e:(t=r(t,n)).return=e,t}function u(e,t,n,i){var o=n.type;return o===w?c(e,t,n.props.children,i,n.key):(null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===P&&Lo(o)===t.type)?(i=r(t,n.props)).ref=Mo(0,t,n):(i=nu(n.type,n.key,n.props,null,e.mode,i)).ref=Mo(0,t,n),i.return=e,i)}function h(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=su(n,e.mode,i)).return=e:(t=r(t,n.children||[])).return=e,t}function c(e,t,n,i,o){return null===t||7!==t.tag?(t=iu(n,e.mode,i,o)).return=e:(t=r(t,n)).return=e,t}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=ou(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=nu(t.type,t.key,t.props,null,e.mode,n)).ref=Mo(0,null,t),n.return=e,n;case b:return(t=su(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(J(t)||F(t))return(t=iu(t,e.mode,n,null)).return=e,t;Po(0,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?u(e,t,n,i):null;case b:return n.key===r?h(e,t,n,i):null;case P:return f(e,t,(r=n._init)(n._payload),i)}if(J(n)||F(n))return null!==r?null:c(e,t,n,i,null);Po(0,n)}return null}function g(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case x:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case b:return h(t,e=e.get(null===i.key?n:i.key)||null,i,r);case P:return g(e,t,n,(0,i._init)(i._payload),r)}if(J(i)||F(i))return c(t,e=e.get(n)||null,i,r,null);Po(0,i)}return null}return function l(u,h,c,p){if("object"==typeof(c="object"==typeof c&&null!==c&&c.type===w&&null===c.key?c.props.children:c)&&null!==c){switch(c.$$typeof){case x:e:{for(var m=c.key,_=h;null!==_;){if(_.key===m){if((m=c.type)===w){if(7===_.tag){n(u,_.sibling),(h=r(_,c.props.children)).return=u,u=h;break e}}else if(_.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===P&&Lo(m)===_.type){n(u,_.sibling),(h=r(_,c.props)).ref=Mo(0,_,c),h.return=u,u=h;break e}n(u,_);break}t(u,_),_=_.sibling}u=c.type===w?((h=iu(c.props.children,u.mode,p,c.key)).return=u,h):((p=nu(c.type,c.key,c.props,null,u.mode,p)).ref=Mo(0,h,c),p.return=u,p)}return a(u);case b:e:{for(_=c.key;null!==h;){if(h.key===_){if(4===h.tag&&h.stateNode.containerInfo===c.containerInfo&&h.stateNode.implementation===c.implementation){n(u,h.sibling),(h=r(h,c.children||[])).return=u,u=h;break e}n(u,h);break}t(u,h),h=h.sibling}(h=su(c,u.mode,p)).return=u,u=h}return a(u);case P:return l(u,h,(_=c._init)(c._payload),p)}if(J(c)){for(var v=u,y=h,S=c,C=p,E=null,k=null,R=y,T=y=0,I=null;null!==R&&T<S.length;T++){R.index>T?(I=R,R=null):I=R.sibling;var M=f(v,R,S[T],C);if(null===M){null===R&&(R=I);break}e&&R&&null===M.alternate&&t(v,R),y=s(M,y,T),null===k?E=M:k.sibling=M,k=M,R=I}if(T===S.length)n(v,R);else if(null===R)for(;T<S.length;T++)null!==(R=d(v,S[T],C))&&(y=s(R,y,T),null===k?E=R:k.sibling=R,k=R);else{for(R=i(v,R);T<S.length;T++)null!==(I=g(R,v,T,S[T],C))&&(e&&null!==I.alternate&&R.delete(null===I.key?T:I.key),y=s(I,y,T),null===k?E=I:k.sibling=I,k=I);e&&R.forEach((function(e){return t(v,e)}))}return jr&&Dr(v,T),E}if(F(c)){var L=u,A=h,D=c,O=p,z=F(D);if("function"!=typeof z)throw Error(o(150));if(null==(D=z.call(D)))throw Error(o(151));for(var N=z=null,G=A,W=A=0,j=null,B=D.next();null!==G&&!B.done;W++,B=D.next()){G.index>W?(j=G,G=null):j=G.sibling;var U=f(L,G,B.value,O);if(null===U){null===G&&(G=j);break}e&&G&&null===U.alternate&&t(L,G),A=s(U,A,W),null===N?z=U:N.sibling=U,N=U,G=j}if(B.done)n(L,G);else if(null===G)for(;!B.done;W++,B=D.next())null!==(B=d(L,B.value,O))&&(A=s(B,A,W),null===N?z=B:N.sibling=B,N=B);else{for(G=i(L,G);!B.done;W++,B=D.next())null!==(B=g(G,L,W,B.value,O))&&(e&&null!==B.alternate&&G.delete(null===B.key?W:B.key),A=s(B,A,W),null===N?z=B:N.sibling=B,N=B);e&&G.forEach((function(e){return t(L,e)}))}return jr&&Dr(L,W),z}Po(0,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==h&&6===h.tag?(n(u,h.sibling),(h=r(h,c)).return=u):(n(u,h),(h=ou(c,u.mode,p)).return=u),a(u=h)):n(u,h)}}var Fo=Ao(!0),Do=Ao(!1),Oo={},zo=ar(Oo),No=ar(Oo),Go=ar(Oo);function Wo(e){if(e===Oo)throw Error(o(174));return e}function jo(e,t){switch(ur(Go,t),ur(No,e),ur(zo,Oo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}lr(zo),ur(zo,t)}function Bo(){lr(zo),lr(No),lr(Go)}function Uo(e){Wo(Go.current);var t=Wo(zo.current),n=oe(t,e.type);t!==n&&(ur(No,e),ur(zo,n))}function Vo(e){No.current===e&&(lr(zo),lr(No))}var Yo=ar(0);function Xo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zo=[];function Ko(){for(var e=0;e<Zo.length;e++)Zo[e]._workInProgressVersionPrimary=null;Zo.length=0}var Ho=y.ReactCurrentDispatcher,qo=y.ReactCurrentBatchConfig,Qo=0,Jo=null,$o=null,es=null,ts=!1,ns=!1,is=0,rs=0;function os(){throw Error(o(321))}function ss(e,t){if(null!==t){for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return;return 1}}function as(e,t,n,i,r,s){if(Qo=s,(Jo=t).memoizedState=null,t.updateQueue=null,t.lanes=0,Ho.current=null===e||null===e.memoizedState?js:Bs,e=n(i,r),ns){s=0;do{if(ns=!1,is=0,25<=s)throw Error(o(301))}while(s+=1,es=$o=null,t.updateQueue=null,Ho.current=Us,e=n(i,r),ns)}if(Ho.current=Ws,t=null!==$o&&null!==$o.next,Qo=0,es=$o=Jo=null,ts=!1,t)throw Error(o(300));return e}function ls(){var e=0!==is;return is=0,e}function us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===es?Jo.memoizedState=es=e:es=es.next=e,es}function hs(){e=null===$o?null!==(e=Jo.alternate)?e.memoizedState:null:$o.next;var e,t=null===es?Jo.memoizedState:es.next;if(null!==t)es=t,$o=e;else{if(null===e)throw Error(o(310));e={memoizedState:($o=e).memoizedState,baseState:$o.baseState,baseQueue:$o.baseQueue,queue:$o.queue,next:null},null===es?Jo.memoizedState=es=e:es=es.next=e}return es}function cs(e,t){return"function"==typeof t?t(e):t}function ds(e){var t=hs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i,r=(a=$o).baseQueue;if(null!==(s=n.pending)&&(null!==r&&(i=r.next,r.next=s.next,s.next=i),a.baseQueue=r=s,n.pending=null),null!==r){var s=r.next,a=a.baseState,l=i=null,u=null,h=s;do{var c,d=h.lane}while((Qo&d)===d?(null!==u&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),a=h.hasEagerState?h.eagerState:e(a,h.action)):(c={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},null===u?(l=u=c,i=a):u=u.next=c,Jo.lanes|=d,ul|=d),null!==(h=h.next)&&h!==s);null===u?i=a:u.next=l,Zn(a,t.memoizedState)||(ea=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=u,n.lastRenderedState=a}if(null!==(e=n.interleaved))for(r=e;s=r.lane,Jo.lanes|=s,ul|=s,(r=r.next)!==e;);else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fs(e){var t=hs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;for(var a=r=r.next;s=e(s,a.action),(a=a.next)!==r;);Zn(s,t.memoizedState)||(ea=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function gs(){}function ps(e,t){var n=Jo,i=hs(),r=t(),s=!Zn(i.memoizedState,r);if(s&&(i.memoizedState=r,ea=!0),i=i.queue,Rs(vs.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==es&&1&es.memoizedState.tag){if(n.flags|=2048,ws(9,_s.bind(null,n,i,r,t),void 0,null),null===nl)throw Error(o(349));!(30&Qo)&&ms(n,t,r)}return r}function ms(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Jo.updateQueue)?(Jo.updateQueue=t={lastEffect:null,stores:null}).stores=[e]:null===(n=t.stores)?t.stores=[e]:n.push(e)}function _s(e,t,n,i){t.value=n,t.getSnapshot=i,ys(t)&&xs(e)}function vs(e,t,n){return n((function(){ys(t)&&xs(e)}))}function ys(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(e){return 1}}function xs(e){var t=fo(e,1);null!==t&&Il(t,e,1,-1)}function bs(e){var t=us();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(t.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e}).dispatch=function(e,t,n){var i=Tl(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(zs(e))Ns(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s,a=t.lastRenderedState,l=o(a,n);if(r.hasEagerState=!0,r.eagerState=l,Zn(l,a))return null===(s=t.interleaved)?(r.next=r,ho(t)):(r.next=s.next,s.next=r),void(t.interleaved=r)}catch(e){}null!==(n=co(e,t,r,i))&&(Il(n,e,i,r=Rl()),Gs(n,t,i))}}.bind(null,Jo,e),[t.memoizedState,e]}function ws(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Jo.updateQueue)?(Jo.updateQueue=t={lastEffect:null,stores:null}).lastEffect=e.next=e:null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,(n.next=e).next=i,t.lastEffect=e),e}function Ss(){return hs().memoizedState}function Cs(e,t,n,i){var r=us();Jo.flags|=e,r.memoizedState=ws(1|t,n,void 0,void 0===i?null:i)}function Es(e,t,n,i){var r=hs(),o=void(i=void 0===i?null:i);if(null!==$o){var s=$o.memoizedState;if(o=s.destroy,null!==i&&ss(i,s.deps))return void(r.memoizedState=ws(t,n,o,i))}Jo.flags|=e,r.memoizedState=ws(1|t,n,o,i)}function ks(e,t){return Cs(8390656,8,e,t)}function Rs(e,t){return Es(2048,8,e,t)}function Ts(e,t){return Es(4,2,e,t)}function Is(e,t){return Es(4,4,e,t)}function Ms(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ps(e,t,n){return n=null!=n?n.concat([e]):null,Es(4,4,Ms.bind(null,t,e),n)}function Ls(){}function As(e,t){var n=hs(),i=(t=void 0===t?null:t,n.memoizedState);return null!==i&&null!==t&&ss(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Fs(e,t){var n=hs(),i=(t=void 0===t?null:t,n.memoizedState);return null!==i&&null!==t&&ss(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ds(e,t,n){return 21&Qo?(Zn(n,t)||(n=ut(),Jo.lanes|=n,ul|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ea=!0),e.memoizedState=n)}function Os(){return hs().memoizedState}function zs(e){var t=e.alternate;return e===Jo||null!==t&&t===Jo}function Ns(e,t){ns=ts=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gs(e,t,n){var i;4194240&n&&(i=t.lanes,n|=i&=e.pendingLanes,dt(e,t.lanes=n))}var Ws={readContext:lo,useCallback:os,useContext:os,useEffect:os,useImperativeHandle:os,useInsertionEffect:os,useLayoutEffect:os,useMemo:os,useReducer:os,useRef:os,useState:os,useDebugValue:os,useDeferredValue:os,useTransition:os,useMutableSource:os,useSyncExternalStore:os,useId:os,unstable_isNewReconciler:!1},js={readContext:lo,useCallback:function(e,t){return us().memoizedState=[e,void 0===t?null:t],e},useContext:lo,useEffect:ks,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Cs(4194308,4,Ms.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cs(4,2,e,t)},useMemo:function(e,t){var n=us();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=us();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(i.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=function(e,t,n){var i=Tl(e);n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},zs(e)?Ns(t,n):null!==(n=co(e,t,n,i))&&(Il(n,e,i,Rl()),Gs(n,t,i))}.bind(null,Jo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},us().memoizedState=e},useState:bs,useDebugValue:Ls,useDeferredValue:function(e){return us().memoizedState=e},useTransition:function(){var e=(t=bs(!1))[0],t=function(e,t){var n=ft,i=(ft=0!==n&&n<4?n:4,e(!0),qo.transition);qo.transition={};try{e(!1),t()}finally{ft=n,qo.transition=i}}.bind(null,t[1]);return[e,us().memoizedState=t]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Jo,r=us();if(jr){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===nl)throw Error(o(349));!(30&Qo)&&ms(i,t,n)}var s={value:r.memoizedState=n,getSnapshot:t};return r.queue=s,ks(vs.bind(null,i,s,e),[e]),i.flags|=2048,ws(9,_s.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e,t=us(),n=nl.identifierPrefix;return jr?(e=Fr,n=":"+n+"R"+(e=(Ar&~(1<<32-tt(Ar)-1)).toString(32)+e),0<(e=is++)&&(n+="H"+e.toString(32)),n+=":"):n=":"+n+"r"+(e=rs++).toString(32)+":",t.memoizedState=n},unstable_isNewReconciler:!1},Bs={readContext:lo,useCallback:As,useContext:lo,useEffect:Rs,useImperativeHandle:Ps,useInsertionEffect:Ts,useLayoutEffect:Is,useMemo:Fs,useReducer:ds,useRef:Ss,useState:function(){return ds(cs)},useDebugValue:Ls,useDeferredValue:function(e){return Ds(hs(),$o.memoizedState,e)},useTransition:function(){return[ds(cs)[0],hs().memoizedState]},useMutableSource:gs,useSyncExternalStore:ps,useId:Os,unstable_isNewReconciler:!1},Us={readContext:lo,useCallback:As,useContext:lo,useEffect:Rs,useImperativeHandle:Ps,useInsertionEffect:Ts,useLayoutEffect:Is,useMemo:Fs,useReducer:fs,useRef:Ss,useState:function(){return fs(cs)},useDebugValue:Ls,useDeferredValue:function(e){var t=hs();return null===$o?t.memoizedState=e:Ds(t,$o.memoizedState,e)},useTransition:function(){return[fs(cs)[0],hs().memoizedState]},useMutableSource:gs,useSyncExternalStore:ps,useId:Os,unstable_isNewReconciler:!1};function Vs(e,t){try{for(var n="",i=t;n+=function(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return G(e.type,!1);case 11:return G(e.type.render,!1);case 1:return G(e.type,!0);default:return""}}(i),i=i.return;);var r=n}catch(e){r="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:r,digest:null}}function Ys(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Xs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var Zs="function"==typeof WeakMap?WeakMap:Map;function Ks(e,t,n){(n=_o(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){_l||(_l=!0,vl=i),Xs(0,t)},n}function Hs(e,t,n){(n=_o(-1,n)).tag=3;var i,r=e.type.getDerivedStateFromError;return null!==("function"==typeof r&&(i=t.value,n.payload=function(){return r(i)},n.callback=function(){Xs(0,t)}),e=e.stateNode)&&"function"==typeof e.componentDidCatch&&(n.callback=function(){Xs(0,t),"function"!=typeof r&&(null===yl?yl=new Set([this]):yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function qs(e,t,n){var i,r=e.pingCache;null===r?(r=e.pingCache=new Zs,i=new Set,r.set(t,i)):void 0===(i=r.get(t))&&(i=new Set,r.set(t,i)),i.has(n)||(i.add(n),e=function(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=Rl(),e.pingedLanes|=e.suspendedLanes&n,nl===e&&(rl&n)===n&&(4===al||3===al&&(130023424&rl)===rl&&Xe()-gl<500?Gl(e,0):cl|=n),Ml(e,t)}.bind(null,e,t,n),t.then(e,e))}function Qs(e){do{var t=(t=13===e.tag)&&(null===(t=e.memoizedState)||null!==t.dehydrated);if(t)return e}while(null!==(e=e.return));return null}function Js(e,t,n,i,r){1&e.mode?(e.flags|=65536,e.lanes=r):e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=_o(-1,1)).tag=2,vo(n,t,1))),n.lanes|=1)}var $s=y.ReactCurrentOwner,ea=!1;function ta(e,t,n,i){t.child=null===e?Do(t,null,n,i):Fo(t,e.child,n,i)}function na(e,t,n,i,r){n=n.render;var o=t.ref;return ao(t,r),i=as(e,t,n,i,o,r),n=ls(),null===e||ea?(jr&&n&&zr(t),t.flags|=1,ta(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ba(e,t,r))}function ia(e,t,n,i,r){var o;if(null===e)return"function"!=typeof(o=n.type)||eu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=nu(n.type,null,i,t,t.mode,r)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=o,ra(e,t,o,i,r));if(o=e.child,!(e.lanes&r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Kn)(s,i)&&e.ref===t.ref)return ba(e,t,r)}return t.flags|=1,(e=tu(o,i)).ref=t.ref,(e.return=t).child=e}function ra(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(Kn(o,i)&&e.ref===t.ref){if(ea=!1,t.pendingProps=i=o,!(e.lanes&r))return t.lanes=e.lanes,ba(e,t,r);131072&e.flags&&(ea=!0)}}return aa(e,t,n,i,r)}function oa(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ur(sl,ol),ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,ur(sl,ol),ol|=i}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ur(sl,ol),ol|=n;else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,ur(sl,ol),ol|=i;return ta(e,t,r,n),t.child}function sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function aa(e,t,n,i,r){var o=gr(t,pr(n)?fr:cr.current);return ao(t,r),n=as(e,t,n,i,o,r),i=ls(),null===e||ea?(jr&&i&&zr(t),t.flags|=1,ta(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,ba(e,t,r))}function la(e,t,n,i,r){var o,s,a,l,u,h,c,d,f,g;return pr(n)?(o=!0,yr(t)):o=!1,ao(t,r),i=null===t.stateNode?(xa(e,t),Ro(t,n,i),Io(t,n,i,r),!0):null===e?(s=t.stateNode,a=t.memoizedProps,s.props=a,d=s.context,l="object"==typeof(l=n.contextType)&&null!==l?lo(l):gr(t,l=pr(n)?fr:cr.current),(h="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||a===i&&d===l||To(0,s,i,l),go=!1,c=t.memoizedState,s.state=c,bo(t,i,s,r),d=t.memoizedState,a!==i||c!==d||dr.current||go?("function"==typeof u&&(Co(t,0,u,i),d=t.memoizedState),(a=go||ko(t,n,a,i,c,d,l))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=d),s.props=i,s.state=d,s.context=l,a):("function"==typeof s.componentDidMount&&(t.flags|=4194308),!1)):(s=t.stateNode,mo(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:$r(t.type,a),s.props=l,h=t.pendingProps,c=s.context,d="object"==typeof(d=n.contextType)&&null!==d?lo(d):gr(t,d=pr(n)?fr:cr.current),(u="function"==typeof(f=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||a===h&&c===d||To(0,s,i,d),go=!1,c=t.memoizedState,s.state=c,bo(t,i,s,r),g=t.memoizedState,a!==h||c!==g||dr.current||go?("function"==typeof f&&(Co(t,0,f,i),g=t.memoizedState),(l=go||ko(t,n,l,i,c,g,d)||!1)?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,g,d),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,g,d)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),s.props=i,s.state=g,s.context=d,l):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),!1)),ua(e,t,n,i,o,r)}function ua(e,t,n,i,r,o){sa(e,t);var s=!!(128&t.flags);if(!i&&!s)return r&&xr(t,n,!1),ba(e,t,o);i=t.stateNode,$s.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=Fo(t,e.child,null,o),t.child=Fo(t,null,a,o)):ta(e,t,a,o),t.memoizedState=i.state,r&&xr(t,n,!0),t.child}function ha(e){var t=e.stateNode;t.pendingContext?_r(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_r(0,t.context,!1),jo(e,t.containerInfo)}function ca(e,t,n,i,r){return qr(),Qr(r),t.flags|=256,ta(e,t,n,i),t.child}var da={dehydrated:null,treeContext:null,retryLane:0};function fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ga(e,t,n){var i,r,s=t.pendingProps,a=Yo.current,l=!1,u=!!(128&t.flags);if((r=(r=u)||(null===e||null!==e.memoizedState)&&!!(2&a))?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ur(Yo,1&a),null===e)return Xr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=s.children,e=s.fallback,l?(s=t.mode,l=t.child,u={mode:"hidden",children:u},1&s||null===l?l=ru(u,s,0,null):(l.childLanes=0,l.pendingProps=u),e=iu(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=fa(n),t.memoizedState=da,e):pa(t,u));if(null===(a=e.memoizedState)||null===(r=a.dehydrated))return l?(l=s.fallback,u=t.mode,r=(a=e.child).sibling,h={mode:"hidden",children:s.children},1&u||t.child===a?(s=tu(a,h)).subtreeFlags=14680064&a.subtreeFlags:((s=t.child).childLanes=0,s.pendingProps=h,t.deletions=null),null!==r?l=tu(r,l):(l=iu(l,u,n,null)).flags|=2,l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,u=null===(u=e.child.memoizedState)?fa(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},l.memoizedState=u,l.childLanes=e.childLanes&~n,t.memoizedState=da):(e=(l=e.child).sibling,s=tu(l,{mode:"visible",children:s.children}),!(1&t.mode)&&(s.lanes=n),s.return=t,(s.sibling=null)!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null),s;var h=e,c=(l=t,e=s,r);if(t=a,s=n,u)return 256&l.flags?(l.flags&=-257,ma(h,l,s,e=Ys(Error(o(422))))):null!==l.memoizedState?(l.child=h.child,l.flags|=128,null):(t=e.fallback,c=l.mode,e=ru({mode:"visible",children:e.children},c,0,null),(t=iu(t,c,s,null)).flags|=2,e.return=l,t.return=l,e.sibling=t,l.child=e,!!(1&l.mode)&&Fo(l,h.child,null,s),l.child.memoizedState=fa(s),l.memoizedState=da,t);if(!(1&l.mode))return ma(h,l,s,null);if("$!"===c.data)return e=i=(e=c.nextSibling&&c.nextSibling.dataset)?e.dgst:i,ma(h,l,s,e=Ys(t=Error(o(419)),e,void 0));if(i=!!(s&h.childLanes),ea||i){if(null!==(e=nl)){switch(s&-s){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}0!==(c=c&(e.suspendedLanes|s)?0:c)&&c!==t.retryLane&&(fo(h,t.retryLane=c),Il(e,h,c,-1))}return Bl(),ma(h,l,s,e=Ys(Error(o(421))))}return"$?"===c.data?(l.flags|=128,l.child=h.child,l=function(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ql(e,n)}.bind(null,h),c._reactRetry=l,null):(h=t.treeContext,Wr=Zi(c.nextSibling),Gr=l,jr=!0,(Br=null)!==h&&(Mr[Pr++]=Ar,Mr[Pr++]=Fr,Mr[Pr++]=Lr,Ar=h.id,Fr=h.overflow,Lr=l),(l=pa(l,e.children)).flags|=4096,l)}function pa(e,t){return((t=ru({mode:"visible",children:t},e.mode,0,null)).return=e).child=t}function ma(e,t,n,i){return null!==i&&Qr(i),Fo(t,e.child,null,n),(e=pa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function _a(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),so(e.return,t,n)}function va(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function ya(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(ta(e,t,i.children,n),2&(i=Yo.current))i=1&i|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&_a(e,n,t);else if(19===e.tag)_a(e,n,t);else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ur(Yo,i),1&t.mode)switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Xo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),va(t,!1,r,n,o);break;case"backwards":for(r=t.child,t.child=n=null;null!==r;){if(null!==(e=r.alternate)&&null===Xo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}va(t,!0,n,null,o);break;case"together":va(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function xa(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ba(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ul|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=tu(e=t.child,e.pendingProps),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=tu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function wa(e,t){if(!jr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Sa(e){var t=0,n=0;if(null!==e.alternate&&e.alternate.child===e.child)for(var i=e.child;null!==i;)t|=i.lanes|i.childLanes,n=(n|=14680064&i.subtreeFlags)|14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)t|=i.lanes|i.childLanes,n=(n|=i.subtreeFlags)|i.flags,i.return=e,i=i.sibling;e.subtreeFlags|=n,e.childLanes=t}var Ca=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ea=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Wo(zo.current);var o,s=null;switch(n){case"input":r=X(e,r),i=X(e,i),s=[];break;case"select":r=O({},r,{value:void 0}),i=O({},i,{value:void 0}),s=[];break;case"textarea":r=ee(e,r),i=ee(e,i),s=[];break;default:"function"!=typeof r.onClick&&"function"==typeof i.onClick&&(e.onclick=zi)}for(h in pe(n,i),n=null,r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&null!=r[h])if("style"===h){var l=r[h];for(o in l)l.hasOwnProperty(o)&&((n=n||{})[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(a.hasOwnProperty(h)?s=s||[]:(s=s||[]).push(h,null));for(h in i){var u=i[h];if(l=null!=r?r[h]:void 0,i.hasOwnProperty(h)&&u!==l&&(null!=u||null!=l))if("style"===h)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||((n=n||{})[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&((n=n||{})[o]=u[o])}else n||(s=s||[]).push(h,n),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(h,u)):"children"===h?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(a.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Si("scroll",e),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},ka=function(e,t,n,i){n!==i&&(t.flags|=4)},Ra=!1,Ta=!1,Ia="function"==typeof WeakSet?WeakSet:Set,Ma=null;function Pa(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Hl(e,t,n)}else n.current=null}function La(e,t,n){try{n()}catch(n){Hl(e,t,n)}}var Aa=!1;function Fa(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r,o=i=i.next;do{}while((o.tag&e)===e&&(r=o.destroy,(o.destroy=void 0)!==r)&&La(t,n,r),(o=o.next)!==i)}}function Da(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n,i=t=t.next;do{}while((i.tag&e)===e&&(n=i.create,i.destroy=n()),(i=i.next)!==t)}}function Oa(e){var t,n=e.ref;null!==n&&(t=e.stateNode,e.tag,e=t,"function"==typeof n?n(e):n.current=e)}function za(e){return 5===e.tag||3===e.tag||4===e.tag}function Na(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||za(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e=(e.child.return=e).child}if(!(2&e.flags))return e.stateNode}}var Ga=null,Wa=!1;function ja(e,t,n){for(n=n.child;null!==n;)Ba(e,t,n),n=n.sibling}function Ba(e,t,n){if(et&&"function"==typeof et.onCommitFiberUnmount)try{et.onCommitFiberUnmount($e,n)}catch(e){}switch(n.tag){case 5:Ta||Pa(n,t);case 6:var i=Ga,r=Wa;Ga=null,ja(e,t,n),Wa=r,null!==(Ga=i)&&(Wa?(e=Ga,n=n.stateNode,(8===e.nodeType?e.parentNode:e).removeChild(n)):Ga.removeChild(n.stateNode));break;case 18:null!==Ga&&(Wa?(e=Ga,n=n.stateNode,8===e.nodeType?Xi(e.parentNode,n):1===e.nodeType&&Xi(e,n),Ot(e)):Xi(Ga,n.stateNode));break;case 4:i=Ga,r=Wa,Ga=n.stateNode.containerInfo,Wa=!0,ja(e,t,n),Ga=i,Wa=r;break;case 0:case 11:case 14:case 15:if(!Ta&&null!==(i=n.updateQueue)&&null!==(i=i.lastEffect)){r=i=i.next;do{var o=r.destroy,s=r.tag}while(void 0===o||!(2&s)&&!(4&s)||La(n,t,o),(r=r.next)!==i)}ja(e,t,n);break;case 1:if(!Ta&&(Pa(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(e){Hl(n,t,e)}ja(e,t,n);break;case 21:ja(e,t,n);break;case 22:1&n.mode?(Ta=(i=Ta)||null!==n.memoizedState,ja(e,t,n),Ta=i):ja(e,t,n);break;default:ja(e,t,n)}}function Ua(e){var t,n=e.updateQueue;null!==n&&((e.updateQueue=null)===(t=e.stateNode)&&(t=e.stateNode=new Ia),n.forEach((function(n){var i=function(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),ql(e,n)}.bind(null,e,n);t.has(n)||(t.add(n),n.then(i,i))})))}function Va(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:Ga=l.stateNode,Wa=!1;break e;case 3:case 4:Ga=l.stateNode.containerInfo,Wa=!0;break e}l=l.return}if(null===Ga)throw Error(o(160));Ba(s,a,r),Ga=null,Wa=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(e){Hl(r,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Ya(t,e),t=t.sibling}function Ya(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Va(t,e),Xa(e),4&i){try{Fa(3,e,e.return),Da(3,e)}catch(t){Hl(e,e.return,t)}try{Fa(5,e,e.return)}catch(t){Hl(e,e.return,t)}}break;case 1:Va(t,e),Xa(e),512&i&&null!==n&&Pa(n,n.return);break;case 5:if(Va(t,e),Xa(e),512&i&&null!==n&&Pa(n,n.return),32&e.flags){var r=e.stateNode;try{ue(r,"")}catch(t){Hl(e,e.return,t)}}if(4&i&&null!=(r=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if((e.updateQueue=null)!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&K(r,s),me(l,a);var h=me(l,s);for(a=0;a<u.length;a+=2){var c=u[a],d=u[a+1];"style"===c?fe(r,d):"dangerouslySetInnerHTML"===c?le(r,d):"children"===c?ue(r,d):v(r,c,d,h)}switch(l){case"input":H(r,s);break;case"textarea":ne(r,s);break;case"select":var f=r._wrapperState.wasMultiple,g=(r._wrapperState.wasMultiple=!!s.multiple,s.value);null!=g?$(r,!!s.multiple,g,!1):f!==!!s.multiple&&(null!=s.defaultValue?$(r,!!s.multiple,s.defaultValue,!0):$(r,!!s.multiple,s.multiple?[]:"",!1))}r[qi]=s}catch(t){Hl(e,e.return,t)}}break;case 6:if(Va(t,e),Xa(e),4&i){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(t){Hl(e,e.return,t)}}break;case 3:if(Va(t,e),Xa(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ot(t.containerInfo)}catch(t){Hl(e,e.return,t)}break;case 4:default:Va(t,e),Xa(e);break;case 13:Va(t,e),Xa(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,!(r.stateNode.isHidden=s)||null!==r.alternate&&null!==r.alternate.memoizedState||(gl=Xe())),4&i&&Ua(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Ta=(h=Ta)||c,Va(t,e),Ta=h):Va(t,e),Xa(e),8192&i){if(h=null!==e.memoizedState,(e.stateNode.isHidden=h)&&!c&&1&e.mode)for(c=(Ma=e).child;null!==c;){for(d=Ma=c;null!==Ma;){switch(g=(f=Ma).child,f.tag){case 0:case 11:case 14:case 15:Fa(4,f,f.return);break;case 1:Pa(f,f.return);var p=f.stateNode;if("function"==typeof p.componentWillUnmount){n=(i=f).return;try{t=i,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(t){Hl(i,n,t)}}break;case 5:Pa(f,f.return);break;case 22:if(null!==f.memoizedState){Ha(d);continue}}null!==g?(g.return=f,Ma=g):Ha(d)}c=c.sibling}e:for(c=null,d=e;;){if(5===d.tag){if(null===c){c=d;try{r=d.stateNode,h?"function"==typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=d.stateNode,a=null!=(u=d.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=de("display",a))}catch(t){Hl(e,e.return,t)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(t){Hl(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d=(d.child.return=d).child;continue}if(d===e)break;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Va(t,e),Xa(e),4&i&&Ua(e);case 21:}}function Xa(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(za(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(ue(r,""),i.flags&=-33),function e(t,n,i){var r=t.tag;if(5===r||6===r)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,Na(e),r);break;case 3:case 4:var s=i.stateNode.containerInfo;!function e(t,n,i){var r=t.tag;if(5===r||6===r)t=t.stateNode,n?(8===i.nodeType?i.parentNode:i).insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null==(i=i._reactRootContainer)&&null===n.onclick&&(n.onclick=zi));else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,Na(e),s);break;default:throw Error(o(161))}}catch(t){Hl(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Za(e,t,n){!function e(t,n,i){for(var r=!!(1&t.mode);null!==Ma;){var o=Ma,s=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Ra;if(!a){var l=o.alternate,u=null!==l&&null!==l.memoizedState||Ta,h=(l=Ra,Ta);if(Ra=a,(Ta=u)&&!h)for(Ma=o;null!==Ma;)u=(a=Ma).child,22===a.tag&&null!==a.memoizedState||null===u?qa(o):(u.return=a,Ma=u);for(;null!==s;)e(Ma=s,n,i),s=s.sibling;Ma=o,Ra=l,Ta=h}Ka(t)}else 8772&o.subtreeFlags&&null!==s?(s.return=o,Ma=s):Ka(t)}}(Ma=e,t,n)}function Ka(e){for(;null!==Ma;){var t=Ma;if(8772&t.flags){var n,i,r,s=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ta||Da(5,t);break;case 1:var a,l=t.stateNode,u=(4&t.flags&&!Ta&&(null===s?l.componentDidMount():(a=t.elementType===t.type?s.memoizedProps:$r(t.type,s.memoizedProps),l.componentDidUpdate(a,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate))),t.updateQueue);null!==u&&wo(0,u,l);break;case 3:var h=t.updateQueue;if(null!==h){if((s=null)!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}wo(0,h,s)}break;case 5:var c=t.stateNode;if(null===s&&4&t.flags){s=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:null===t.memoizedState&&null!==(n=t.alternate)&&null!==(i=n.memoizedState)&&null!==(r=i.dehydrated)&&Ot(r);break;default:throw Error(o(163))}Ta||512&t.flags&&Oa(t)}catch(e){Hl(t,t.return,e)}}if(t===e){Ma=null;break}if(null!==(s=t.sibling)){s.return=t.return,Ma=s;break}Ma=t.return}}function Ha(e){for(;null!==Ma;){var t=Ma;if(t===e){Ma=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ma=n;break}Ma=t.return}}function qa(e){for(;null!==Ma;){var t=Ma;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Da(4,t)}catch(e){Hl(t,n,e)}break;case 1:var i=t.stateNode;if("function"==typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(e){Hl(t,r,e)}}var o=t.return;try{Oa(t)}catch(e){Hl(t,o,e)}break;case 5:var s=t.return;try{Oa(t)}catch(e){Hl(t,s,e)}}}catch(e){Hl(t,t.return,e)}if(t===e){Ma=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ma=a;break}Ma=t.return}}var Qa=Math.ceil,Ja=y.ReactCurrentDispatcher,$a=y.ReactCurrentOwner,el=y.ReactCurrentBatchConfig,tl=0,nl=null,il=null,rl=0,ol=0,sl=ar(0),al=0,ll=null,ul=0,hl=0,cl=0,dl=null,fl=null,gl=0,pl=1/0,ml=null,_l=!1,vl=null,yl=null,xl=!1,bl=null,wl=0,Sl=0,Cl=null,El=-1,kl=0;function Rl(){return 6&tl?Xe():-1!==El?El:El=Xe()}function Tl(e){return 1&e.mode?2&tl&&0!==rl?rl&-rl:null!==Jr.transition?kl=0===kl?ut():kl:0!==(e=ft)?e:void 0===(e=window.event)?16:Vt(e.type):1}function Il(e,t,n,i){if(50<Sl)throw Sl=0,Cl=null,Error(o(185));ct(e,n,i),2&tl&&e===nl||(e===nl&&(!(2&tl)&&(hl|=n),4===al)&&Fl(e,rl),Ml(e,i),1===n&&0===tl&&!(1&t.mode)&&(pl=Xe()+500,wr)&&Er())}function Ml(e,t){for(var n=e.callbackNode,i=e,r=t,o=i.suspendedLanes,s=i.pingedLanes,a=i.expirationTimes,l=i.pendingLanes;0<l;){var u=31-tt(l),h=1<<u,c=a[u];-1===c?!!(h&o)&&!(h&s)||(a[u]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}(h,r)):c<=r&&(i.expiredLanes|=h),l&=~h}var d,f=at(e,e===nl?rl:0);if(0===f)null!==n&&Ue(n),e.callbackNode=null,e.callbackPriority=0;else if(e.callbackPriority!==(t=f&-f)){if(null!=n&&Ue(n),1===t)0===e.tag?(d=Dl.bind(null,e),wr=!0,Cr(d)):Cr(Dl.bind(null,e)),Vi((function(){!(6&tl)&&Er()})),n=null;else{switch(gt(f)){case 1:n=Ke;break;case 4:n=He;break;case 16:default:n=qe;break;case 536870912:n=Je}n=Ql(n,Pl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Pl(e,t){if(El=-1,(kl=0)!=(6&tl))throw Error(o(327));var n=e.callbackNode;if(Zl()&&e.callbackNode!==n)return null;var i=at(e,e===nl?rl:0);if(0===i)return null;if(30&i||i&e.expiredLanes||t)t=Ul(e,i);else{t=i;var r=tl,s=(tl|=2,jl());for(nl===e&&rl===t||(ml=null,pl=Xe()+500,Gl(e,t));;)try{for(;null!==il&&!Ve();)Vl(il);break}catch(t){Wl(e,t)}ro(),Ja.current=s,tl=r,t=null!==il?0:(nl=null,rl=0,al)}if(0!==t){if(1===(t=2===t&&0!==(r=lt(e))?Ll(e,i=r):t))throw n=ll,Gl(e,0),Fl(e,i),Ml(e,Xe()),n;if(6===t)Fl(e,i);else{if(r=e.current.alternate,!(30&i||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=(o=n[i]).getSnapshot,o=o.value;try{if(!Zn(r(),o))return}catch(e){return}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return 1;t=t.return}t.sibling.return=t.return,t=t.sibling}}return 1}(r)||1!==(t=2===(t=Ul(e,i))&&0!==(s=lt(e))?Ll(e,i=s):t)))throw n=ll,Gl(e,0),Fl(e,i),Ml(e,Xe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:Xl(e,fl,ml);break;case 3:if(Fl(e,i),(130023424&i)===i&&10<(t=gl+500-Xe())){if(0!==at(e,0))break;if(((r=e.suspendedLanes)&i)!==i){Rl(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ji(Xl.bind(null,e,fl,ml),t)}else Xl(e,fl,ml);break;case 4:if(Fl(e,i),(4194240&i)!==i){for(t=e.eventTimes,r=-1;0<i;){var a=31-tt(i);s=1<<a,(a=t[a])>r&&(r=a),i&=~s}i=r,10<(i=((i=Xe()-i)<120?120:i<480?480:i<1080?1080:i<1920?1920:i<3e3?3e3:i<4320?4320:1960*Qa(i/1960))-i)?e.timeoutHandle=ji(Xl.bind(null,e,fl,ml),i):Xl(e,fl,ml)}break;default:throw Error(o(329))}}}return Ml(e,Xe()),e.callbackNode===n?Pl.bind(null,e):null}function Ll(e,t){var n=dl;return e.current.memoizedState.isDehydrated&&(Gl(e,t).flags|=256),2!==(e=Ul(e,t))&&(t=fl,fl=n,null!==t)&&Al(t),e}function Al(e){null===fl?fl=e:fl.push.apply(fl,e)}function Fl(e,t){for(t=t&~cl&~hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tt(t),i=1<<n;e[n]=-1,t&=~i}}function Dl(e){if(6&tl)throw Error(o(327));Zl();var t=at(e,0);if(1&t){var n,i=Ul(e,t);if(1===(i=0!==e.tag&&2===i&&0!==(n=lt(e))?Ll(e,t=n):i))throw i=ll,Gl(e,0),Fl(e,t),Ml(e,Xe()),i;if(6===i)throw Error(o(345));e.finishedWork=e.current.alternate,e.finishedLanes=t,Xl(e,fl,ml)}return Ml(e,Xe()),null}function Ol(e,t){var n=tl;tl|=1;try{return e(t)}finally{0===(tl=n)&&(pl=Xe()+500,wr)&&Er()}}function zl(e){null!==bl&&0===bl.tag&&!(6&tl)&&Zl();var t=tl,n=(tl|=1,el.transition),i=ft;try{if(el.transition=null,ft=1,e)return e()}finally{ft=i,el.transition=n,!(6&(tl=t))&&Er()}}function Nl(){ol=sl.current,lr(sl)}function Gl(e,t){e.finishedWork=null,e.finishedLanes=0;var n,i,r,o=e.timeoutHandle;if(-1!==o&&(e.timeoutHandle=-1,Bi(o)),null!==il)for(o=il.return;null!==o;){var s=o;switch(Nr(s),s.tag){case 1:null!=(s=s.type.childContextTypes)&&mr();break;case 3:Bo(),lr(dr),lr(cr),Ko();break;case 5:Vo(s);break;case 4:Bo();break;case 13:case 19:lr(Yo);break;case 10:oo(s.type._context);break;case 22:case 23:Nl()}o=o.return}if(il=e=tu((nl=e).current,null),rl=ol=t,cl=hl=ul=al=0,(fl=dl=ll=null)!==uo){for(t=0;t<uo.length;t++)null!==(s=(o=uo[t]).interleaved)&&(o.interleaved=null,n=s.next,null!==(i=o.pending)&&(r=i.next,i.next=n,s.next=r),o.pending=s);uo=null}return e}function Wl(e,t){for(;;){var n=il;try{if(ro(),Ho.current=Ws,ts){for(var i=Jo.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ts=!1}if(es=$o=Jo=null,ns=!1,is=Qo=0,($a.current=null)===n||null===n.return){al=1,ll=t,il=null;break}e:{var s=e,a=n.return,l=t;if(t=rl,(_=n).flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u,h=l,c=_,d=c.tag,f=(!!(1&c.mode)||0!==d&&11!==d&&15!==d||((u=c.alternate)?(c.updateQueue=u.updateQueue,c.memoizedState=u.memoizedState,c.lanes=u.lanes):(c.updateQueue=null,c.memoizedState=null)),Qs(a));if(null!==f){f.flags&=-257,Js(f,a,_,0,t),1&f.mode&&qs(s,h,t),l=h;var g,p=(t=f).updateQueue;null===p?((g=new Set).add(l),t.updateQueue=g):p.add(l);break e}if(!(1&t)){qs(s,h,t),Bl();break e}l=Error(o(426))}else if(jr&&1&_.mode){var m=Qs(a);if(null!==m){!(65536&m.flags)&&(m.flags|=256),Js(m,a,_,0,t),Qr(Vs(l,_));break e}}s=l=Vs(l,_),4!==al&&(al=2),null===dl?dl=[s]:dl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,xo(s,Ks(0,l,t));break e;case 1:var _=l,v=s.type,y=s.stateNode;if(!(128&s.flags||"function"!=typeof v.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==yl&&yl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,xo(s,Hs(s,_,t));break e}}}while(null!==(s=s.return))}Yl(n)}catch(e){t=e,il===n&&null!==n&&(il=n.return);continue}break}}function jl(){var e=Ja.current;return Ja.current=Ws,null===e?Ws:e}function Bl(){0!==al&&3!==al&&2!==al||(al=4),null===nl||!(268435455&ul)&&!(268435455&hl)||Fl(nl,rl)}function Ul(e,t){var n=tl,i=(tl|=2,jl());for(nl===e&&rl===t||(ml=null,Gl(e,t));;)try{for(;null!==il;)Vl(il);break}catch(t){Wl(e,t)}if(ro(),tl=n,Ja.current=i,null!==il)throw Error(o(261));return nl=null,rl=0,al}function Vl(e){var t=pu(e.alternate,e,ol);e.memoizedProps=e.pendingProps,null===t?Yl(e):il=t,$a.current=null}function Yl(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=function(e,t){switch(Nr(t),t.tag){case 1:return pr(t.type)&&mr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Bo(),lr(dr),lr(cr),Ko(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Vo(t),null;case 13:if(lr(Yo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));qr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return lr(Yo),null;case 4:return Bo(),null;case 10:return oo(t.type._context),null;case 22:case 23:return Nl(),null;default:return null}}(n,t)))return n.flags&=32767,il=n;if(null===e)return al=6,il=null;e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=function(e,t,n){var i=t.pendingProps;switch(Nr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sa(t),null;case 1:case 17:return pr(t.type)&&mr(),Sa(t),null;case 3:return i=t.stateNode,Bo(),lr(dr),lr(cr),Ko(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Kr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Br&&(Al(Br),Br=null))),Sa(t),null;case 5:Vo(t);var r,s=Wo(Go.current);if(n=t.type,null!==e&&null!=t.stateNode)Ea(e,t,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return Sa(t),null}if(e=Wo(zo.current),Kr(t)){i=t.stateNode,n=t.type;var l,u,h=t.memoizedProps;switch(i[Hi]=t,i[qi]=h,e=!!(1&t.mode),n){case"dialog":Si("cancel",i),Si("close",i);break;case"iframe":case"object":case"embed":Si("load",i);break;case"video":case"audio":for(s=0;s<yi.length;s++)Si(yi[s],i);break;case"source":Si("error",i);break;case"img":case"image":case"link":Si("error",i),Si("load",i);break;case"details":Si("toggle",i);break;case"input":Z(i,h),Si("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!h.multiple},Si("invalid",i);break;case"textarea":te(i,h),Si("invalid",i)}for(l in pe(n,h),s=null,h)h.hasOwnProperty(l)&&(u=h[l],"children"===l?"string"==typeof u?i.textContent!==u&&(!0!==h.suppressHydrationWarning&&Oi(i.textContent,u,e),s=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(!0!==h.suppressHydrationWarning&&Oi(i.textContent,u,e),s=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Si("scroll",i));switch(n){case"input":U(i),q(i,h,!0);break;case"textarea":U(i),ie(i);break;case"select":case"option":break;default:"function"==typeof h.onClick&&(i.onclick=zi)}i=s,null!==(t.updateQueue=i)&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===(e="http://www.w3.org/1999/xhtml"===e?re(n):e)?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[Hi]=t,e[qi]=i,Ca(e,t),t.stateNode=e;e:{switch(l=me(n,i),n){case"dialog":Si("cancel",e),Si("close",e),s=i;break;case"iframe":case"object":case"embed":Si("load",e),s=i;break;case"video":case"audio":for(s=0;s<yi.length;s++)Si(yi[s],e);s=i;break;case"source":Si("error",e),s=i;break;case"img":case"image":case"link":Si("error",e),Si("load",e),s=i;break;case"details":Si("toggle",e),s=i;break;case"input":Z(e,i),s=X(e,i),Si("invalid",e);break;case"option":default:s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=O({},i,{value:void 0}),Si("invalid",e);break;case"textarea":te(e,i),s=ee(e,i),Si("invalid",e)}for(h in pe(n,s),u=s)u.hasOwnProperty(h)&&(r=u[h],"style"===h?fe(e,r):"dangerouslySetInnerHTML"===h?null!=(r=r?r.__html:void 0)&&le(e,r):"children"===h?"string"==typeof r?"textarea"===n&&""===r||ue(e,r):"number"==typeof r&&ue(e,""+r):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(a.hasOwnProperty(h)?null!=r&&"onScroll"===h&&Si("scroll",e):null!=r&&v(e,h,r,l)));switch(n){case"input":U(e),q(e,i,!1);break;case"textarea":U(e),ie(e);break;case"option":null!=i.value&&e.setAttribute("value",""+j(i.value));break;case"select":e.multiple=!!i.multiple,null!=(h=i.value)?$(e,!!i.multiple,h,!1):null!=i.defaultValue&&$(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Sa(t),null;case 6:if(e&&null!=t.stateNode)ka(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(o(166));if(n=Wo(Go.current),Wo(zo.current),Kr(t)){if(i=t.stateNode,n=t.memoizedProps,i[Hi]=t,(h=i.nodeValue!==n)&&null!==(e=Gr))switch(e.tag){case 3:Oi(i.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Oi(i.nodeValue,n,!!(1&e.mode))}h&&(t.flags|=4)}else((i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Hi]=t).stateNode=i}return Sa(t),null;case 13:if(lr(Yo),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(jr&&null!==Wr&&1&t.mode&&!(128&t.flags))Hr(),qr(),t.flags|=98560,h=!1;else if(h=Kr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!h)throw Error(o(318));if(!(h=null!==(h=t.memoizedState)?h.dehydrated:null))throw Error(o(317));h[Hi]=t}else qr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Sa(t),h=!1}else null!==Br&&(Al(Br),Br=null),h=!0;if(!h)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((i=null!==i)!=(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,!!(1&t.mode))&&(null===e||1&Yo.current?0===al&&(al=3):Bl()),null!==t.updateQueue&&(t.flags|=4),Sa(t),null);case 4:return Bo(),null===e&&ki(t.stateNode.containerInfo),Sa(t),null;case 10:return oo(t.type._context),Sa(t),null;case 19:if(lr(Yo),null===(h=t.memoizedState))return Sa(t),null;if(i=!!(128&t.flags),null===(l=h.rendering))if(i)wa(h,!1);else{if(0!==al||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=Xo(e))){for(t.flags|=128,wa(h,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(h=n).flags&=14680066,null===(l=h.alternate)?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,h.type=l.type,e=l.dependencies,h.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ur(Yo,1&Yo.current|2),t.child}e=e.sibling}null!==h.tail&&Xe()>pl&&(t.flags|=128,wa(h,!(i=!0)),t.lanes=4194304)}else{if(!i)if(null!==(e=Xo(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),wa(h,!0),null===h.tail&&"hidden"===h.tailMode&&!l.alternate&&!jr)return Sa(t),null}else 2*Xe()-h.renderingStartTime>pl&&1073741824!==n&&(t.flags|=128,wa(h,!(i=!0)),t.lanes=4194304);h.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=h.last)?n.sibling=l:t.child=l,h.last=l)}return null!==h.tail?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Xe(),t.sibling=null,n=Yo.current,ur(Yo,i?1&n|2:1&n),t):(Sa(t),null);case 22:case 23:return Nl(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&1&t.mode?!!(1073741824&ol)&&(Sa(t),6&t.subtreeFlags)&&(t.flags|=8192):Sa(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}(n,t,ol)))return il=n;if(null!==(t=t.sibling))return il=t}while(il=t=e,null!==t);0===al&&(al=5)}function Xl(e,t,n){var i=ft,r=el.transition;try{el.transition=null,ft=1;for(var s=e,a=t,l=n,u=i;Zl(),null!==bl;);if(6&tl)throw Error(o(327));l=s.finishedWork;var h=s.finishedLanes;if(null!==l){if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(o(177));s.callbackNode=null,s.callbackPriority=0;var c=l.lanes|l.childLanes,d=s,f=c,g=d.pendingLanes&~f,p=(d.pendingLanes=f,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=f,d.mutableReadLanes&=f,d.entangledLanes&=f,f=d.entanglements,d.eventTimes);for(d=d.expirationTimes;0<g;){var m=31-tt(g),_=1<<m;f[m]=0,p[m]=-1,d[m]=-1,g&=~_}if(s===nl&&(il=nl=null,rl=0),!(2064&l.subtreeFlags)&&!(2064&l.flags)||xl||(xl=!0,Ql(qe,(function(){return Zl(),null}))),c=!!(15990&l.flags),15990&l.subtreeFlags||c){c=el.transition,el.transition=null;var v=ft,y=(ft=1,tl),x=(tl|=4,$a.current=null,s),b=l;if(Ni=Nt,Jn(x=Qn())){if("selectionStart"in x)var w={start:x.selectionStart,end:x.selectionEnd};else e:if((E=(w=(w=x.ownerDocument)&&w.defaultView||window).getSelection&&w.getSelection())&&0!==E.rangeCount){w=E.anchorNode;var S=E.anchorOffset,C=E.focusNode,E=E.focusOffset;try{w.nodeType,C.nodeType}catch(e){w=null;break e}var k,R=0,T=-1,I=-1,M=0,P=0,L=x,A=null;t:for(;;){for(;L!==w||0!==S&&3!==L.nodeType||(T=R+S),L!==C||0!==E&&3!==L.nodeType||(I=R+E),3===L.nodeType&&(R+=L.nodeValue.length),null!==(k=L.firstChild);)A=L,L=k;for(;;){if(L===x)break t;if(A===w&&++M===S&&(T=R),A===C&&++P===E&&(I=R),null!==(k=L.nextSibling))break;A=(L=A).parentNode}L=k}w=-1===T||-1===I?null:{start:T,end:I}}else w=null;w=w||{start:0,end:0}}else w=null;for(Nt=!(Gi={focusedElem:x,selectionRange:w}),Ma=b;null!==Ma;)if(x=(b=Ma).child,1028&b.subtreeFlags&&null!==x)x.return=b,Ma=x;else for(;null!==Ma;){b=Ma;try{var F,D,O,z,N=b.alternate;if(1024&b.flags)switch(b.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:null!==N&&(F=N.memoizedProps,D=N.memoizedState,z=(O=b.stateNode).getSnapshotBeforeUpdate(b.elementType===b.type?F:$r(b.type,F),D),O.__reactInternalSnapshotBeforeUpdate=z);break;case 3:var G=b.stateNode.containerInfo;1===G.nodeType?G.textContent="":9===G.nodeType&&G.documentElement&&G.removeChild(G.documentElement);break;default:throw Error(o(163))}}catch(e){Hl(b,b.return,e)}if(null!==(x=b.sibling)){x.return=b.return,Ma=x;break}Ma=b.return}N=Aa,Aa=!1,Ya(l,s),function(e){var t,n,i,r=Qn(),o=e.focusedElem,s=e.selectionRange;if(r!==o&&o&&o.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(o.ownerDocument.documentElement,o)){null!==s&&Jn(o)&&(r=s.start,void 0===(e=s.end)&&(e=r),"selectionStart"in o?(o.selectionStart=r,o.selectionEnd=Math.min(e,o.value.length)):(e=(r=o.ownerDocument||document)&&r.defaultView||window).getSelection&&(e=e.getSelection(),n=o.textContent.length,t=Math.min(s.start,n),s=void 0===s.end?t:Math.min(s.end,n),!e.extend&&s<t&&(n=s,s=t,t=n),n=qn(o,t),i=qn(o,s),n)&&i&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((r=r.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),s<t?(e.addRange(r),e.extend(i.node,i.offset)):(r.setEnd(i.node,i.offset),e.addRange(r))));for(r=[],e=o;e=e.parentNode;)1===e.nodeType&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<r.length;o++)(e=r[o]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(Gi),Nt=!!Ni,Gi=Ni=null,Za(s.current=l,s,h),Ye(),tl=y,ft=v,el.transition=c}else s.current=l;if(xl&&(xl=!1,bl=s,wl=h),0===(c=s.pendingLanes)&&(yl=null),y=l.stateNode,et&&"function"==typeof et.onCommitFiberRoot)try{et.onCommitFiberRoot($e,y,void 0,!(128&~y.current.flags))}catch(e){}if(Ml(s,Xe()),null!==a)for(u=s.onRecoverableError,l=0;l<a.length;l++)u((h=a[l]).value,{componentStack:h.stack,digest:h.digest});if(_l)throw _l=!1,s=vl,vl=null,s;!!(1&wl)&&0!==s.tag&&Zl(),1&(c=s.pendingLanes)?s===Cl?Sl++:(Sl=0,Cl=s):Sl=0,Er()}}finally{el.transition=r,ft=i}return null}function Zl(){if(null!==bl){var e=gt(wl),t=el.transition,n=ft;try{if(el.transition=null,ft=e<16?16:e,null===bl)var i=!1;else{if(e=bl,bl=null,(wl=0)!=(6&tl))throw Error(o(331));var r=tl;for(tl|=4,Ma=e.current;null!==Ma;){var s=Ma,a=s.child;if(16&Ma.flags){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var h=l[u];for(Ma=h;null!==Ma;){var c=Ma;switch(c.tag){case 0:case 11:case 15:Fa(8,c,s)}var d=c.child;if(null!==d)d.return=c,Ma=d;else for(;null!==Ma;){var f=(c=Ma).sibling,g=c.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[Hi],delete n[qi],delete n[Ji],delete n[$i],delete n[er]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(c),c===h){Ma=null;break}if(null!==f){f.return=g,Ma=f;break}Ma=g}}}var p=s.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var _=m.sibling}while((m.sibling=null)!==(m=_))}}Ma=s}}if(2064&s.subtreeFlags&&null!==a)a.return=s,Ma=a;else for(;null!==Ma;){if(2048&(s=Ma).flags)switch(s.tag){case 0:case 11:case 15:Fa(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Ma=v;break}Ma=s.return}}var y=e.current;for(Ma=y;null!==Ma;){var x=(a=Ma).child;if(2064&a.subtreeFlags&&null!==x)x.return=a,Ma=x;else for(a=y;null!==Ma;){if(2048&(l=Ma).flags)try{switch(l.tag){case 0:case 11:case 15:Da(9,l)}}catch(e){Hl(l,l.return,e)}if(l===a){Ma=null;break}var b=l.sibling;if(null!==b){b.return=l.return,Ma=b;break}Ma=l.return}}if(tl=r,Er(),et&&"function"==typeof et.onPostCommitFiberRoot)try{et.onPostCommitFiberRoot($e,e)}catch(e){}i=!0}return i}finally{ft=n,el.transition=t}}}function Kl(e,t,n){e=vo(e,t=Ks(0,t=Vs(n,t),1),1),t=Rl(),null!==e&&(ct(e,1,t),Ml(e,t))}function Hl(e,t,n){if(3===e.tag)Kl(e,e,n);else for(;null!==t;){if(3===t.tag){Kl(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===yl||!yl.has(i))){t=vo(t,e=Hs(t,e=Vs(n,e),1),1),e=Rl(),null!==t&&(ct(t,1,e),Ml(t,e));break}}t=t.return}}function ql(e,t){0===t&&(1&e.mode?(t=ot,!(130023424&(ot<<=1))&&(ot=4194304)):t=1);var n=Rl();null!==(e=fo(e,t))&&(ct(e,t,n),Ml(e,n))}function Ql(e,t){return Be(e,t)}function Jl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $l(e,t,n,i){return new Jl(e,t,n,i)}function eu(e){return(e=e.prototype)&&e.isReactComponent}function tu(e,t){var n=e.alternate;return null===n?((n=$l(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nu(e,t,n,i,r,s){var a=2;if("function"==typeof(i=e))eu(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case w:return iu(n.children,r,s,t);case S:r|=a=8;break;case C:return(e=$l(12,n,t,2|r)).elementType=C,e.lanes=s,e;case T:return(e=$l(13,n,t,r)).elementType=T,e.lanes=s,e;case I:return(e=$l(19,n,t,r)).elementType=I,e.lanes=s,e;case L:return ru(n,r,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case k:a=9;break e;case R:a=11;break e;case M:a=14;break e;case P:a=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=$l(a,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function iu(e,t,n,i){return(e=$l(7,e,i,t)).lanes=n,e}function ru(e,t,n,i){return(e=$l(22,e,i,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function ou(e,t,n){return(e=$l(6,e,null,t)).lanes=n,e}function su(e,t,n){return(t=$l(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function au(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ht(0),this.expirationTimes=ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function lu(e,t,n,i,r,o,s,a,l){return e=new au(e,t,0,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=$l(3,null,null,t),(e.current=o).stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},po(o),e}function uu(e){if(!e)return hr;e:{if(Ne(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}}while(null!==(t=t.return));throw Error(o(171))}if(1===e.tag){var n=e.type;if(pr(n))return vr(e,n,t)}return t}function hu(e,t,n,i,r,o,s,a,l){return(e=lu(n,i,!0,e,0,o,0,a,l)).context=uu(null),n=e.current,(o=_o(i=Rl(),r=Tl(n))).callback=null!=t?t:null,vo(n,o,r),e.current.lanes=r,ct(e,r,i),Ml(e,i),e}function cu(e,t,n,i){var r=t.current,o=Rl(),s=Tl(r);n=uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=_o(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=vo(r,t,s))&&(Il(e,r,s,o),yo(e,r,s))}function du(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function fu(e,t){var n;null!==(e=e.memoizedState)&&null!==e.dehydrated&&(n=e.retryLane,e.retryLane=0!==n&&n<t?n:t)}function gu(e,t){fu(e,t),(e=e.alternate)&&fu(e,t)}var pu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||dr.current)ea=!0;else{if(!(e.lanes&n||128&t.flags)){ea=!1;var i=e,r=t,s=n;switch(r.tag){case 3:ha(r),qr();break;case 5:Uo(r);break;case 1:pr(r.type)&&yr(r);break;case 4:jo(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,l=r.memoizedProps.value;ur(eo,a._currentValue),a._currentValue=l;break;case 13:if(null!==(a=r.memoizedState))return null!==a.dehydrated?(ur(Yo,1&Yo.current),r.flags|=128,null):s&r.child.childLanes?ga(i,r,s):(ur(Yo,1&Yo.current),null!==(i=ba(i,r,s))?i.sibling:null);ur(Yo,1&Yo.current);break;case 19:if(a=!!(s&r.childLanes),128&i.flags){if(a)return ya(i,r,s);r.flags|=128}if(null!==(l=r.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),ur(Yo,Yo.current),a)break;return null;case 22:case 23:return r.lanes=0,oa(i,r,s)}return ba(i,r,s)}ea=!!(131072&e.flags)}else ea=!1,jr&&1048576&t.flags&&Or(t,Ir,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type,h=(xa(e,t),e=t.pendingProps,gr(t,cr.current)),c=(ao(t,n),h=as(null,t,u,e,h,n),ls());return t.flags|=1,"object"==typeof h&&null!==h&&"function"==typeof h.render&&void 0===h.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pr(u)?(c=!0,yr(t)):c=!1,t.memoizedState=null!==h.state&&void 0!==h.state?h.state:null,po(t),h.updater=Eo,Io((t.stateNode=h)._reactInternals=t,u,e,n),ua(null,t,u,!0,c,n)):(t.tag=0,jr&&c&&zr(t),ta(null,t,h,n),t.child);case 16:u=t.elementType;e:{switch(xa(e,t),e=t.pendingProps,u=(h=u._init)(u._payload),t.type=u,h=t.tag=function(e){if("function"==typeof e)return eu(e)?1:0;if(null!=e){if((e=e.$$typeof)===R)return 11;if(e===M)return 14}return 2}(u),e=$r(u,e),h){case 0:t=aa(null,t,u,e,n);break e;case 1:t=la(null,t,u,e,n);break e;case 11:t=na(null,t,u,e,n);break e;case 14:t=ia(null,t,u,$r(u.type,e),n);break e}throw Error(o(306,u,""))}return t;case 0:return u=t.type,h=t.pendingProps,aa(e,t,u,h=t.elementType===u?h:$r(u,h),n);case 1:return u=t.type,h=t.pendingProps,la(e,t,u,h=t.elementType===u?h:$r(u,h),n);case 3:e:{if(ha(t),null===e)throw Error(o(387));if(u=t.pendingProps,h=(c=t.memoizedState).element,mo(e,t),bo(t,u,null,n),u=(p=t.memoizedState).element,c.isDehydrated){if(c={element:u,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=c,t.memoizedState=c,256&t.flags){t=ca(e,t,u,n,h=Vs(Error(o(423)),t));break e}if(u!==h){t=ca(e,t,u,n,h=Vs(Error(o(424)),t));break e}for(Wr=Zi(t.stateNode.containerInfo.firstChild),jr=!0,n=Do(Gr=t,Br=null,u,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(qr(),u===h){t=ba(e,t,n);break e}ta(e,t,u,n)}t=t.child}return t;case 5:return Uo(t),null===e&&Xr(t),u=t.type,h=t.pendingProps,c=null!==e?e.memoizedProps:null,p=h.children,Wi(u,h)?p=null:null!==c&&Wi(u,c)&&(t.flags|=32),sa(e,t),ta(e,t,p,n),t.child;case 6:return null===e&&Xr(t),null;case 13:return ga(e,t,n);case 4:return jo(t,t.stateNode.containerInfo),u=t.pendingProps,null===e?t.child=Fo(t,null,u,n):ta(e,t,u,n),t.child;case 11:return u=t.type,h=t.pendingProps,na(e,t,u,h=t.elementType===u?h:$r(u,h),n);case 7:return ta(e,t,t.pendingProps,n),t.child;case 8:case 12:return ta(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(u=t.type._context,h=t.pendingProps,c=t.memoizedProps,p=h.value,ur(eo,u._currentValue),u._currentValue=p,null!==c)if(Zn(c.value,p)){if(c.children===h.children&&!dr.current){t=ba(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var d=c.dependencies;if(null!==d)for(var f,g,p=c.child,m=d.firstContext;null!==m;){if(m.context===u){1===c.tag&&((m=_o(-1,n&-n)).tag=2,null!==(f=c.updateQueue))&&(null===(g=(f=f.shared).pending)?m.next=m:(m.next=g.next,g.next=m),f.pending=m),c.lanes|=n,null!==(m=c.alternate)&&(m.lanes|=n),so(c.return,n,t),d.lanes|=n;break}m=m.next}else if(10===c.tag)p=c.type===t.type?null:c.child;else if(18===c.tag){if(null===(p=c.return))throw Error(o(341));p.lanes|=n,null!==(d=p.alternate)&&(d.lanes|=n),so(p,n,t),p=c.sibling}else p=c.child;if(null!==p)p.return=c;else for(p=c;null!==p;){if(p===t){p=null;break}if(null!==(c=p.sibling)){c.return=p.return,p=c;break}p=p.return}c=p}ta(e,t,h.children,n),t=t.child}return t;case 9:return h=t.type,u=t.pendingProps.children,ao(t,n),u=u(h=lo(h)),t.flags|=1,ta(e,t,u,n),t.child;case 14:return h=$r(u=t.type,t.pendingProps),ia(e,t,u,h=$r(u.type,h),n);case 15:return ra(e,t,t.type,t.pendingProps,n);case 17:return u=t.type,h=t.pendingProps,h=t.elementType===u?h:$r(u,h),xa(e,t),t.tag=1,pr(u)?(e=!0,yr(t)):e=!1,ao(t,n),Ro(t,u,h),Io(t,u,h,n),ua(null,t,u,!0,e,n);case 19:return ya(e,t,n);case 22:return oa(e,t,n)}throw Error(o(156,t.tag))},mu="function"==typeof reportError?reportError:function(e){console.error(e)};function _u(e){this._internalRoot=e}function vu(e){this._internalRoot=e}function yu(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType)}function xu(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&" react-mount-point-unstable "===e.nodeValue)}function bu(){}function wu(e,t,n,i,r){var o,s,a=n._reactRootContainer;return a?("function"==typeof r&&(s=r,r=function(){var e=du(o);s.call(e)}),cu(t,o=a,e,r)):o=function(e,t,n,r,o){var s,a,l;if(i)return"function"==typeof r&&(s=r,r=function(){var e=du(a);s.call(e)}),a=hu(t,r,e,0,0,!1,0,"",bu),e._reactRootContainer=a,e[Qi]=a.current,ki(8===e.nodeType?e.parentNode:e),zl(),a;for(;o=e.lastChild;)e.removeChild(o);"function"==typeof r&&(l=r,r=function(){var e=du(u);l.call(e)});var u=lu(e,0,!1,null,0,!1,0,"",bu);return e._reactRootContainer=u,e[Qi]=u.current,ki(8===e.nodeType?e.parentNode:e),zl((function(){cu(t,u,n,r)})),u}(n,t,e,r),du(o)}if(vu.prototype.render=_u.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));cu(e,t,null,null)},vu.prototype.unmount=_u.prototype.unmount=function(){var e,t=this._internalRoot;null!==t&&(this._internalRoot=null,e=t.containerInfo,zl((function(){cu(null,t,null,null)})),e[Qi]=null)},vu.prototype.unstable_scheduleHydration=function(e){if(e){var t=vt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Pt(e)}},pt=function(e){switch(e.tag){case 3:var t,n=e.stateNode;n.current.memoizedState.isDehydrated&&0!==(t=st(n.pendingLanes))&&(dt(n,1|t),Ml(n,Xe()),!(6&tl))&&(pl=Xe()+500,Er());break;case 13:zl((function(){var t,n=fo(e,1);null!==n&&(t=Rl(),Il(n,e,1,t))})),gu(e,1)}},mt=function(e){var t;13===e.tag&&(null!==(t=fo(e,134217728))&&Il(t,e,134217728,Rl()),gu(e,134217728))},_t=function(e){var t,n;13===e.tag&&(null!==(n=fo(e,t=Tl(e)))&&Il(n,e,t,Rl()),gu(e,t))},vt=function(){return ft},yt=function(e,t){var n=ft;try{return ft=e,t()}finally{ft=n}},ke=zl,Pe={usingClientEntryPoint:!(ye=function(e,t,n){switch(t){case"input":if(H(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=rr(i);if(!r)throw Error(o(90));V(i),H(i,r)}}}break;case"textarea":ne(e,n);break;case"select":null!=(t=n.value)&&$(e,!!n.multiple,t,!1)}}),Events:[nr,ir,rr,Se,Ce,Ee=Ol]},n={bundleType:(Cn={findFiberByHostInstance:tr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"}).bundleType,version:Cn.version,rendererPackageName:Cn.rendererPackageName,rendererConfig:Cn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=je(e))?null:e.stateNode},findFiberByHostInstance:Cn.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&!(on=__REACT_DEVTOOLS_GLOBAL_HOOK__).isDisabled&&on.supportsFiber)try{$e=on.inject(n),et=on}catch(ae){}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pe,t.createPortal=function(e,t){if(yu(t))return function(e,t,n,i){return{$$typeof:b,key:null==(i=3<arguments.length&&void 0!==i?i:null)?null:""+i,children:e,containerInfo:t,implementation:null}}(e,t,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null);throw Error(o(200))},t.createRoot=function(e,t){var n,i,r;if(yu(e))return n=!1,i="",r=mu,null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError)&&(r=t.onRecoverableError),t=lu(e,1,!1,null,0,n,0,i,r),e[Qi]=t.current,ki(8===e.nodeType?e.parentNode:e),new _u(t);throw Error(o(299))},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0!==t)return null===(e=je(t))?null:e.stateNode;if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))},t.flushSync=zl,t.hydrate=function(e,t,n){if(xu(t))return wu(null,e,t,!0,n);throw Error(o(200))},t.hydrateRoot=function(e,t,n){if(!yu(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,s="",a=mu;if(null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError)&&(a=n.onRecoverableError),t=hu(t,null,e,1,0,r,0,s,a),e[Qi]=t.current,ki(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new vu(t)},t.render=function(e,t,n){if(xu(t))return wu(null,e,t,!1,n);throw Error(o(200))},t.unmountComponentAtNode=function(e){if(xu(e))return!!e._reactRootContainer&&(zl((function(){wu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qi]=null}))})),!0);throw Error(o(40))},t.unstable_batchedUpdates=Ol,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!xu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return wu(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},998:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(914)},9:(e,t,n)=>{n=n(483);var i=Symbol.for("react.element"),r=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(e,t,n){var a,l={},u=null,h=null;for(a in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(h=t.ref),t)r.call(t,a)&&!s.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===l[a]&&(l[a]=t[a]);return{$$typeof:i,type:e,key:u,ref:h,props:l,_owner:o.current}}t.jsx=a,t.jsxs=a},146:(e,t)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=_.prototype;var x=((L=y.prototype=new v).constructor=y,p(L,_.prototype),L.isPureReactComponent=!0,Array.isArray),b=Object.prototype.hasOwnProperty,w={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,i){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)b.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:w.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(e=""+e.key,n={"=":"=0",":":"=2"},"$"+e.replace(/[=:]/g,(function(e){return n[e]}))):t.toString(36);var n}function T(e,t,r){var o;return null==e||(o=0,function e(t,r,o,s,a){var l,u,h=typeof t,c=!1;if(null===(t="undefined"!==h&&"boolean"!==h?t:null))c=!0;else switch(h){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case n:case i:c=!0}}if(c)return a=a(c=t),t=""===s?"."+R(c,0):s,x(a)?(o="",e(a,r,o=null!=t?t.replace(k,"$&/")+"/":o,"",(function(e){return e}))):null!=a&&(E(a)&&(u=o+(!(l=a).key||c&&c.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+t,a={$$typeof:n,type:l.type,key:u,ref:l.ref,props:l.props,_owner:l._owner}),r.push(a)),1;if(c=0,s=""===s?".":s+":",x(t))for(var d=0;d<t.length;d++){var g=s+R(h=t[d],d);c+=e(h,r,o,g,a)}else if("function"==typeof(g=null!==(u=t)&&"object"==typeof t&&"function"==typeof(u=f&&t[f]||u["@@iterator"])?u:null))for(t=g.call(t),d=0;!(h=t.next()).done;)c+=e(h=h.value,r,o,g=s+R(h,d++),a);else if("object"===h)throw r=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return c}(e,e=[],"","",(function(e){return t.call(r,e,o++)}))),e}function I(e){var t;if(-1===e._status&&((t=(t=e._result)()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status)&&(e._status=0,e._result=t),1===e._status)return e._result.default;throw e._result}var M={current:null},P={transition:null},L={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:P,ReactCurrentOwner:w};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(E(e))return e;throw Error("React.Children.only expected to receive a single React element child.")}},t.Component=_,t.Fragment=r,t.Profiler=s,t.PureComponent=y,t.StrictMode=o,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,i){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=p({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t)for(l in void 0!==t.ref&&(s=t.ref,a=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)b.call(t,l)&&!S.hasOwnProperty(l)&&(r[l]=(void 0===t[l]&&void 0!==u?u:t)[l]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:n,type:e.type,key:o,ref:s,props:r,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},483:(e,t,n)=>{e.exports=n(146)},723:(e,t,n)=>{e.exports=n(9)},122:(e,t)=>{function n(e,t){var n=e.length;for(e.push(t);0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0!==e.length){var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var i=0,r=e.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=e[a],u=1+a,h=e[u];if(o(l,n)<0)i=u<r&&o(h,l)<0?(e[i]=h,e[u]=n,u):(e[i]=l,e[a]=n,a);else{if(!(u<r&&o(h,n)<0))break;e[i]=h,e[u]=n,i=u}}}}}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}"object"==typeof performance&&"function"==typeof performance.now?(s=performance,t.unstable_now=function(){return s.now()}):(a=Date,l=a.now(),t.unstable_now=function(){return a.now()-l});var s,a,l,u=[],h=[],c=1,d=null,f=3,g=!1,p=!1,m=!1,_="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=i(h);null!==t;){if(null===t.callback)r(h);else{if(!(t.startTime<=e))break;r(h),t.sortIndex=t.expirationTime,n(u,t)}t=i(h)}}function b(e){var t;m=!1,x(e),p||(null!==i(u)?(p=!0,A(w)):null!==(t=i(h))&&F(b,t.startTime-e))}function w(e,n){p=!1,m&&(m=!1,v(T),T=-1),g=!0;var o=f;try{for(x(n),d=i(u);null!==d&&(!(d.expirationTime>n)||e&&!P());){var s,a=d.callback;"function"==typeof a?(d.callback=null,f=d.priorityLevel,s=a(d.expirationTime<=n),n=t.unstable_now(),"function"==typeof s?d.callback=s:d===i(u)&&r(u),x(n)):r(u),d=i(u)}var l;return null!==d||(null!==(l=i(h))&&F(b,l.startTime-n),!1)}finally{d=null,f=o,g=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,C,E,k=!1,R=null,T=-1,I=5,M=-1;function P(){return!(t.unstable_now()-M<I)}function L(){if(null!==R){var e=t.unstable_now(),n=(M=e,!0);try{n=R(!0,e)}finally{n?S():(k=!1,R=null)}}else k=!1}function A(e){R=e,k||(k=!0,S())}function F(e,n){T=_((function(){e(t.unstable_now())}),n)}S="function"==typeof y?function(){y(L)}:"undefined"!=typeof MessageChannel?(C=new MessageChannel,E=C.port2,C.port1.onmessage=L,function(){E.postMessage(null)}):function(){_(L,0)},t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||g||(p=!0,A(w))},t.unstable_forceFrameRate=function(e){e<0||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?s+o:s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:c++,callback:r,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},s<o?(e.sortIndex=o,n(h,e),null===i(u)&&e===i(h)&&(m?(v(T),T=-1):m=!0,F(b,o-s))):(e.sortIndex=a,n(u,e),p||g||(p=!0,A(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},557:(e,t,n)=>{e.exports=n(122)}},a={};function l(e){var t=a[e];return void 0!==t||(t=a[e]={exports:{}},s[e](t,t.exports,l)),t.exports}l.m=s,l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((t,n)=>(l.f[n](e,t),t)),[])),l.u=e=>"static/js/"+e+".5ef9c773.chunk.js",l.miniCssF=e=>{},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},o="map-points:",l.l=(e,t,n,i)=>{if(r[e])r[e].push(t);else{var s,a;if(void 0!==n)for(var u=document.getElementsByTagName("script"),h=0;h<u.length;h++){var c=u[h];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==o+n){s=c;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.setAttribute("data-webpack",o+n),s.src=e),r[e]=[t],t=(t,n)=>{s.onerror=s.onload=null,clearTimeout(d);var i=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)};var d=setTimeout(t.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=t.bind(null,s.onerror),s.onload=t.bind(null,s.onload),a&&document.head.appendChild(s)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="/",i={792:0},l.f.j=(e,t)=>{var n,r,o=l.o(i,e)?i[e]:void 0;0!==o&&(o?t.push(o[2]):(n=new Promise(((t,n)=>o=i[e]=[t,n])),t.push(o[2]=n),t=l.p+l.u(e),r=new Error,l.l(t,(t=>{var n;l.o(i,e)&&(0!==(o=i[e])&&(i[e]=void 0),o)&&(n=t&&("load"===t.type?"missing":t.type),t=t&&t.target&&t.target.src,r.message="Loading chunk "+e+" failed.\n("+n+": "+t+")",r.name="ChunkLoadError",r.type=n,r.request=t,o[1](r))}),"chunk-"+e,e)))},c=(e,t)=>{var n,r,o=t[0],s=t[1],a=t[2],u=0;if(o.some((e=>0!==i[e]))){for(n in s)l.o(s,n)&&(l.m[n]=s[n]);a&&a(l)}for(e&&e(t);u<o.length;u++)r=o[u],l.o(i,r)&&i[r]&&i[r][0](),i[r]=0},(d=self.webpackChunkmap_points=self.webpackChunkmap_points||[]).forEach(c.bind(null,0)),d.push=c.bind(null,d.push.bind(d));{var u=l(483),h=l(998);const m="add",_="remove",v="propertychange",y="change",x="contextmenu",b="click",w="keydown",S="keypress",C="touchmove",E="wheel",k=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}};function R(e,t){return t<e?1:e<t?-1:0}function T(e,t){return e<t?1:t<e?-1:0}function I(e,t,n){if(e[0]<=t)return 0;const i=e.length;if(!(t<=e[i-1]))if("function"==typeof n)for(let r=1;r<i;++r){const i=e[r];if(i===t)return r;if(i<t)return 0<n(t,e[r-1],i)?r-1:r}else if(0<n){for(let n=1;n<i;++n)if(e[n]<t)return n-1}else if(n<0){for(let n=1;n<i;++n)if(e[n]<=t)return n}else for(let n=1;n<i;++n){if(e[n]==t)return n;if(e[n]<t)return e[n-1]-t<t-e[n]?n-1:n}return i-1}function M(e,t){var n=Array.isArray(t)?t:[t],i=n.length;for(let t=0;t<i;t++)e[e.length]=n[t]}function P(e,t){var n=e.length;if(n===t.length){for(let i=0;i<n;i++)if(e[i]!==t[i])return;return 1}}function L(){return!0}function A(){return!1}function F(){}function D(e){let t,n,i;return function(){var r=Array.prototype.slice.call(arguments);return n&&this===i&&P(r,n)||(i=this,n=r,t=e.apply(this,arguments)),t}}function O(e){for(const t in e)delete e[t]}function z(e){let t;for(t in e)return!1;return!t}const N=class{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}};var c=class extends k{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){var n;e&&t&&((n=(n=this.listeners_||(this.listeners_={}))[e]||(n[e]=[])).includes(t)||n.push(t))}dispatchEvent(e){var t=(r="string"==typeof e)?e:e.type,n=this.listeners_&&this.listeners_[t];if(n){var i=r?new N(e):e,r=(i.target||(i.target=this.eventTarget_||this),this.dispatching_||(this.dispatching_={}));let o;e=this.pendingRemovals_||(this.pendingRemovals_={}),t in r||(r[t]=0,e[t]=0),++r[t];for(let e=0,t=n.length;e<t;++e)if(!1===(o="handleEvent"in n[e]?n[e].handleEvent(i):n[e].call(this,i))||i.propagationStopped){o=!1;break}if(0==--r[t]){let n=e[t];for(delete e[t];n--;)this.removeEventListener(t,F);delete r[t]}return o}}disposeInternal(){this.listeners_&&O(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:0<Object.keys(this.listeners_).length)}removeEventListener(e,t){var n;this.listeners_&&(n=this.listeners_[e])&&-1!==(t=n.indexOf(t))&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[t]=F,++this.pendingRemovals_[e]):(n.splice(t,1),0===n.length&&delete this.listeners_[e]))}};function G(e,t,n,i,r){if(r){const r=n;n=function(o){return e.removeEventListener(t,n),r.call(null!=i?i:this,o)}}else i&&i!==e&&(n=n.bind(i));return r={target:e,type:t,listener:n},e.addEventListener(t,n),r}function W(e,t,n,i){return G(e,t,n,i,!0)}function j(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),O(e))}class B extends c{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(y)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){var n=e.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=G(this,e[r],t);return i}return G(this,e,t)}onceInternal(e,t){let n;if(Array.isArray(e)){var i=e.length;n=new Array(i);for(let r=0;r<i;++r)n[r]=W(this,e[r],t)}else n=W(this,e,t);return t.ol_key=n}unInternal(e,t){var n=t.ol_key;if(n){var i=n;if(Array.isArray(i))for(let e=0,t=i.length;e<t;++e)j(i[e]);else j(i)}else if(Array.isArray(e))for(let n=0,i=e.length;n<i;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)}}var d=B;function U(){throw new Error("Unimplemented abstract method.")}let V=0;function Y(e){return e.ol_uid||(e.ol_uid=String(++V))}class X extends N{constructor(e,t,n){super(e),this.key=t,this.oldValue=n}}const Z=class extends d{constructor(e){super(),this.on,this.once,this.un,Y(this),this.values_=null,void 0!==e&&this.setProperties(e)}get(e){return this.values_&&this.values_.hasOwnProperty(e)?this.values_[e]:undefined}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){var n="change:".concat(e);this.hasListener(n)&&this.dispatchEvent(new X(n,e,t)),n=v,this.hasListener(n)&&this.dispatchEvent(new X(n,e,t))}addChangeListener(e,t){this.addEventListener("change:".concat(e),t)}removeChangeListener(e,t){this.removeEventListener("change:".concat(e),t)}set(e,t,n){var i=this.values_||(this.values_={});if(n)i[e]=t;else{const n=i[e];n!==(i[e]=t)&&this.notify(e,n)}}setProperties(e,t){for(const n in e)this.set(n,e[n],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){var n;this.values_&&e in this.values_&&(n=this.values_[e],delete this.values_[e],z(this.values_)&&(this.values_=null),t||this.notify(e,n))}};class K extends N{constructor(e,t,n){super(e),this.element=t,this.index=n}}const H=class extends Z{constructor(e,t){if(super(),this.on,this.once,this.un,this.unique_=!!(t=t||{}).unique,this.array_=e||[],this.unique_)for(let e=0,t=this.array_.length;e<t;++e)this.assertUnique_(this.array_[e],e);this.updateLength_()}clear(){for(;0<this.getLength();)this.pop()}extend(e){for(let t=0,n=e.length;t<n;++t)this.push(e[t]);return this}forEach(e){var t=this.array_;for(let n=0,i=t.length;n<i;++n)e(t[n],n,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get("length")}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new K(m,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){var t=this.array_;for(let n=0,i=t.length;n<i;++n)if(t[n]===e)return this.removeAt(n)}removeAt(e){var t;if(!(e<0||e>=this.getLength()))return t=this.array_[e],this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new K(_,t,e)),t}setAt(e,t){if(e>=this.getLength())this.insertAt(e,t);else{if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);var n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new K(_,n,e)),this.dispatchEvent(new K(m,t,e))}}updateLength_(){this.set("length",this.array_.length)}assertUnique_(e,t){for(let n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===e&&n!==t)throw new Error("Duplicate item added to a unique collection")}},q=class extends N{constructor(e,t,n){super(e),this.map=t,this.frameState=void 0!==n?n:null}},Q=class extends q{constructor(e,t,n,i,r,o){super(e,t,r),this.originalEvent=n,this.pixel_=null,this.coordinate_=null,this.dragging=void 0!==i&&i,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}},J={SINGLECLICK:"singleclick",CLICK:b,DBLCLICK:"dblclick",POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},$="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",ee=(!$.includes("safari")||$.includes("chrom")||$.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test($),$.includes("webkit")&&!$.includes("edge")),te=$.includes("macintosh"),ne="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,ie="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,re="undefined"!=typeof Image&&Image.prototype.decode,oe=function(){let e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}(),se="pointerdown",ae=class extends c{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=void 0===t?1:t,this.down_=null,e=this.map_.getViewport(),this.activePointers_=[],this.trackedTouches_={},this.element_=e,this.pointerdownListenerKey_=G(e,se,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=G(e,"pointermove",this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(C,this.boundHandleTouchMove_,!!oe&&{passive:!1})}emulateClick_(e){var t=new Q(J.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new Q(J.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout((()=>{this.clickTimeoutId_=void 0;var t=new Q(J.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}),250)}updateActivePointers_(e){var t=e;if(e=t.pointerId,t.type==J.POINTERUP||t.type==J.POINTERCANCEL){delete this.trackedTouches_[e];for(const e in this.trackedTouches_)if(this.trackedTouches_[e].target!==t.target){delete this.trackedTouches_[e];break}}else t.type!=J.POINTERDOWN&&t.type!=J.POINTERMOVE||(this.trackedTouches_[e]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);var t=new Q(J.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(j),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);var t=new Q(J.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){const e=this.map_.getOwnerDocument();this.dragListenerKeys_.push(G(e,J.POINTERMOVE,this.handlePointerMove_,this),G(e,J.POINTERUP,this.handlePointerUp_,this),G(this.element_,J.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==e&&this.dragListenerKeys_.push(G(this.element_.getRootNode(),J.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){this.isMoving_(e)&&(this.updateActivePointers_(e),this.dragging_=!0,e=new Q(J.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_),this.dispatchEvent(e))}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new Q(J.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){var t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"==typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(j(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(C,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(j(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(j),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}},le="postrender",ue="loadstart",he="loadend",ce="layergroup",de="size",fe="target",ge="view";function pe(e,t){if(!e)throw new Error(t)}const me=class extends class{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,O(this.queuedElements_)}dequeue(){var e=this.elements_,t=this.priorities_,n=e[0];return 1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0)),e=this.keyFunction_(n),delete this.queuedElements_[e],n}enqueue(e){pe(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");var t=this.priorityFunction_(e);return t!=1/0&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;0<=e;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,n=this.priorities_,i=t.length,r=t[e],o=n[e],s=e;for(;e<i>>1;){const r=this.getLeftChildIndex_(e),o=this.getRightChildIndex_(e),s=o<i&&n[o]<n[r]?o:r;t[e]=t[s],n[e]=n[s],e=s}t[e]=r,n[e]=o,this.siftDown_(s,e)}siftDown_(e,t){for(var n=this.elements_,i=this.priorities_,r=n[t],o=i[t];e<t;){const e=this.getParentIndex_(t);if(!(i[e]>o))break;n[t]=n[e],i[t]=i[e],t=e}n[t]=r,i[t]=o}reprioritize(){var e=this.priorityFunction_,t=this.elements_,n=this.priorities_;let i=0;var r=t.length;let o,s,a;for(s=0;s<r;++s)(a=e(o=t[s]))==1/0?delete this.queuedElements_[this.keyFunction_(o)]:(n[i]=a,t[i++]=o);t.length=i,n.length=i,this.heapify_()}}{constructor(e,t){super((t=>e.apply(null,t)),(e=>e[0].getKey())),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){var t=super.enqueue(e);return t&&e[0].addEventListener(y,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){var t=e.target,n=t.getState();if(2===n||3===n||4===n){3!==n&&t.removeEventListener(y,this.boundHandleTileChange_);const e=t.getKey();e in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[e],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let n=0;for(;this.tilesLoading_<e&&n<t&&0<this.getCount();){const e=this.dequeue()[0],t=e.getKey();0!==e.getState()||t in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[t]=!0,++this.tilesLoading_,++n,e.load())}}},_e={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function ve(e,t,n){return Math.min(Math.max(e,t),n)}function ye(e,t,n,i){return(n-=e)*n+(e=i-t)*e}function xe(e){return 180*e/Math.PI}function be(e){return e*Math.PI/180}function we(e,t){return(e%=t)*t<0?e+t:e}function Se(e,t,n){return e+n*(t-e)}function Ce(e,t){return t=Math.pow(10,t),Math.round(e*t)/t}function Ee(e,t){return Math.floor(Ce(e,t))}function ke(e,t){return Math.ceil(Ce(e,t))}function Re(e,t,n){return t<=e&&e<n?e:((e-t)%(e=n-t)+e)%e+t}function Te(e,t,n){return function(i,r,o,s,a){if(i){if(!r&&!t)return i;var l=t?0:o[0]*r,u=(o=t?0:o[1]*r,a?a[0]:0);a=a?a[1]:0;let h=e[0]+l/2+u,c=e[2]-l/2+u,d=e[1]+o/2+a,f=e[3]-o/2+a,g=(h>c&&(h=(c+h)/2,c=h),d>f&&(d=(f+d)/2,f=d),ve(i[0],h,c)),p=ve(i[1],d,f);if(s&&n&&r){const e=30*r;g+=-e*Math.log(1+Math.max(0,h-i[0])/e)+e*Math.log(1+Math.max(0,i[0]-c)/e),p+=-e*Math.log(1+Math.max(0,d-i[1])/e)+e*Math.log(1+Math.max(0,i[1]-f)/e)}return[g,p]}}}function Ie(e){return e}const Me={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Pe(e){var t=[1/0,1/0,-1/0,-1/0];for(let n=0,i=e.length;n<i;++n)Ve(t,e[n]);return t}function Le(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function Ae(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function Fe(e,t,n){return(t=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*t+(n=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0)*n}function De(e,t){return ze(e,t[0],t[1])}function Oe(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function ze(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function Ne(e,t){var n=e[0],i=e[1],r=e[2],o=(e=e[3],t[0]);t=t[1];let s=Me.UNKNOWN;return o<n?s|=Me.LEFT:r<o&&(s|=Me.RIGHT),t<i?s|=Me.BELOW:e<t&&(s|=Me.ABOVE),s===Me.UNKNOWN?Me.INTERSECTING:s}function Ge(e,t,n,i,r){return r?(r[0]=e,r[1]=t,r[2]=n,r[3]=i,r):[e,t,n,i]}function We(e){return Ge(1/0,1/0,-1/0,-1/0,e)}function je(e,t){var n=e[0];return Ge(n,e=e[1],n,e,t)}function Be(e,t,n,i,r){return Ye(We(r),e,t,n,i)}function Ue(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function Ve(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Ye(e,t,n,i,r){for(;n<i;n+=r)o=e,s=t[n],a=t[n+1],o[0]=Math.min(o[0],s),o[1]=Math.min(o[1],a),o[2]=Math.max(o[2],s),o[3]=Math.max(o[3],a);var o,s,a;return e}function Xe(e,t){return t(Ke(e))||t(He(e))||t(nt(e))||t(tt(e))}function Ze(e){return ot(e)?0:it(e)*$e(e)}function Ke(e){return[e[0],e[1]]}function He(e){return[e[2],e[1]]}function qe(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function Qe(e,t,n,i,r){var[e,t,n,i,o,s,a,l]=Je(e,t,n,i);return Ge(Math.min(e,n,o,a),Math.min(t,i,s,l),Math.max(e,n,o,a),Math.max(t,i,s,l),r)}function Je(e,t,n,i){var r=t*i[0]/2,o=(t=t*i[1]/2,r*(i=Math.cos(n)));return r*=n=Math.sin(n),i*=t,t*=n,[(n=e[0])-o+t,(e=e[1])-r-i,n-o-t,e-r+i,n+o-t,e+r+i,n+o+t,e+r-i,n-o+t,e-r-i]}function $e(e){return e[3]-e[1]}function et(e,t,n){return n=n||[1/0,1/0,-1/0,-1/0],rt(e,t)?(e[0]>t[0]?n[0]=e[0]:n[0]=t[0],e[1]>t[1]?n[1]=e[1]:n[1]=t[1],e[2]<t[2]?n[2]=e[2]:n[2]=t[2],e[3]<t[3]?n[3]=e[3]:n[3]=t[3]):We(n),n}function tt(e){return[e[0],e[3]]}function nt(e){return[e[2],e[3]]}function it(e){return e[2]-e[0]}function rt(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function ot(e){return e[2]<e[0]||e[3]<e[1]}function st(e,t){var n=t.getExtent(),i=qe(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const t=it(n),r=Math.floor((i[0]-n[0])/t)*t;e[0]-=r,e[2]-=r}return e}function at(e,t,n){if(t.canWrapX()){var i=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[i[0],e[1],i[2],e[3]]];if(st(e,t),t=it(i),it(e)>t&&!n)return[[i[0],e[1],i[2],e[3]]];if(e[0]<i[0])return[[e[0]+t,e[1],i[2],e[3]],[i[0],e[1],e[2],e[3]]];if(e[2]>i[2])return[[e[0],e[1],i[2],e[3]],[i[0],e[1],e[2]-t,e[3]]]}return[e]}function lt(e,t){let n=!0;for(let i=e.length-1;0<=i;--i)if(e[i]!=t[i]){n=!1;break}return n}function ut(e,t){var n=Math.cos(t),i=(t=Math.sin(t),e[0]*n-e[1]*t);n=e[1]*n+e[0]*t,e[0]=i,e[1]=n}function ht(e,t){var n;return t.canWrapX()&&(n=it(t.getExtent()),t=function(e,t,n){var i=t.getExtent();let r=0;return t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||it(i),r=Math.floor((e[0]-i[0])/n)),r}(e,t,n))&&(e[0]-=t*n),e}function ct(e){return Math.pow(e,3)}function dt(e){return 1-ct(1-e)}function ft(e){return 3*e*e-2*e*e*e}function gt(e){return e}const pt={info:1,warn:2,error:3,none:4};let mt=pt.info;function _t(){mt>pt.warn||console.warn(...arguments)}const vt={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},yt=class{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||vt[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}},xt=6378137,bt=Math.PI*xt,wt=[-bt,-bt,bt,bt],St=[-180,-85,180,85],Ct=xt*Math.log(Math.tan(Math.PI/2));class Et extends yt{constructor(e){super({code:e,units:"m",extent:wt,global:!0,worldExtent:St,getPointResolution:function(e,t){return e/Math.cosh(t[1]/xt)}})}}const kt=[new Et("EPSG:3857"),new Et("EPSG:102100"),new Et("EPSG:102113"),new Et("EPSG:900913"),new Et("http://www.opengis.net/def/crs/EPSG/0/3857"),new Et("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Rt(e,t,n,i){var r,o=e.length;n=1<n?n:2,i=null!=(r=i)?r:n,void 0===t&&(t=2<n?e.slice():new Array(o));for(let n=0;n<o;n+=i){t[n]=bt*e[n]/180;let i=xt*Math.log(Math.tan(Math.PI*(+e[n+1]+90)/360));i>Ct?i=Ct:i<-Ct&&(i=-Ct),t[n+1]=i}return t}function Tt(e,t,n,i){var r,o=e.length;n=1<n?n:2,i=null!=(r=i)?r:n,void 0===t&&(t=2<n?e.slice():new Array(o));for(let n=0;n<o;n+=i)t[n]=180*e[n]/bt,t[n+1]=360*Math.atan(Math.exp(e[n+1]/xt))/Math.PI-90;return t}const It=[-180,-90,180,90],Mt=6378137*Math.PI/180;class Pt extends yt{constructor(e,t){super({code:e,units:"degrees",extent:It,axisOrientation:t,global:!0,metersPerUnit:Mt,worldExtent:It})}}const Lt=[new Pt("CRS:84"),new Pt("EPSG:4326","neu"),new Pt("urn:ogc:def:crs:OGC:1.3:CRS84"),new Pt("urn:ogc:def:crs:OGC:2:84"),new Pt("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Pt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Pt("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let At={},Ft={};function Dt(e,t,n){e=e.getCode(),t=t.getCode(),e in Ft||(Ft[e]={}),Ft[e][t]=n}function Ot(e,t){return e in Ft&&t in Ft[e]?Ft[e][t]:null}const zt=.9996,Nt=.00669438,Gt=Nt/(1-Nt),Wt=Math.sqrt(1-Nt),jt=(1-Wt)/(1+Wt),Bt=jt*jt,Ut=Bt*jt,Vt=Ut*jt,Yt=Vt*jt,Xt=.9983242984503243,Zt=1.5*jt-27/32*Ut+269/512*Yt,Kt=21/16*Bt-55/32*Vt,Ht=151/96*Ut-417/128*Yt,qt=1097/512*Vt,Qt=6378137;function Jt(e,t,n){e-=5e5,t=(t=(n.north?t:t-1e7)/zt/(Qt*Xt))+Zt*Math.sin(2*t)+Kt*Math.sin(4*t)+Ht*Math.sin(6*t)+qt*Math.sin(8*t);var i,r=(i=Math.sin(t))*i,o=Math.cos(t),s=(i/=o)*i,a=s*s,l=1-Nt*r,u=(r=Math.sqrt(1-Nt*r),Gt*o**2),h=u*u,c=(r=(e/=Qt/r*zt)*e)*e,d=c*e,f=d*e;return t=t-i/((1-Nt)/l)*(r/2-d/24*(5+3*s+10*u-4*h-9*Gt))+f*e/720*(61+90*s+298*u+45*a-252*Gt-3*h),[xe(Re((e-c/6*(1+2*s+u)+f/120*(5-2*u+28*s-3*h+8*Gt+24*a))/o+be(en(n.number)),-Math.PI,Math.PI)),xe(t)]}function $t(e,t,n){e=Re(e,-180,180),t<-80?t=-80:84<t&&(t=84),t=be(t);var i=(a=Math.sin(t))/(d=Math.cos(t)),r=i*i,o=r*r,s=(e=be(e),be(en(n.number))),a=Qt/Math.sqrt(1-Nt*a**2),l=Gt*d**2,u=(s=(e=(d*=Re(e-s,-Math.PI,Math.PI))*d)*d)*d,h=u*d,c=h*d,d=(t=Qt*(Xt*t-.002514607064228144*Math.sin(2*t)+26390466021299826e-22*Math.sin(4*t)-3.418046101696858e-9*Math.sin(6*t)),zt*a*(d+s/6*(1-r+l)+h/120*(5-18*r+o+72*l-58*Gt))+5e5);let f=zt*(t+a*i*(e/2+u/24*(5-r+9*l+4*l**2)+c/720*(61-58*r+o+600*l-330*Gt)));return n.north||(f+=1e7),[d,f]}function en(e){return 6*(e-1)-180+3}const tn=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function nn(e){let t=0;for(const n of tn){const i=e.match(n);if(i){t=parseInt(i[1]);break}}if(!t)return null;let n=0,i=!1;return 32700<t&&t<32761?n=t-32700:32600<t&&t<32661&&(i=!0,n=t-32600),n?{number:n,north:i}:null}function rn(e,t){return function(n,i,r,o){var s,a=n.length;r=1<r?r:2,o=null!=(s=o)?s:r,i=i||(2<r?n.slice():new Array(a));for(let r=0;r<a;r+=o){const o=n[r],s=n[r+1],a=e(o,s,t);i[r]=a[0],i[r+1]=a[1]}return i}}const on=6371008.8;function sn(e,t,n){n=n||on;var i=be(e[1]),r=be(t[1]),o=(r-i)/2;return t=be(t[0]-e[0])/2,e=Math.sin(o)*Math.sin(o)+Math.sin(t)*Math.sin(t)*Math.cos(i)*Math.cos(r),2*n*Math.atan2(Math.sqrt(e),Math.sqrt(1-e))}const an=[function(e){return(e=nn(e.getCode()))?{forward:rn($t,e),inverse:rn(Jt,e)}:null}],ln=[function(e){return nn(e)?new yt({code:e,units:"m"}):null}];let un=!0;function hn(e){un=!(void 0===e||e)}function cn(e,t){if(void 0!==t)for(let n=0,i=e.length;n<i;++n)t[n]=e[n];else t=e.slice();return t}function dn(e){var t,n;t=e.getCode(),n=e,At[t]=n,Dt(e,e,cn)}function fn(e){if("string"!=typeof e)return e;const t=At[n=e]||At[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null;var n;if(t)return t;for(const t of ln){const n=t(e);if(n)return n}return null}function gn(e,t,n,i){let r;const o=(e=fn(e)).getPointResolutionFunc();if(o){if(r=o(t,n),i&&i!==e.getUnits()){const t=e.getMetersPerUnit();t&&(r=r*t/vt[i])}}else{const o=e.getUnits();var s;"degrees"==o&&!i||"degrees"==i?r=t:(r=(s=yn(e,fn("EPSG:4326")))||"degrees"===o?(sn((s=s(s=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2],s,2)).slice(0,2),s.slice(2,4))+sn(s.slice(4,6),s.slice(6,8)))/2:t*e.getMetersPerUnit(),void 0!==(n=i?vt[i]:e.getMetersPerUnit())&&(r/=n))}return r}function pn(e){e.forEach(dn),e.forEach((function(t){e.forEach((function(e){t!==e&&Dt(t,e,cn)}))}))}function mn(e,t){return e?"string"==typeof e?fn(e):e:fn(t)}function _n(e,t){return hn(),wn(e,"EPSG:4326",void 0!==t?t:"EPSG:3857")}function vn(e,t){var n;return e===t||(n=e.getUnits()===t.getUnits(),(e.getCode()===t.getCode()||yn(e,t)===cn)&&n)}function yn(e,t){var n=e.getCode(),i=t.getCode();let r=Ot(n,i);if(!r){let o=null,s=null;for(const n of an)o=o||n(e),s=s||n(t);if(!o&&!s)return null;if(s)if(o)r=xn(o.inverse,s.forward);else{const e=Ot(n,"EPSG:4326");e&&(r=xn(e,s.forward))}else{const e=Ot("EPSG:4326",i);e&&(r=xn(o.inverse,e))}r&&(dn(e),dn(t),Dt(e,t,r))}return r}function xn(e,t){return function(n,i,r,o){return i=e(n,i,r,o),t(i,i,r,o)}}function bn(e,t){return yn(fn(e),fn(t))}function wn(e,t,n){const i=bn(t,n);if(i)return i(e,void 0,e.length);{const e=fn(t).getCode(),i=fn(n).getCode();throw new Error("No transform available between ".concat(e," and ").concat(i))}}function Sn(e){return e}function Cn(e){return un&&!lt(e,[0,0])&&-180<=e[0]&&e[0]<=180&&-90<=e[1]&&e[1]<=90&&(un=!1,_t("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e}function En(e){return e}function kn(e){return e}function Rn(e,t){var n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function Tn(e,t,n,i,r,o,s,a){var l=Math.sin(o);return o=Math.cos(o),e[0]=i*o,e[1]=r*l,e[2]=-i*l,e[3]=r*o,e[4]=s*i*o-a*i*l+t,e[5]=s*r*l+a*r*o+n,e}function In(e,t){var n=t[0]*t[3]-t[1]*t[2],i=(pe(0!=n,"Transformation matrix cannot be inverted"),t[0]),r=t[1],o=t[2],s=t[3],a=t[4];t=t[5],e[0]=s/n,e[1]=-r/n,e[2]=-o/n,e[3]=i/n,e[4]=(o*t-s*a)/n,e[5]=-(i*t-r*a)/n}pn(kt),pn(Lt),e=kt,t=Rt,n=Tt,Lt.forEach((function(i){e.forEach((function(e){Dt(i,e,t),Dt(e,i,n)}))})),new Array(6);const Mn=[1e5,1e5,1e5,1e5,2,2];function Pn(e){return e.substring(7,e.length-1).split(",").map(parseFloat)}function Ln(e,t,n,i,r,o,s){o=o||[],s=s||2;let a=0;for(let l=t;l<n;l+=i){const t=e[l],n=e[l+1];o[a++]=r[0]*t+r[2]*n+r[4],o[a++]=r[1]*t+r[3]*n+r[5];for(let t=2;t<s;t++)o[a++]=e[l+t]}return o&&o.length!=a&&(o.length=a),o}function An(e,t,n,i,r,o,s){s=s||[];var a=Math.cos(r),l=Math.sin(r),u=o[0],h=o[1];let c=0;for(let r=t;r<n;r+=i){const t=e[r]-u,n=e[r+1]-h;s[c++]=u+t*a-n*l,s[c++]=h+t*l+n*a;for(let t=r+2;t<r+i;++t)s[c++]=e[t]}s&&s.length!=c&&(s.length=c)}const Fn=[1,0,0,1,0,0],Dn=[NaN,NaN];function On(e){let t;return"XY"==e?t=2:"XYZ"==e||"XYM"==e?t=3:"XYZM"==e&&(t=4),t}var f=class extends class extends Z{constructor(){super(),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=D(((e,t,n)=>{var i;return(n?((i=this.clone()).applyTransform(n),i):this).getSimplifiedGeometry(t)}))}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return U()}closestPointXY(e,t,n,i){return U()}containsXY(e,t){return 0===this.closestPointXY(e,t,Dn,Number.MIN_VALUE)}getClosestPoint(e,t){return this.closestPointXY(e[0],e[1],t=t||[NaN,NaN],1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return U()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&We(e),this.extentRevision_=this.getRevision()}return t=this.extent_,e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t;var t}rotate(e,t){U()}scale(e,t,n){U()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return U()}getType(){return U()}applyTransform(e){U()}intersectsExtent(e){return U()}translate(e,t){U()}transform(e,t){const n=fn(e),i="tile-pixels"==n.getUnits()?function(e,i,r){var o=n.getExtent(),s=(o=$e(s=n.getWorldExtent())/$e(o),Tn(Fn,s[0],s[3],o,-o,0,0,0),Ln(e,0,e.length,r,Fn,i));return(o=bn(n,t))?o(s,s,r):s}:bn(n,t);return this.applyTransform(i),this}}{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return Be(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return U()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){var t;return this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance?this:(t=this.getSimplifiedGeometryInternal(e)).getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=On(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){U()}setLayout(e,t,n){let i;if(e)i=On(e);else{for(let e=0;e<n;++e){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}e=function(e){let t;return 2==e?t="XY":3==e?t="XYZ":4==e&&(t="XYZM"),t}(i=t.length)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){var n,i=this.getFlatCoordinates();i&&(n=this.getStride(),An(i,0,i.length,n,e,t,i),this.changed())}scale(e,t,n){void 0===t&&(t=e),n=n||qe(this.getExtent());var i=this.getFlatCoordinates();if(i){var r=this.getStride();{var o=i,s=i.length,a=r,l=e,u=t,h=i;h=h||[];var c=(r=n)[0],d=r[1];let f=0;for(let e=0;e<s;e+=a){const t=o[e]-c,n=o[e+1]-d;h[f++]=c+l*t,h[f++]=d+u*n;for(let t=e+2;t<e+a;++t)h[f++]=o[t]}h&&h.length!=f&&(h.length=f)}this.changed()}}translate(e,t){var n=this.getFlatCoordinates();if(n){var i=this.getStride();{var r=n,o=n.length,s=i,a=e,l=t,u=n;u=u||[];let h=0;for(let e=0;e<o;e+=s){u[h++]=r[e]+a,u[h++]=r[e+1]+l;for(let t=e+2;t<e+s;++t)u[h++]=r[t]}u&&u.length!=h&&(u.length=h)}this.changed()}}};function zn(e,t,n,i){let r=0;var o=e[n-i],s=e[n-i+1];let a=0,l=0;for(;t<n;t+=i){const n=e[t]-o,i=e[t+1]-s;r+=l*n-a*i,a=n,l=i}return r/2}function Nn(e,t,n,i,r,o,s){var a=e[t],l=e[t+1],u=e[n]-a,h=e[n+1]-l;let c;if(0==u&&0==h)c=t;else{var d=((r-a)*u+(o-l)*h)/(u*u+h*h);if(1<d)c=n;else{if(0<d){for(let r=0;r<i;++r)s[r]=Se(e[t+r],e[n+r],d);return s.length=i}c=t}}for(let t=0;t<i;++t)s[t]=e[c+t];s.length=i}function Gn(e,t,n,i,r){let o=e[t],s=e[t+1];for(t+=i;t<n;t+=i){const n=e[t],i=e[t+1],a=ye(o,s,n,i);r<a&&(r=a),o=n,s=i}return r}function Wn(e,t,n,i,r,o,s,a,l,u,h){if(t!=n){let c,d;if(0===r){if((d=ye(s,a,e[t],e[t+1]))<u){for(c=0;c<i;++c)l[c]=e[t+c];return l.length=i,d}}else{h=h||[NaN,NaN];let f=t+i;for(;f<n;)if(Nn(e,f-i,f,i,s,a,h),(d=ye(s,a,h[0],h[1]))<u){for(u=d,c=0;c<i;++c)l[c]=h[c];l.length=i,f+=i}else f+=i*Math.max((Math.sqrt(d)-Math.sqrt(u))/r|0,1);if(o&&(Nn(e,n-i,t,i,s,a,h),(d=ye(s,a,h[0],h[1]))<u)){for(u=d,c=0;c<i;++c)l[c]=h[c];l.length=i}}}return u}function jn(e,t,n,i){for(let o=0,s=n.length;o<s;++o){var r=n[o];for(let n=0;n<i;++n)e[t++]=r[n]}return t}function Bn(e,t,n,i,r){r=void 0!==r?r:[];let o=0;for(let s=t;s<n;s+=i)r[o++]=e.slice(s,s+i);return r.length=o,r}function Un(e,t,n,i,r){r=void 0!==r?r:[];let o=0;for(let a=0,l=n.length;a<l;++a){var s=n[a];r[o++]=Bn(e,t,s,i,r[o]),t=s}return r.length=o,r}function Vn(e,t,n,i,r){r=void 0!==r?r:[];let o=0;for(let a=0,l=n.length;a<l;++a){var s=n[a];r[o++]=1===s.length&&s[0]===t?[]:Un(e,t,s,i,r[o]),t=s[s.length-1]}return r.length=o,r}function Yn(e,t,n,i,r,o,s){const a=(n-t)/i;if(a<3)for(;t<n;t+=i)o[s++]=e[t],o[s++]=e[t+1];else{var l,u,h,c,d,f,g,p,m,_=new Array(a),v=(_[0]=1,_[a-1]=1,[t,n-i]);let y=0;for(;0<v.length;){const n=v.pop(),o=v.pop();let s=0;const a=e[o],x=e[o+1],b=e[n],w=e[n+1];for(let t=o+i;t<n;t+=i){l=e[t],u=e[t+1],g=void 0,m=(f=w)-(c=x),0==(p=(d=b)-(h=a))&&0==m||(1<(g=((l-h)*p+(u-c)*m)/(p*p+m*m))?(h=d,c=f):0<g&&(h+=p*g,c+=m*g));const n=ye(l,u,h,c);n>s&&(y=t,s=n)}s>r&&(_[(y-t)/i]=1,o+i<y&&v.push(o,y),y+i<n)&&v.push(y,n)}for(let n=0;n<a;++n)_[n]&&(o[s++]=e[t+n*i],o[s++]=e[t+n*i+1])}return s}function Xn(e,t){return t*Math.round(e/t)}function Zn(e,t,n,i,r,o,s,a){for(let u=0,h=n.length;u<h;++u){var l=n[u];s=function(e,t,n,i,r,o,s){if(t!=n){let c,d,f=Xn(e[t],r),g=Xn(e[t+1],r);t+=i,o[s++]=f,o[s++]=g;do{if(c=Xn(e[t],r),d=Xn(e[t+1],r),(t+=i)==n)return o[s++]=c,o[s++]=d,s}while(c==f&&d==g);for(;t<n;){const n=Xn(e[t],r),p=Xn(e[t+1],r);var a,l,u,h;t+=i,n==c&&p==d||((a=c-f)*(h=p-g)==(l=d-g)*(u=n-f)&&(a<0&&u<a||a==u||0<a&&a<u)&&(l<0&&h<l||l==h||0<l&&l<h)||(o[s++]=c,o[s++]=d,f=c,g=d),c=n,d=p)}o[s++]=c,o[s++]=d}return s}(e,t,l,i,r,o,s),a.push(s),t=l}return s}const Kn=class e extends f{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===t||Array.isArray(e[0])?this.setCoordinates(e,t):this.setFlatCoordinates(t,e)}clone(){return new e(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,n,i){return i<Fe(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Gn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Wn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,i))}getArea(){return zn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Bn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){var n=[];return n.length=Yn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=jn(this.flatCoordinates,0,e,this.stride),this.changed()}},Hn=class e extends f{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(e,t,n,i){var r=this.flatCoordinates;if((t=ye(e,t,r[0],r[1]))<i){const e=this.stride;for(let t=0;t<e;++t)n[t]=r[t];return n.length=e,t}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return je(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return ze(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(e,t,n){for(let i=0,r=n.length;i<r;++i)e[t++]=n[i];return t}(this.flatCoordinates,0,e,this.stride),this.changed()}};function qn(e,t,n,i,r,o){let s=0,a=e[n-i],l=e[n-i+1];for(;t<n;t+=i){const n=e[t],i=e[t+1];l<=o?i>o&&0<(n-a)*(o-l)-(r-a)*(i-l)&&s++:i<=o&&(n-a)*(o-l)-(r-a)*(i-l)<0&&s--,a=n,l=i}return 0!==s}function Qn(e,t,n,i,r,o){if(0===n.length)return!1;if(!qn(e,t,n[0],i,r,o))return!1;for(let t=1,s=n.length;t<s;++t)if(qn(e,n[t-1],n[t],i,r,o))return!1;return!0}function Jn(e,t,n,i,r,o,s){let a,l,u,h,c,d,f;var g=r[o+1],p=[];for(let r=0,o=n.length;r<o;++r){const o=n[r];for(h=e[o-i],d=e[o-i+1],a=t;a<o;a+=i)c=e[a],f=e[a+1],(g<=d&&f<=g||d<=g&&g<=f)&&(u=(g-d)/(f-d)*(c-h)+h,p.push(u)),h=c,d=f}let m=NaN,_=-1/0;for(p.sort(R),h=p[0],a=1,l=p.length;a<l;++a){c=p[a];const r=Math.abs(c-h);r>_&&Qn(e,t,n,i,u=(h+c)/2,g)&&(m=u,_=r),h=c}return isNaN(m)&&(m=r[o]),s?(s.push(m,g,_),s):[m,g,_]}function $n(e,t,n,i,r,o){var s;return o=null!=(s=o)?s:Ye([1/0,1/0,-1/0,-1/0],e,t,n,i),rt(r,o)&&(o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||function(e,t,n,i){var o;for(t+=i;t<n;t+=i)if(o=function(e,t){{var n=r,i=e,o=t;let s=!1;const a=Ne(n,i),l=Ne(n,o);if(a===Me.INTERSECTING||l===Me.INTERSECTING)s=!0;else{const e=n[0],t=n[1],r=n[2],u=n[3],h=i[0],c=i[1],d=o[0],f=o[1],g=(f-c)/(d-h);let p,m;l&Me.ABOVE&&!(a&Me.ABOVE)&&(p=d-(f-u)/g,s=p>=e&&p<=r),s||!(l&Me.RIGHT)||a&Me.RIGHT||(m=f-(d-r)*g,s=m>=t&&m<=u),s||!(l&Me.BELOW)||a&Me.BELOW||(p=d-(f-t)/g,s=p>=e&&p<=r),s||!(l&Me.LEFT)||a&Me.LEFT||(m=f-(d-e)*g,s=m>=t&&m<=u)}return s}}(e.slice(t-i,t),e.slice(t,t+i)))return o}(e,t,n,i))}function ei(e,t,n,i,r){return!!($n(e,t,n,i,r)||qn(e,t,n,i,r[0],r[1])||qn(e,t,n,i,r[0],r[3])||qn(e,t,n,i,r[2],r[1])||qn(e,t,n,i,r[2],r[3]))}function ti(e,t,n,i,r){if(!ei(e,t,n[0],i,r))return!1;if(1!==n.length)for(let t=1,o=n.length;t<o;++t)if(function(e,t,n,i,r){return!Xe(r,(function(r){return!qn(e,t,n,i,r[0],r[1])}))}(e,n[t-1],n[t],i,r)&&!$n(e,n[t-1],n[t],i,r))return!1;return!0}function ni(e,t,n,i){let r=0,o=e[n-i],s=e[n-i+1];for(;t<n;t+=i){const n=e[t],i=e[t+1];r+=(n-o)*(i+s),o=n,s=i}return 0===r?void 0:0<r}function ii(e,t,n,i,r){r=void 0!==r&&r;for(let d=0,f=n.length;d<f;++d){var o=n[d],s=ni(e,t,o,i);if(0===d?r&&s||!r&&!s:r&&!s||!r&&s){a=void 0,l=void 0,u=void 0,c=void 0;for(var a=e,l=t,u=o,h=i;l<u-h;){for(let e=0;e<h;++e){var c=a[l+e];a[l+e]=a[u-h+e],a[u-h+e]=c}l+=h,u-=h}}t=o}return t}class ri extends f{constructor(e,t,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==t&&n?(this.setFlatCoordinates(t,e),this.ends_=n):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?M(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){var e=new ri(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,n,i){if(i<Fe(this.getExtent(),e,t))return i;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(e,t,n,i,r){for(let s=0,a=n.length;s<a;++s){var o=n[s];r=Gn(e,t,o,i,r),t=o}return r}(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());var r=this.flatCoordinates,o=0,s=this.ends_,a=this.stride,l=this.maxDelta_,u=e,h=t,c=n,d=i,f=void 0;f=f||[NaN,NaN];for(let e=0,t=s.length;e<t;++e){var g=s[e];d=Wn(r,o,g,a,l,!0,u,h,c,d,f),o=g}return d}containsXY(e,t){return Qn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){{var e=this.getOrientedFlatCoordinates(),t=0,n=this.ends_,i=this.stride;let o=0;for(let s=0,a=n.length;s<a;++s){var r=n[s];o+=zn(e,t,r,i),t=r}return o}}getCoordinates(e){let t;return void 0!==e?ii(t=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,e):t=this.flatCoordinates,Un(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){var e;return this.flatInteriorPointRevision_!=this.getRevision()&&(e=qe(this.getExtent()),this.flatInteriorPoint_=Jn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()),this.flatInteriorPoint_}getInteriorPoint(){return new Hn(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Kn(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){var e=this.layout,t=this.flatCoordinates,n=this.ends_,i=[];let r=0;for(let a=0,l=n.length;a<l;++a){var o=n[a],s=new Kn(t.slice(r,o),e);i.push(s),r=o}return i}getOrientedFlatCoordinates(){var e;return this.orientedRevision_!=this.getRevision()&&(function(e,t,n,i,r){r=void 0!==r&&r;for(let a=0,l=n.length;a<l;++a){var o=n[a],s=ni(e,t,o,i);if(0===a){if(r&&s||!r&&!s)return}else if(r&&!s||!r&&s)return;t=o}return 1}(e=this.flatCoordinates,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ii(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()),this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){var t=[],n=[];return t.length=Zn(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,n),new ri(t,"XY",n)}getType(){return"Polygon"}intersectsExtent(e){return ti(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]),t=function(e,t,n,i,r){r=r||[];let o=0;for(let a=0,l=n.length;a<l;++a){var s=jn(e,t,n[a],i);t=r[o++]=s}return r.length=o,r}(this.flatCoordinates,0,e,this.stride,this.ends_),this.flatCoordinates.length=0===t.length?0:t[t.length-1],this.changed()}}const oi=ri;function si(e){if(ot(e))throw new Error("Cannot create polygon from empty extent");var t=e[0],n=e[1],i=e[2];return e=e[3],new ri(e=[t,n,t,e,i,e,i,n,t,n],"XY",[e.length])}function ai(e,t,n,i){var r=it(t)/n[0];return t=$e(t)/n[1],i?Math.min(e,Math.max(r,t)):Math.min(e,Math.min(r,t))}function li(e,t,n){let i=Math.min(e,t);return i*=Math.log(1+50*Math.max(0,e/t-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/e-1))/50+1),ve(i,n/2,2*t)}function ui(e,t,n,i,r){return n=void 0===n||n,function(o,s,a,l){if(void 0!==o){const s=i?ai(e,i,a,r):e;return n&&l?li(o,s,t):ve(o,t,s)}}}function hi(e){if(void 0!==e)return 0}function ci(e){if(void 0!==e)return e}const di=42,fi=256;function gi(e,t){setTimeout((function(){e(t)}),0)}function pi(e,t,n,i,r){var o=Math.cos(-r),s=(r=Math.sin(-r),e[0]*o-e[1]*r);return e=e[1]*o+e[0]*r,[(s+=(t[0]/2-n[0])*i)*o-(e+=(n[1]-t[1]/2)*i)*(r=-r),e*o+s*r]}function mi(e){var t=e.match(wi);if(!t)return null;var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let e=0,i=Si.length;e<i;++e){const i=t[e+1];void 0!==i&&(n[Si[e]]=i)}return n.families=n.family.split(/,\s?/),n}const _i=class extends Z{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=mn(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&hn(),e.center&&(e.center=Cn(e.center,this.projection_)),e.extent&&(e.extent=kn(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){var t=Object.assign({},e);for(const e in _e)delete t[e];this.setProperties(t,!0);var n=function(e){let t,n,i,r=void 0!==e.minZoom?e.minZoom:0,o=void 0!==e.maxZoom?e.maxZoom:28;const s=void 0!==e.zoomFactor?e.zoomFactor:2,a=void 0!==e.multiWorld&&e.multiWorld,l=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,u=void 0!==e.showFullExtent&&e.showFullExtent,h=mn(e.projection,"EPSG:3857"),c=h.getExtent();let d=e.constrainOnlyCenter,f=e.extent;if(a||f||!h.isGlobal()||(d=!1,f=c),void 0!==e.resolutions){const s=e.resolutions;n=s[r],i=void 0!==s[o]?s[o]:s[s.length-1],t=e.constrainResolution?(x=s,w=!d&&f,S=u,b=void 0===(b=l)||b,function(e,t,n,i){var r,o;if(void 0!==e)return o=x[0],r=x[x.length-1],n=w?ai(o,w,n,S):o,i?b?li(e,n,r):ve(e,r,n):(o=Math.min(n,e),i=Math.floor(I(x,o,t)),x[i]>n&&i<x.length-1?x[i+1]:x[i])}):ui(n,i,l,!d&&f,u)}else{const a=(c?Math.max(it(c),$e(c)):360*vt.degrees/h.getMetersPerUnit())/fi/Math.pow(2,0),x=a/Math.pow(2,28);void 0!==(n=e.maxResolution)?r=0:n=a/Math.pow(s,r),void 0===(i=e.minResolution)&&(i=void 0!==e.maxZoom?void 0!==e.maxResolution?n/Math.pow(s,o):a/Math.pow(s,o):x),o=r+Math.floor(Math.log(n/i)/Math.log(s)),i=n/Math.pow(s,o-r),t=e.constrainResolution?(g=s,p=n,v=!d&&f,y=u,_=void 0===(_=l)||_,m=void 0!==(m=i)?m:0,function(e,t,n,i){if(void 0!==e)return n=v?ai(p,v,n,y):p,i?_?li(e,n,m):ve(e,m,n):(i=Math.ceil(Math.log(p/n)/Math.log(g)-1e-9),t=-t*(.5-1e-9)+.5,e=Math.min(n,e),e=Math.floor(Math.log(p/e)/Math.log(g)+t),t=Math.max(i,e),ve(p/Math.pow(g,t),m,n))}):ui(n,i,l,!d&&f,u)}var g,p,m,_,v,y,x,b,w,S;return{constraint:t,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:s}}(e),i=(this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=n.minZoom,function(e){if(void 0!==e.extent){const t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return Te(e.extent,e.constrainOnlyCenter,t)}const t=mn(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&t.isGlobal()){const e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,Te(e,!1,!1)}return Ie}(e)),r=(n=n.constraint,function(){if(void 0===e.enableRotation||e.enableRotation){const n=e.constrainRotation;if(void 0===n||!0===n){const e=be(5);return function(t,n){return!n&&void 0!==t&&Math.abs(t)<=e?0:t}}if(!1!==n&&"number"==typeof n){var t=n;const e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?Math.floor(t/e+.5)*e:void 0}}return ci}return hi}());this.constraints_={center:i,resolution:n,rotation:r},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){var t,n,i=this.padding_,r=(this.padding_=e,this.getCenterInternal());r&&(e=e||[0,0,0,0],i=i||[0,0,0,0],t=(n=this.getResolution())/2*(e[3]-i[3]+i[1]-e[1]),n=n/2*(e[0]-i[0]+i[2]-e[2]),this.setCenterInternal([r[0]+t,r[1]-n]))}getUpdatedOptions_(e){var t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);var t=new Array(arguments.length);for(let e=0;e<t.length;++e){let n=arguments[e];n.center&&((n=Object.assign({},n)).center=Cn(n.center,this.getProjection())),n.anchor&&((n=Object.assign({},n)).anchor=Cn(n.anchor,this.getProjection())),t[e]=n}this.animateInternal.apply(this,t)}animateInternal(e){let t,n=arguments.length,i=(1<n&&"function"==typeof arguments[n-1]&&(t=arguments[n-1],--n),0);for(;i<n&&!this.isDef();++i){const e=arguments[i];e.center&&this.setCenterInternal(e.center),void 0!==e.zoom?this.setZoom(e.zoom):e.resolution&&this.setResolution(e.resolution),void 0!==e.rotation&&this.setRotation(e.rotation)}if(i===n)t&&gi(t,!0);else{let e=Date.now(),s=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;for(var r,o=[];i<n;++i){const n=arguments[i],u={start:e,complete:!1,anchor:n.anchor,duration:void 0!==n.duration?n.duration:1e3,easing:n.easing||ft,callback:t};if(n.center&&(u.sourceCenter=s,u.targetCenter=n.center.slice(),s=u.targetCenter),void 0!==n.zoom?(u.sourceResolution=a,u.targetResolution=this.getResolutionForZoom(n.zoom),a=u.targetResolution):n.resolution&&(u.sourceResolution=a,u.targetResolution=n.resolution,a=u.targetResolution),void 0!==n.rotation){u.sourceRotation=l;const e=we(n.rotation-l+Math.PI,2*Math.PI)-Math.PI;u.targetRotation=l+e,l=u.targetRotation}(r=u).sourceCenter&&r.targetCenter&&!lt(r.sourceCenter,r.targetCenter)||r.sourceResolution!==r.targetResolution||r.sourceRotation!==r.targetRotation?e+=u.duration:u.complete=!0,o.push(u)}this.animations_.push(o),this.setHint(0,1),this.updateAnimations_()}}getAnimating(){return 0<this.hints_[0]}getInteracting(){return 0<this.hints_[1]}cancelAnimations(){let e;this.setHint(0,-this.hints_[0]);for(let i=0,r=this.animations_.length;i<r;++i){var t=this.animations_[i];if(t[0].callback&&gi(t[0].callback,!1),!e)for(let i=0,r=t.length;i<r;++i){var n=t[i];if(!n.complete){e=n.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){const o=Date.now();let s=!1;for(let a=this.animations_.length-1;0<=a;--a){var e=this.animations_[a];let l=!0;for(let a=0,u=e.length;a<u;++a){var t=e[a];if(!t.complete){var n=o-t.start;let e=0<t.duration?n/t.duration:1;if(1<=e?(t.complete=!0,e=1):l=!1,n=t.easing(e),t.sourceCenter){const e=t.sourceCenter[0],o=t.sourceCenter[1],s=t.targetCenter[0],a=t.targetCenter[1];this.nextCenter_=t.targetCenter;var i=e+n*(s-e),r=o+n*(a-o);this.targetCenter_=[i,r]}if(t.sourceResolution&&t.targetResolution){const e=1===n?t.targetResolution:t.sourceResolution+n*(t.targetResolution-t.sourceResolution);if(t.anchor){const n=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(e,0,n,!0);this.targetCenter_=this.calculateCenterZoom(i,t.anchor)}this.nextResolution_=t.targetResolution,this.targetResolution_=e,this.applyTargetState_(!0)}if(void 0!==t.sourceRotation&&void 0!==t.targetRotation){const e=1===n?we(t.targetRotation+Math.PI,2*Math.PI)-Math.PI:t.sourceRotation+n*(t.targetRotation-t.sourceRotation);if(t.anchor){const n=this.constraints_.rotation(e,!0);this.targetCenter_=this.calculateCenterRotate(n,t.anchor)}this.nextRotation_=t.targetRotation,this.targetRotation_=e}if(this.applyTargetState_(!0),s=!0,!t.complete)break}}if(l){this.animations_[a]=null,this.setHint(0,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const t=e[0].callback;t&&gi(t,!0)}}this.animations_=this.animations_.filter(Boolean),s&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}calculateCenterRotate(e,t){let n;var i=this.getCenterInternal();return void 0!==i&&(ut(n=[i[0]-t[0],i[1]-t[1]],e-this.getRotation()),i=t,(e=n)[0]+=+i[0],e[1]+=+i[1]),n}calculateCenterZoom(e,t){var n=this.getCenterInternal(),i=this.getResolution();return void 0!==n&&void 0!==i?[t[0]-e*(t[0]-n[0])/i,t[1]-e*(t[1]-n[1])/i]:undefined}getViewportSize_(e){var t,n,i=this.viewportSize_;return e?(t=i[0],n=i[1],[Math.abs(t*Math.cos(e))+Math.abs(n*Math.sin(e)),Math.abs(t*Math.sin(e))+Math.abs(n*Math.cos(e))]):i}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){var e=this.getCenterInternal();return e&&Sn(e,this.getProjection())}getCenterInternal(){return this.get(_e.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){return En(this.calculateExtentInternal(e),this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();var t=this.getCenterInternal(),n=(pe(t,"The view center is not defined"),this.getResolution()),i=(pe(void 0!==n,"The view resolution is not defined"),this.getRotation());return pe(void 0!==i,"The view rotation is not defined"),Qe(t,n,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(_e.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(kn(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();var n=it(e)/t[0];return e=$e(e)/t[1],Math.max(n,e)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(t/n)/Math.log(e);return function(n){return t/Math.pow(e,n*i)}}getRotation(){return this.get(_e.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/t;return function(e){return Math.log(n/e)/t/r}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);return(e=this.padding_)?[t[0]-e[1]-e[3],t[1]-e[0]-e[2]]:t}getState(){const e=this.getProjection(),t=this.getResolution(),n=this.getRotation();let i=this.getCenterInternal();var r=this.padding_;if(r){const e=this.getViewportSizeMinusPadding_();i=pi(i,this.getViewportSize_(),[e[0]/2+r[3],e[1]/2+r[0]],t,n)}return{center:i.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){var e=this.getResolution();return void 0!==e?this.getZoomForResolution(e):undefined}getZoomForResolution(e){let t,n,i=this.minZoom_||0;var r;return n=this.resolutions_?(i=r=I(this.resolutions_,e,1),t=this.resolutions_[r],r==this.resolutions_.length-1?2:t/this.resolutions_[r+1]):(t=this.maxResolution_,this.zoomFactor_),i+Math.log(t/e)/Math.log(n)}getResolutionForZoom(e){var t;if(null!=(t=this.resolutions_)&&t.length){if(1===this.resolutions_.length)return this.resolutions_[0];const t=ve(Math.floor(e),0,this.resolutions_.length-2),n=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(n,ve(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let n;if(pe(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(e))pe(!ot(e),"Cannot fit empty extent provided as `geometry`"),n=si(kn(e,this.getProjection()));else if("Circle"===e.getType()){const t=kn(e.getExtent(),this.getProjection());(n=si(t)).rotate(this.getRotation(),qe(t))}else n=e;this.fitInternal(n,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),n=Math.cos(t),i=Math.sin(-t),r=e.getFlatCoordinates(),o=e.getStride();let s=1/0,a=1/0,l=-1/0,u=-1/0;for(let e=0,t=r.length;e<t;e+=o){const t=r[e]*n-r[e+1]*i,o=r[e]*i+r[e+1]*n;s=Math.min(s,t),a=Math.min(a,o),l=Math.max(l,t),u=Math.max(u,o)}return[s,a,l,u]}fitInternal(e,t){let n=(t=t||{}).size;n=n||this.getViewportSizeMinusPadding_();var i=void 0!==t.padding?t.padding:[0,0,0,0],r=void 0!==t.nearest&&t.nearest,o=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0,s=(e=this.rotatedExtentForGeometry(e),this.getResolutionForExtentInternal(e,[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]));s=isNaN(s)?o:Math.max(s,o),s=this.getConstrainedResolution(s,r?0:1),o=this.getRotation(),r=Math.sin(o),o=Math.cos(o),(e=qe(e))[0]+=(i[1]-i[3])/2*s,e[1]+=(i[0]-i[2])/2*s,i=e[0]*o-e[1]*r,o=e[1]*o+e[0]*r,e=this.getConstrainedCenter([i,o],s),r=t.callback||F,void 0!==t.duration?this.animateInternal({resolution:s,center:e,duration:t.duration,easing:t.easing},r):(this.targetResolution_=s,this.targetCenter_=e,this.applyTargetState_(!1,!0),gi(r,!0))}centerOn(e,t,n){this.centerOnInternal(Cn(e,this.getProjection()),t,n)}centerOnInternal(e,t,n){this.setCenterInternal(pi(e,t,n,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,n,i){let r;var o=this.padding_;return o&&e&&(i=pi(e,i,[(i=this.getViewportSizeMinusPadding_(-n))[0]/2+o[3],i[1]/2+o[0]],t,n),r=[e[0]-i[0],e[1]-i[1]]),r}isDef(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}adjustCenter(e){var t=Sn(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&Cn(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation());i=this.constraints_.resolution(this.targetResolution_*e,0,i,n),t&&(this.targetCenter_=this.calculateCenterZoom(i,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t=t&&Cn(t,this.getProjection()),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){var n=this.getAnimating()||this.getInteracting();n=this.constraints_.rotation(this.targetRotation_+e,n),t&&(this.targetCenter_=this.calculateCenterRotate(n,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Cn(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){t=this.getAnimating()||this.getInteracting()||t;var n=this.constraints_.rotation(this.targetRotation_,t),i=this.getViewportSize_(n),r=this.constraints_.resolution(this.targetResolution_,0,i,t);t=this.constraints_.center(this.targetCenter_,r,i,t,this.calculateCenterShift(this.targetCenter_,r,n,i)),this.get(_e.ROTATION)!==n&&this.set(_e.ROTATION,n),this.get(_e.RESOLUTION)!==r&&(this.set(_e.RESOLUTION,r),this.set("zoom",this.getZoom(),!0)),t&&this.get(_e.CENTER)&&lt(this.get(_e.CENTER),t)||this.set(_e.CENTER,t),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,n){e=void 0!==e?e:200,t=t||0;var i=this.constraints_.rotation(this.targetRotation_),r=this.getViewportSize_(i);t=this.constraints_.resolution(this.targetResolution_,t,r),r=this.constraints_.center(this.targetCenter_,t,r,!1,this.calculateCenterShift(this.targetCenter_,t,i,r)),0!==e||this.cancelAnchor_?(n=n||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===t&&this.getRotation()===i&&this.getCenterInternal()&&lt(this.getCenterInternal(),r)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:r,resolution:t,duration:e,easing:dt,anchor:n}))):(this.targetResolution_=t,this.targetRotation_=i,this.targetCenter_=r,this.applyTargetState_())}beginInteraction(){this.resolveConstraints(0),this.setHint(1,1)}endInteraction(e,t,n){n=n&&Cn(n,this.getProjection()),this.endInteractionInternal(e,t,n)}endInteractionInternal(e,t,n){this.getInteracting()&&(this.setHint(1,-1),this.resolveConstraints(e,t,n))}getConstrainedCenter(e,t){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}getConstrainedZoom(e,t){return e=this.getResolutionForZoom(e),this.getZoomForResolution(this.getConstrainedResolution(e,t))}getConstrainedResolution(e,t){t=t||0;var n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}},vi="ol-hidden",yi="ol-unselectable",xi="ol-control",bi="ol-collapsed",wi=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z0-9]+?)\\s*$"].join(""),"i"),Si=["style","variant","weight","size","lineHeight","family"];function Ci(e,t,n,i){return n=n&&n.length?n.shift():ie?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(n.width=e),t&&(n.height=t),n.getContext("2d",i)}let Ei;function ki(){return Ei=Ei||Ci(1,1)}function Ri(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function Ti(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)}function Ii(e){for(;e.lastChild;)e.lastChild.remove()}const Mi=class extends(f=class extends Z{constructor(e){super();var t=e.element;!t||e.target||t.style.pointerEvents||(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){var e;null!=(e=this.element)&&e.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){var t,n;this.map_&&null!=(t=this.element)&&t.remove();for(let e=0,t=this.listenerKeys.length;e<t;++e)j(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=e){const t=null!=(n=this.target_)?n:e.getOverlayContainerStopEvent();this.element&&t.appendChild(this.element),this.render!==F&&this.listenerKeys.push(G(e,le,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_="string"==typeof e?document.getElementById(e):e}}){constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===e.collapsed||e.collapsed,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=void 0!==e.collapsible,this.collapsible_=void 0===e.collapsible||e.collapsible,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;var t=void 0!==e.className?e.className:"ol-attribution",n=void 0!==e.tipLabel?e.tipLabel:"Attributions",i=void 0!==e.expandClassName?e.expandClassName:t+"-expand",r=void 0!==e.collapseLabel?e.collapseLabel:"",o=void 0!==e.collapseClassName?e.collapseClassName:t+"-collapse";"string"==("string"==typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=o):this.collapseLabel_=r,typeof(o=void 0!==e.label?e.label:"i"))?(this.label_=document.createElement("span"),this.label_.textContent=o,this.label_.className=i):this.label_=o,r=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=n,this.toggleButton_.appendChild(r),this.toggleButton_.addEventListener(b,this.handleClick_.bind(this),!1),e=t+" "+yi+" "+xi+(this.collapsed_&&this.collapsible_?" "+bi:"")+(this.collapsible_?"":" ol-uncollapsible"),(i=this.element).className=e,i.appendChild(this.toggleButton_),i.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),n=new Set(t.flatMap((t=>t.getAttributions(e))));if(void 0!==this.attributions_&&(Array.isArray(this.attributions_)?this.attributions_.forEach((e=>n.add(e))):n.add(this.attributions_)),!this.overrideCollapsible_){const e=!t.some((e=>!1===(null==(e=e.getSource())?void 0:e.getAttributionsCollapsible())));this.setCollapsible(e)}return Array.from(n)}async updateElement_(e){if(e){const t=await Promise.all(this.collectSourceAttributions_(e).map((e=>{var t=()=>e;{let n;try{n=t()}catch(e){return Promise.reject(e)}return n instanceof Promise?n:Promise.resolve(n)}}))),n=0<t.length;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!P(t,this.renderedAttributions_)){Ii(this.ulElement_);for(let e=0,n=t.length;e<n;++e){const n=document.createElement("li");n.innerHTML=t[e],this.ulElement_.appendChild(n)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(bi),this.collapsed_?Ti(this.collapseLabel_,this.label_):Ti(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_)&&this.handleToggle_()}setCollapsed(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}},Pi=class extends f{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});var t=void 0!==e.className?e.className:"ol-rotate",n=void 0!==e.label?e.label:"",i=void 0!==e.compassClassName?e.compassClassName:"ol-compass";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=n):(this.label_=n,this.label_.classList.add(i)),n=e.tipLabel||"Reset rotation",(i=document.createElement("button")).className=t+"-reset",i.setAttribute("type","button"),i.title=n,i.appendChild(this.label_),i.addEventListener(b,this.handleClick_.bind(this),!1),n=t+" "+yi+" "+xi,(t=this.element).className=n,t.appendChild(i),this.callResetNorth_=e.resetNorth||void 0,this.duration_=void 0!==e.duration?e.duration:250,this.autoHide_=void 0===e.autoHide||e.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(vi)}handleClick_(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){var e,t=this.getMap().getView();t&&void 0!==(e=t.getRotation())&&(0<this.duration_&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:dt}):t.setRotation(0))}render(e){if(e=e.frameState){var t=e.viewState.rotation;if(t!=this.rotation_){const e="rotate("+t+"rad)";if(this.autoHide_){const e=this.element.classList.contains(vi);e||0!==t?e&&0!==t&&this.element.classList.remove(vi):this.element.classList.add(vi)}this.label_.style.transform=e}this.rotation_=t}}},Li=class extends f{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});var t=void 0!==e.className?e.className:"ol-zoom",n=void 0!==e.delta?e.delta:1,i=void 0!==e.zoomInClassName?e.zoomInClassName:t+"-in",r=void 0!==e.zoomOutClassName?e.zoomOutClassName:t+"-out",o=void 0!==e.zoomInLabel?e.zoomInLabel:"+",s=void 0!==e.zoomOutLabel?e.zoomOutLabel:"",a=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",l=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",u=document.createElement("button");(u.className=i,u.setAttribute("type","button"),u.title=a,u.appendChild("string"==typeof o?document.createTextNode(o):o),u.addEventListener(b,this.handleClick_.bind(this,n),!1),i=document.createElement("button")).className=r,i.setAttribute("type","button"),i.title=l,i.appendChild("string"==typeof s?document.createTextNode(s):s),i.addEventListener(b,this.handleClick_.bind(this,-n),!1),a=t+" "+yi+" "+xi,(o=this.element).className=a,o.appendChild(u),o.appendChild(i),this.duration_=void 0!==e.duration?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){var t,n=this.getMap().getView();n&&void 0!==(t=n.getZoom())&&(t=n.getConstrainedZoom(t+e),0<this.duration_?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:t,duration:this.duration_,easing:dt})):n.setZoom(t))}},Ai=class{constructor(e,t,n){this.decay_=e,this.minVelocity_=t,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[2+t]<e)return!1;let n=t-3;for(;0<n&&this.points_[n+2]>e;)n-=3;var i,r=this.points_[2+t]-this.points_[n+2];return!(r<1e3/60)&&(i=this.points_[t]-this.points_[n],t=this.points_[1+t]-this.points_[n+1],this.angle_=Math.atan2(t,i),this.initialVelocity_=Math.sqrt(i*i+t*t)/r,this.initialVelocity_>this.minVelocity_)}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}};function Fi(e,t,n,i){var r=e.getZoom();void 0!==r&&(r=e.getConstrainedZoom(r+t),t=e.getResolutionForZoom(r),e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:t,anchor:n,duration:void 0!==i?i:250,easing:dt}))}const Di=class extends(f=class extends Z{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get("active")}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set("active",e)}setMap(e){this.map_=e}}){constructor(e){super(),this.delta_=(e=e||{}).delta||1,this.duration_=void 0!==e.duration?e.duration:250}handleEvent(e){let t=!1;var n,i,r;return e.type==J.DBLCLICK&&(n=e.originalEvent,i=e.map,e=e.coordinate,r=n.shiftKey?-this.delta_:this.delta_,Fi(i.getView(),r,e,this.duration_),n.preventDefault(),t=!0),!t}};function Oi(){const e=arguments;return function(t){let n=!0;for(let i=0,r=e.length;i<r&&(n=n&&e[i](t));++i);return n}}function zi(e){return(e=e.originalEvent).altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey}function Ni(e){var t=e.map.getTargetElement(),n=t.getRootNode();return!(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")||(e=(t=(n=e).map.getTargetElement()).getRootNode(),n=n.map.getOwnerDocument().activeElement,(e instanceof ShadowRoot?e.host:t).contains(n))}function Gi(e){return(e=e.originalEvent)instanceof PointerEvent&&0==e.button&&!(ee&&te&&e.ctrlKey)}function Wi(e){return!(e=e.originalEvent).altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey}function ji(e){return!(e=e.originalEvent).altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey}function Bi(e){var t=(e=e.originalEvent).target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t&&!e.target.isContentEditable}function Ui(e){return(e=e.originalEvent)instanceof PointerEvent&&"mouse"==e.pointerType}function Vi(e){return(e=e.originalEvent)instanceof PointerEvent&&e.isPrimary&&0===e.button}const Yi=L;function Xi(e){var t=e.length;let n=0,i=0;for(let r=0;r<t;r++)n+=e[r].clientX,i+=e[r].clientY;return{clientX:n/t,clientY:i/t}}var g=class extends f{constructor(e){super(e=e||{}),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;var n;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==J.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==J.POINTERUP){const t=this.handleUpEvent(e);this.handlingDownUpSequence=t&&0<this.targetPointers.length}}else e.type==J.POINTERDOWN?(n=this.handleDownEvent(e),this.handlingDownUpSequence=n,t=this.stopDown(n)):e.type==J.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}};const Zi=class extends g{constructor(e){super({stopDown:A}),this.kinetic_=(e=e||{}).kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;var t=e.condition||Oi(Wi,Vi);this.condition_=e.onFocusOnly?Oi(Ni,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map,n=(this.panning_||(this.panning_=!0,t.getView().beginInteraction()),this.targetPointers),i=t.getEventPixel(Xi(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const t=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],n=e.map.getView();r=t,o=n.getResolution(),r[0]*=o,r[1]*=o,ut(t,n.getRotation()),n.adjustCenterInternal(t)}}else this.kinetic_&&this.kinetic_.begin();var r,o;this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}handleUpEvent(e){var t=e.map,n=t.getView();if(0!==this.targetPointers.length)return this.kinetic_&&this.kinetic_.begin(),!(this.lastCentroid=null);if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const e=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),r=n.getCenterInternal(),o=t.getPixelFromCoordinateInternal(r),s=t.getCoordinateFromPixelInternal([o[0]-e*Math.cos(i),o[1]-e*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:dt})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}handleDownEvent(e){return!!(0<this.targetPointers.length&&this.condition_(e))&&(e=e.map.getView(),this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0)}},Ki=class extends g{constructor(e){e=e||{},super({stopDown:A}),this.condition_=e.condition||zi,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){if(Ui(e)){var t=e.map,n=t.getView();if(n.getConstraints().rotation!==hi){if(t=t.getSize(),e=e.pixel,t=Math.atan2(t[1]/2-e[1],e[0]-t[0]/2),void 0!==this.lastAngle_){const e=t-this.lastAngle_;n.adjustRotationInternal(-e)}this.lastAngle_=t}}}handleUpEvent(e){return!Ui(e)||(e.map.getView().endInteraction(this.duration_),!1)}handleDownEvent(e){return!!Ui(e)&&!(!Gi(e)||!this.condition_(e)||(e.map.getView().beginInteraction(),this.lastAngle_=void 0))}},Hi=class extends k{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){var e=this.startPixel_,t=this.endPixel_,n=this.element_.style;n.left=Math.min(e[0],t[0])+"px",n.top=Math.min(e[1],t[1])+"px",n.width=Math.abs(t[0]-e[0])+"px",n.height=Math.abs(t[1]-e[1])+"px"}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){var e,t;this.map_&&(e=this.startPixel_,t=this.endPixel_,(t=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_))[4]=t[0].slice(),this.geometry_?this.geometry_.setCoordinates([t]):this.geometry_=new oi([t]))}getGeometry(){return this.geometry_}},qi="boxcancel";class Qi extends N{constructor(e,t,n){super(e),this.coordinate=t,this.mapBrowserEvent=n}}const Ji=class extends class extends g{constructor(e){var t;super(),this.on,this.once,this.un,e=null!=(t=e)?t:{},this.box_=new Hi(e.className||"ol-dragbox"),this.minArea_=null!=(t=e.minArea)?t:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=null!=(t=e.condition)?t:Gi,this.boxEndCondition_=null!=(t=e.boxEndCondition)?t:this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,n){var i=n[0]-t[0];return i*i+(n=n[1]-t[1])*n>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Qi("boxdrag",e.coordinate,e)))}handleUpEvent(e){var t;return this.startPixel_&&((t=this.boxEndCondition_(e,this.startPixel_,e.pixel))&&this.onBoxEnd(e),this.dispatchEvent(new Qi(t?"boxend":qi,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null),!1}handleDownEvent(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Qi("boxstart",e.coordinate,e)),!0)}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Qi(qi,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_)&&(this.dispatchEvent(new Qi(qi,this.startPixel_,null)),this.startPixel_=null),super.setMap(e)}}{constructor(e){super({condition:(e=e||{}).condition?e.condition:ji,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=void 0!==e.duration?e.duration:200,this.out_=void 0!==e.out&&e.out}onBoxEnd(e){var t=this.getMap().getView();let n=this.getGeometry();if(this.out_){const e=t.rotatedExtentForGeometry(n),i=t.getResolutionForExtentInternal(e),r=t.getResolution()/i;(n=n.clone()).scale(r*r)}t.fitInternal(n,{duration:this.duration_,easing:dt})}},$i="ArrowLeft",er="ArrowRight",tr="ArrowDown",nr=class extends f{constructor(e){super(),e=e||{},this.defaultCondition_=function(e){return Wi(e)&&Bi(e)},this.condition_=void 0!==e.condition?e.condition:this.defaultCondition_,this.duration_=void 0!==e.duration?e.duration:100,this.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==w){var n=e.originalEvent,i=n.key;if(this.condition_(e)&&(i==tr||i==$i||i==er||"ArrowUp"==i)){var r=(e=e.map.getView()).getResolution()*this.pixelDelta_;let s=0,a=0;i==tr?a=-r:i==$i?s=-r:i==er?s=r:a=r,ut(i=[s,a],e.getRotation()),r=e,e=i,i=this.duration_,(o=r.getCenterInternal())&&(o=[o[0]+e[0],o[1]+e[1]],r.animateInternal({duration:void 0!==i?i:250,easing:gt,center:r.getConstrainedCenter(o)})),n.preventDefault(),t=!0}}var o;return!t}},ir=class extends f{constructor(e){super(),this.condition_=(e=e||{}).condition||function(e){return t=e.originalEvent,!(te?t.metaKey:t.ctrlKey)&&Bi(e);var t},this.delta_=e.delta||1,this.duration_=void 0!==e.duration?e.duration:100}handleEvent(e){let t=!1;var n,i;return e.type!=w&&e.type!=S||(i=(n=e.originalEvent).key,!this.condition_(e))||"+"!==i&&"-"!==i||(e=e.map,i="+"===i?this.delta_:-this.delta_,Fi(e.getView(),i,void 0,this.duration_),n.preventDefault(),t=!0),!t}},rr=class extends f{constructor(e){super(e=e||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,this.duration_=void 0!==e.duration?e.duration:250,this.timeout_=void 0!==e.timeout?e.timeout:80,this.useAnchor_=void 0===e.useAnchor||e.useAnchor,this.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;var t=e.condition||Yi;this.condition_=e.onFocusOnly?Oi(Ni,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;var e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?0<this.lastDelta_?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e))return!0;if(e.type!==E)return!0;var t,n=e.map,i=e.originalEvent;let r;return i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel),e.type==E&&(r=i.deltaY,i.deltaMode===WheelEvent.DOM_DELTA_LINE)&&(r*=40),0!==r&&(this.lastDelta_=r,e=Date.now(),void 0===this.startTime_&&(this.startTime_=e),(!this.mode_||e-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel"),i=n.getView(),"trackpad"!==this.mode_||i.getConstrainResolution()||this.constrainResolution_?(this.totalDelta_+=r,t=Math.max(this.timeout_-(e-this.startTime_),0),clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),t)):(this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(i.getAnimating()&&i.cancelAnimations(),i.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),i.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_?n.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=e)),!1}handleWheelZoom_(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();let n=-ve(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?0<n?1:-1:0),Fi(t,n,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){(this.useAnchor_=e)||(this.lastAnchor_=null)}},or=class extends g{constructor(e){var t=e=e||{};t.stopDown||(t.stopDown=A),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==e.threshold?e.threshold:.3,this.duration_=void 0!==e.duration?e.duration:250}handleDragEvent(e){let t=0;var n=this.targetPointers[0],i=this.targetPointers[1];if(i=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX),void 0!==this.lastAngle_){const e=i-this.lastAngle_;this.rotationDelta_+=e,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=e}this.lastAngle_=i,(i=(n=e.map).getView()).getConstraints().rotation!==hi&&(this.anchor_=n.getCoordinateFromPixelInternal(n.getEventPixel(Xi(this.targetPointers))),this.rotating_)&&(n.render(),i.adjustRotationInternal(t,this.anchor_))}handleUpEvent(e){return!(this.targetPointers.length<2&&(e.map.getView().endInteraction(this.duration_),1))}handleDownEvent(e){return 2<=this.targetPointers.length&&(e=e.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0)}},sr=class extends g{constructor(e){var t=e=e||{};t.stopDown||(t.stopDown=A),super(t),this.anchor_=null,this.duration_=void 0!==e.duration?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;var n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX;n=n.clientY-i.clientY,i=Math.sqrt(r*r+n*n),n=(void 0!==this.lastDistance_&&(t=this.lastDistance_/i),this.lastDistance_=i,r=e.map).getView(),1!=t&&(this.lastScaleDelta_=t),this.anchor_=r.getCoordinateFromPixelInternal(r.getEventPixel(Xi(this.targetPointers))),r.render(),n.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){var t;return!(this.targetPointers.length<2&&(e=e.map.getView(),t=1<this.lastScaleDelta_?1:-1,e.endInteraction(this.duration_,t),1))}handleDownEvent(e){return 2<=this.targetPointers.length&&(e=e.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0)}},ar="opacity",lr="visible",ur="zIndex",hr="maxResolution",cr="minResolution",dr="maxZoom",fr="minZoom",gr="source";f=class extends Z{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;var t=Object.assign({},e);"object"==typeof e.properties&&(delete t.properties,Object.assign(t,e.properties)),t[ar]=void 0!==e.opacity?e.opacity:1,pe("number"==typeof t[ar],"Layer opacity must be a number"),t[lr]=void 0===e.visible||e.visible,t[ur]=e.zIndex,t[hr]=void 0!==e.maxResolution?e.maxResolution:1/0,t[cr]=void 0!==e.minResolution?e.minResolution:0,t[fr]=void 0!==e.minZoom?e.minZoom:-1/0,t[dr]=void 0!==e.maxZoom?e.maxZoom:1/0,this.className_=void 0!==t.className?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){e=this.state_||{layer:this,managed:void 0===e||e};var t=this.getZIndex();return e.opacity=ve(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==t||e.managed?t:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e}getLayersArray(e){return U()}getLayerStatesArray(e){return U()}getExtent(){return this.get("extent")}getMaxResolution(){return this.get(hr)}getMinResolution(){return this.get(cr)}getMinZoom(){return this.get(fr)}getMaxZoom(){return this.get(dr)}getOpacity(){return this.get(ar)}getSourceState(){return U()}getVisible(){return this.get(lr)}getZIndex(){return this.get(ur)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set("extent",e)}setMaxResolution(e){this.set(hr,e)}setMinResolution(e){this.set(cr,e)}setMaxZoom(e){this.set(dr,e)}setMinZoom(e){this.set(fr,e)}setOpacity(e){pe("number"==typeof e,"Layer opacity must be a number"),this.set(ar,e)}setVisible(e){this.set(lr,e)}setZIndex(e){this.set(ur,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}};class pr extends N{constructor(e,t){super(e),this.layer=t}}const mr="layers",_r=class e extends f{constructor(e){e=e||{};var t=Object.assign({},e);delete t.layers;let n=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(mr,this.handleLayersChanged_),n?Array.isArray(n)?n=new H(n.slice(),{unique:!0}):pe("function"==typeof n.getArray,"Expected `layers` to be an array or a `Collection`"):n=new H(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(j),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(G(e,m,this.handleLayersAdd_,this),G(e,_,this.handleLayersRemove_,this));for(const e in this.listenerKeys_)this.listenerKeys_[e].forEach(j);O(this.listenerKeys_);var t=e.getArray();for(let e=0,n=t.length;e<n;e++){const n=t[e];this.registerLayerListeners_(n),this.dispatchEvent(new pr("addlayer",n))}this.changed()}registerLayerListeners_(t){var n=[G(t,v,this.handleLayerChange_,this),G(t,y,this.handleLayerChange_,this)];t instanceof e&&n.push(G(t,"addlayer",this.handleLayerGroupAdd_,this),G(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Y(t)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new pr("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new pr("removelayer",e.layer))}handleLayersAdd_(e){e=e.element,this.registerLayerListeners_(e),this.dispatchEvent(new pr("addlayer",e)),this.changed()}handleLayersRemove_(e){var t=Y(e=e.element);this.listenerKeys_[t].forEach(j),delete this.listenerKeys_[t],this.dispatchEvent(new pr("removelayer",e)),this.changed()}getLayers(){return this.get(mr)}setLayers(e){var t=this.getLayers();if(t){const e=t.getArray();for(let t=0,n=e.length;t<n;++t)this.dispatchEvent(new pr("removelayer",e[t]))}this.set(mr,e)}getLayersArray(e){return e=void 0!==e?e:[],this.getLayers().forEach((function(t){t.getLayersArray(e)})),e}getLayerStatesArray(e){const t=void 0!==e?e:[],n=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));var i=this.getLayerState();let r=i.zIndex;e||void 0!==i.zIndex||(r=0);for(let e=n,o=t.length;e<o;e++){const n=t[e];n.opacity*=i.opacity,n.visible=n.visible&&i.visible,n.maxResolution=Math.min(n.maxResolution,i.maxResolution),n.minResolution=Math.max(n.minResolution,i.minResolution),n.minZoom=Math.max(n.minZoom,i.minZoom),n.maxZoom=Math.min(n.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==n.extent?n.extent=et(n.extent,i.extent):n.extent=i.extent),void 0===n.zIndex&&(n.zIndex=r)}return t}getSourceState(){return"ready"}},vr="prerender",yr="postrender",xr="precompose",br="rendercomplete";function wr(e,t){var n;return!!e.visible&&!((n=t.resolution)<e.minResolution||n>=e.maxResolution)&&(n=t.zoom)>e.minZoom&&n<=e.maxZoom}const Sr=class extends f{constructor(e){var t=(delete(t=Object.assign({},e)).source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(gr,this.handleSourcePropertyChange_),e.source||null);this.setSource(t)}getLayersArray(e){return(e=e||[]).push(this),e}getLayerStatesArray(e){return(e=e||[]).push(this.getLayerState()),e}getSource(){return this.get(gr)||null}getRenderSource(){return this.getSource()}getSourceState(){var e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(j(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;var e=this.getSource();e&&(this.sourceChangeKey_=G(e,y,this.handleSourceChange_,this),"ready"===e.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0)),this.clearRenderer()),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}isVisible(e){var t=this.getMapInternal();let n;if(!(e=(e=!e&&t?t.getView():e)instanceof _i?{viewState:e.getState(),extent:e.calculateExtent()}:e).layerStatesArray&&t&&(e.layerStatesArray=t.getLayerGroup().getLayerStatesArray()),e.layerStatesArray){if(!(n=e.layerStatesArray.find((e=>e.layer===this))))return!1}else n=this.getLayerState();return t=this.getExtent(),wr(n,e.viewState)&&(!t||rt(t,e.extent))}getAttributions(e){if(!this.isVisible(e))return[];var t=null==(t=this.getSource())?void 0:t.getAttributions();if(!t)return[];let n=t(e instanceof _i?e.getViewStateAndExtent():e);return Array.isArray(n)?n:[n]}render(e,t){var n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){var t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set("map",e)}getMapInternal(){return this.get("map")}setMap(e){this.mapPrecomposeKey_&&(j(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(j(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=G(e,xr,this.handlePrecompose_,this),this.mapRenderKey_=G(this,y,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,n=this.getLayerState(!1);pe(!t.some((e=>e.layer===n.layer)),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(n)}setSource(e){this.set(gr,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}};function Cr(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function Er(e,t){return e<t?-1:t<e?1:0}class kr{constructor(){this._maxEntries=Math.max(4,0<arguments.length&&void 0!==arguments[0]?arguments[0]:9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;var n=[];if(Dr(e,t))for(var i=this.toBBox,r=[];t;){for(let a=0;a<t.children.length;a++){var o=t.children[a],s=t.leaf?i(o):o;Dr(e,s)&&(t.leaf?n.push(o):Fr(e,s)?this._all(o,n):r.push(o))}t=r.pop()}return n}collides(e){let t=this.data;if(Dr(e,t))for(var n=[];t;){for(let o=0;o<t.children.length;o++){var i=t.children[o],r=t.leaf?this.toBBox(i):i;if(Dr(e,r)){if(t.leaf||Fr(e,r))return!0;n.push(i)}}t=n.pop()}return!1}load(e){if(e&&e.length)if(e.length<this._minEntries)for(let t=0;t<e.length;t++)this.insert(e[t]);else{let t=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const e=this.data;this.data=t,t=e}this._insert(t,this.data.height-t.height-1,!0)}else this.data=t}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Or([]),this}remove(e,t){if(e){let n=this.data;const i=this.toBBox(e),r=[],o=[];let s,a,l;for(;n||r.length;){if(n||(n=r.pop(),a=r[r.length-1],s=o.pop(),l=!0),n.leaf){const i=function(e,t,n){if(!n)return t.indexOf(e);for(let i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}(e,n.children,t);if(-1!==i)return n.children.splice(i,1),r.push(n),this._condense(r),this}l||n.leaf||!Fr(n,i)?a?(s++,n=a.children[s],l=!1):n=null:(r.push(n),o.push(s),s=0,n=(a=n).children[0])}}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){for(var n=[];e;)(e.leaf?t:n).push(...e.children),e=n.pop();return t}_build(e,t,n,i){const r=n-t+1;let o,s=this._maxEntries;if(r<=s)Rr(o=Or(e.slice(t,n+1)),this.toBBox);else{i||(i=Math.ceil(Math.log(r)/Math.log(s)),s=Math.ceil(r/Math.pow(s,i-1))),(o=Or([])).leaf=!1,o.height=i;var a=Math.ceil(r/s),l=a*Math.ceil(Math.sqrt(s));zr(e,t,n,l,this.compareMinX);for(let r=t;r<=n;r+=l){const t=Math.min(r+l-1,n);zr(e,r,t,a,this.compareMinY);for(let n=r;n<=t;n+=a){const r=Math.min(n+a-1,t);o.children.push(this._build(e,n,r,i-1))}}Rr(o,this.toBBox)}return o}_chooseSubtree(e,t,n,i){for(;i.push(t),!t.leaf&&i.length-1!==n;){let n,i=1/0,l=1/0;for(let u=0;u<t.children.length;u++){var r=t.children[u],o=Lr(r);s=e,a=r,(a=(Math.max(a.maxX,s.maxX)-Math.min(a.minX,s.minX))*(Math.max(a.maxY,s.maxY)-Math.min(a.minY,s.minY))-o)<l?(l=a,i=o<i?o:i,n=r):a===l&&o<i&&(i=o,n=r)}t=n||t.children[0]}var s,a;return t}_insert(e,t,n){n=n?e:this.toBBox(e);var i=[],r=this._chooseSubtree(n,this.data,t,i);for(r.children.push(e),Ir(r,n);0<=t&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(n,i,t)}_split(e,t){var n=e[t],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i),r=this._chooseSplitIndex(n,r,i),(i=Or(n.children.splice(r,n.children.length-r))).height=n.height,i.leaf=n.leaf,Rr(n,this.toBBox),Rr(i,this.toBBox),t?e[t-1].children.push(i):this._splitRoot(n,i)}_splitRoot(e,t){this.data=Or([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Rr(this.data,this.toBBox)}_chooseSplitIndex(e,t,n){let i,r=1/0,o=1/0;for(let c=t;c<=n-t;c++){const t=Tr(e,0,c,this.toBBox),d=Tr(e,c,n,this.toBBox),f=(s=t,a=d,l=Math.max(s.minX,a.minX),u=Math.max(s.minY,a.minY),h=Math.min(s.maxX,a.maxX),s=Math.min(s.maxY,a.maxY),Math.max(0,h-l)*Math.max(0,s-u)),g=Lr(t)+Lr(d);f<r?(r=f,i=c,o=g<o?g:o):f===r&&g<o&&(o=g,i=c)}var s,a,l,u,h;return i||n-t}_chooseSplitAxis(e,t,n){var i=e.leaf?this.compareMinX:Mr,r=e.leaf?this.compareMinY:Pr;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,r)&&e.children.sort(i)}_allDistMargin(e,t,n,i){e.children.sort(i);var r=this.toBBox,o=Tr(e,0,t,r),s=Tr(e,n-t,n,r);let a=Ar(o)+Ar(s);for(let i=t;i<n-t;i++){const t=e.children[i];Ir(o,e.leaf?r(t):t),a+=Ar(o)}for(let i=n-t-1;i>=t;i--){const t=e.children[i];Ir(s,e.leaf?r(t):t),a+=Ar(s)}return a}_adjustParentBBoxes(e,t,n){for(let i=n;0<=i;i--)Ir(t[i],e)}_condense(e){for(let t,n=e.length-1;0<=n;n--)0===e[n].children.length?0<n?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():Rr(e[n],this.toBBox)}}function Rr(e,t){Tr(e,0,e.children.length,t,e)}function Tr(e,t,n,i,r){(r=r||Or(null)).minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=t;o<n;o++){const t=e.children[o];Ir(r,e.leaf?i(t):t)}return r}function Ir(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function Mr(e,t){return e.minX-t.minX}function Pr(e,t){return e.minY-t.minY}function Lr(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Ar(e){return e.maxX-e.minX+(e.maxY-e.minY)}function Fr(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function Dr(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Or(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function zr(e,t,n,i,r){for(var o,s=[t,n];s.length;)(n=s.pop())-(t=s.pop())<=i||(function e(t,n,i,r,o){let s=2<arguments.length&&void 0!==i?i:0,a=3<arguments.length&&void 0!==r?r:t.length-1,l=4<arguments.length&&void 0!==o?o:Er;for(;a>s;){600<a-s&&(u=a-s+1,h=n-s+1,d=Math.log(u),c=.5*Math.exp(2*d/3),d=.5*Math.sqrt(d*c*(u-c)/u)*(h-u/2<0?-1:1),e(t,n,Math.max(s,Math.floor(n-h*c/u+d)),Math.min(a,Math.floor(n+(u-h)*c/u+d)),l));var u,h,c,d,f=t[n];let i=s,r=a;for(Cr(t,s,n),0<l(t[a],f)&&Cr(t,s,a);i<r;){for(Cr(t,i,r),i++,r--;l(t[i],f)<0;)i++;for(;0<l(t[r],f);)r--}0===l(t[s],f)?Cr(t,s,r):Cr(t,++r,a),r<=n&&(s=r+1),n<=r&&(a=r-1)}}(e,o=t+Math.ceil((n-t)/i/2)*i,t,n,r),s.push(t,o,o,n))}const Nr=[NaN,NaN,NaN,0];let Gr;const Wr=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,jr=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Br=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Ur=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function Vr(e,t){return e.endsWith("%")?Number(e.substring(0,e.length-1))/t:Number(e)}function Yr(e){throw new Error('failed to parse "'+e+'" as color')}const Xr=1024,Zr={};let Kr=0;function Hr(e){return 4===e.length||((e=e.slice())[3]=1),e}function qr(e){return.0031308<e?269.025*Math.pow(e,1/2.4)-14.025:3294.6*e}function Qr(e){return.2068965<e?Math.pow(e,3):108/841*(e-4/29)}function Jr(e){return 10.314724<e?Math.pow((e+14.025)/269.025,2.4):e/3294.6}function $r(e){return.0088564<e?Math.pow(e,1/3):e/(108/841)+4/29}function eo(e){var t=Jr(e[0]),n=Jr(e[1]),i=Jr(e[2]),r=$r(.222488403*t+.716873169*n+.06060791*i),o=500*($r(.452247074*t+.399439023*n+.148375274*i)-r);return t=200*(r-$r(.016863605*t+.117638439*n+.865350722*i)),n=Math.atan2(t,o)*(180/Math.PI),[116*r-16,Math.sqrt(o*o+t*t),n<0?360+n:n,e[3]]}function to(e){if("none"===e)return Nr;if(Zr.hasOwnProperty(e))return Zr[e];if(Kr>=Xr){let e=0;for(const t in Zr)!(3&e++)&&(delete Zr[t],--Kr)}const t=function e(t){if(t.toLowerCase().startsWith("rgb")){const e=t.match(jr)||t.match(Wr)||t.match(Br);if(e){const t=e[4];return[ve(Vr(e[1],100/255)+.5|0,0,255),ve(Vr(e[2],100/255)+.5|0,0,255),ve(Vr(e[3],100/255)+.5|0,0,255),void 0!==t?ve(Vr(t,100),0,1):1]}Yr(t)}if(t.startsWith("#")){if(Ur.test(t)){const e=t.substring(1),n=e.length<=4?1:2,i=[0,0,0,255];for(let t=0,r=e.length;t<r;t+=n){let r=parseInt(e.substring(t,t+n),16);1==n&&(r+=r<<4),i[t/n]=r}return i[3]=i[3]/255,i}Yr(t)}const n=Gr=Gr||Ci(1,1,void 0,{willReadFrequently:!0,desynchronized:!0});n.fillStyle="#abcdef";let i=n.fillStyle;n.fillStyle=t,n.fillStyle===i&&(n.fillStyle="#fedcba",i=n.fillStyle,n.fillStyle=t,n.fillStyle===i)&&Yr(t);const r=n.fillStyle;return r.startsWith("#")||r.startsWith("rgba")?e(r):(n.clearRect(0,0,1,1),n.fillRect(0,0,1,1),(t=Array.from(n.getImageData(0,0,1,1).data))[3]=Ce(t[3]/255,3),t)}(e);4!==t.length&&Yr(e);for(const n of t)isNaN(n)&&Yr(e);return Zr[e]=t,++Kr,t}function no(e){return Array.isArray(e)?e:to(e)}function io(e){let t=e[0],n=(t!=(0|t)&&(t=t+.5|0),e[1]),i=(n!=(0|n)&&(n=n+.5|0),e[2]);return i!=(0|i)&&(i=i+.5|0),"rgba("+t+","+n+","+i+","+(void 0===e[3]?1:Math.round(1e3*e[3])/1e3)+")"}function ro(e){return 0<e[0]&&0<e[1]}function oo(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}g=0;const so=1<<g++,ao=1<<g++,lo=1<<g++,uo=1<<g++,ho=1<<+g,co=32,fo=Math.pow(2,6)-1,go={[so]:"boolean",[ao]:"number",[lo]:"string",[uo]:"color",[ho]:"number[]",[co]:"size"},po=Object.keys(go).map(Number).sort(R);function mo(e){var t=[];for(const n of po)_o(e,n)&&t.push(go[n]);return 0===t.length?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function _o(e,t){return(e&t)===t}class vo{constructor(e,t){if(!(e in go))throw new Error("literal expressions must have a specific type, got ".concat(mo(e)));this.type=e,this.value=t}}class yo{constructor(e,t){this.type=e,this.operator=t;for(var n=arguments.length,i=new Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];this.args=i}}function xo(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function bo(e,t,n){switch(typeof e){case"boolean":if(t===lo)return new vo(lo,e?"true":"false");if(_o(t,so))return new vo(so,e);throw new Error("got a boolean, but expected ".concat(mo(t)));case"number":if(t===co)return new vo(co,oo(e));if(t===so)return new vo(so,!!e);if(t===lo)return new vo(lo,e.toString());if(_o(t,ao))return new vo(ao,e);throw new Error("got a number, but expected ".concat(mo(t)));case"string":if(t===uo)return new vo(uo,to(e));if(t===so)return new vo(so,!!e);if(_o(t,lo))return new vo(lo,e);throw new Error("got a string, but expected ".concat(mo(t)))}if(!Array.isArray(e))throw new Error("expression must be an array or a primitive value");if(0===e.length)throw new Error("empty expression");if("string"==typeof e[0]){var i=e,r=t,o=i[0],s=So[o];if(s)return s(i,r,n);throw new Error("unknown operator: ".concat(o))}for(const t of e)if("number"!=typeof t)throw new Error("expected an array of numbers");if(t===co){if(2!==e.length)throw new Error("expected an array of two values for a size, got ".concat(e.length));return new vo(co,e)}if(t===uo){if(3===e.length)return new vo(uo,[...e,1]);if(4===e.length)return new vo(uo,e);throw new Error("expected an array of 3 or 4 values for a color, got ".concat(e.length))}if(_o(t,ho))return new vo(ho,e);throw new Error("got an array of numbers, but expected ".concat(mo(t)))}const wo={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},So={[wo.Get]:Po(Ro(1,1/0),Co),[wo.Var]:Po(Ro(1,1),(function(e,t,n){if("string"!=typeof(e=e[1]))throw new Error("expected a string argument for var operation");return n.variables.add(e),[new vo(lo,e)]})),[wo.Has]:Po(Ro(1,1/0),Co),[wo.Id]:Po((function(e,t,n){n.featureId=!0}),ko),[wo.Concat]:Po(Ro(2,1/0),Io(lo)),[wo.GeometryType]:Po((function(e,t,n){n.geometryType=!0}),ko),[wo.LineMetric]:Po(ko),[wo.Resolution]:Po(Eo,ko),[wo.Zoom]:Po(Eo,ko),[wo.Time]:Po(Eo,ko),[wo.Any]:Po(Ro(2,1/0),Io(so)),[wo.All]:Po(Ro(2,1/0),Io(so)),[wo.Not]:Po(Ro(1,1),Io(so)),[wo.Equal]:Po(Ro(2,2),Io(fo)),[wo.NotEqual]:Po(Ro(2,2),Io(fo)),[wo.GreaterThan]:Po(Ro(2,2),Io(ao)),[wo.GreaterThanOrEqualTo]:Po(Ro(2,2),Io(ao)),[wo.LessThan]:Po(Ro(2,2),Io(ao)),[wo.LessThanOrEqualTo]:Po(Ro(2,2),Io(ao)),[wo.Multiply]:Po(Ro(2,1/0),To),[wo.Coalesce]:Po(Ro(2,1/0),To),[wo.Divide]:Po(Ro(2,2),Io(ao)),[wo.Add]:Po(Ro(2,1/0),Io(ao)),[wo.Subtract]:Po(Ro(2,2),Io(ao)),[wo.Clamp]:Po(Ro(3,3),Io(ao)),[wo.Mod]:Po(Ro(2,2),Io(ao)),[wo.Pow]:Po(Ro(2,2),Io(ao)),[wo.Abs]:Po(Ro(1,1),Io(ao)),[wo.Floor]:Po(Ro(1,1),Io(ao)),[wo.Ceil]:Po(Ro(1,1),Io(ao)),[wo.Round]:Po(Ro(1,1),Io(ao)),[wo.Sin]:Po(Ro(1,1),Io(ao)),[wo.Cos]:Po(Ro(1,1),Io(ao)),[wo.Atan]:Po(Ro(1,2),Io(ao)),[wo.Sqrt]:Po(Ro(1,1),Io(ao)),[wo.Match]:Po(Ro(4,1/0),Mo,(function(e,t,n){var i=e.length-1,r=lo|ao|so,o=bo(e[1],r,n),s=bo(e[e.length-1],t,n),a=new Array(i-2);for(let t=0;t<i-2;t+=2){try{const i=bo(e[t+2],o.type,n);a[t]=i}catch(e){throw new Error("failed to parse argument ".concat(t+1," of match expression: ").concat(e.message))}try{const i=bo(e[t+3],s.type,n);a[t+1]=i}catch(e){throw new Error("failed to parse argument ".concat(t+2," of match expression: ").concat(e.message))}}return[o,...a,s]})),[wo.Between]:Po(Ro(3,3),Io(ao)),[wo.Interpolate]:Po(Ro(6,1/0),Mo,(function(e,t,n){const i=e[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const e=i[1];if("number"!=typeof e||e<=0)throw new Error("expected a number base for exponential interpolation"+", got ".concat(JSON.stringify(e)," instead"));r=e;break;default:throw new Error("invalid interpolation type: ".concat(JSON.stringify(i)))}var o=new vo(ao,r);let s;try{s=bo(e[2],ao,n)}catch(e){throw new Error("failed to parse argument 1 in interpolate expression: ".concat(e.message))}var a=new Array(e.length-3);for(let i=0;i<a.length;i+=2){try{const t=bo(e[i+3],ao,n);a[i]=t}catch(e){throw new Error("failed to parse argument ".concat(i+2," for interpolate expression: ").concat(e.message))}try{const r=bo(e[i+4],t,n);a[i+1]=r}catch(e){throw new Error("failed to parse argument ".concat(i+3," for interpolate expression: ").concat(e.message))}}return[o,s,...a]})),[wo.Case]:Po(Ro(3,1/0),(function(e,t,n){var i=e[0];if((e=e.length-1)%2==0)throw new Error("expected an odd number of arguments for ".concat(i,", got ").concat(e," instead"))}),(function(e,t,n){var i=bo(e[e.length-1],t,n),r=new Array(e.length-1);for(let t=0;t<r.length-1;t+=2){try{const i=bo(e[t+1],so,n);r[t]=i}catch(e){throw new Error("failed to parse argument ".concat(t," of case expression: ").concat(e.message))}try{const o=bo(e[t+2],i.type,n);r[t+1]=o}catch(e){throw new Error("failed to parse argument ".concat(t+1," of case expression: ").concat(e.message))}}return r[r.length-1]=i,r})),[wo.In]:Po(Ro(2,2),(function(e,t,n){let i,r=e[2];if(!Array.isArray(r))throw new Error('the second argument for the "in" operator must be an array');if("string"==typeof r[0]){if("literal"!==r[0])throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(r[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');r=r[1],i=lo}else i=ao;var o=new Array(r.length);for(let t=0;t<o.length;t++)try{const e=bo(r[t],i,n);o[t]=e}catch(e){throw new Error("failed to parse haystack item ".concat(t,' for "in" expression: ').concat(e.message))}return[bo(e[1],i,n),...o]})),[wo.Number]:Po(Ro(1,1/0),Io(fo)),[wo.String]:Po(Ro(1,1/0),Io(fo)),[wo.Array]:Po(Ro(1,1/0),Io(ao)),[wo.Color]:Po(Ro(1,4),Io(ao)),[wo.Band]:Po(Ro(1,3),Io(ao)),[wo.Palette]:Po(Ro(2,2),(function(e,t,n){let i;try{i=bo(e[1],ao,n)}catch(e){throw new Error("failed to parse first argument in palette expression: ".concat(e.message))}var r=e[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");var o=new Array(r.length);for(let t=0;t<o.length;t++){let i;try{i=bo(r[t],uo,n)}catch(e){throw new Error("failed to parse color at index ".concat(t," in palette expression: ").concat(e.message))}if(!(i instanceof vo))throw new Error("the palette color at index ".concat(t," must be a literal value"));o[t]=i}return[i,...o]})),[wo.ToString]:Po(Ro(1,1),Io(so|ao|lo|uo))};function Co(e,t,n){var i=e.length-1,r=new Array(i);for(let t=0;t<i;++t){const i=e[t+1];switch(typeof i){case"number":r[t]=new vo(ao,i);break;case"string":r[t]=new vo(lo,i);break;default:throw new Error("expected a string key or numeric array index for a get operation, got ".concat(i))}0===t&&n.properties.add(String(i))}return r}function Eo(e,t,n){n.mapState=!0}function ko(e,t,n){var i=e[0];if(1!==e.length)throw new Error("expected no arguments for ".concat(i," operation"));return[]}function Ro(e,t){return function(n,i,r){var o=n[0],s=n.length-1;if(e===t){if(s!==e){const t=1===e?"":"s";throw new Error("expected ".concat(e," argument").concat(t," for ").concat(o,", got ").concat(s))}}else if(s<e||t<s){const n=t===1/0?"".concat(e," or more"):"".concat(e," to ").concat(t);throw new Error("expected ".concat(n," arguments for ").concat(o,", got ").concat(s))}}}function To(e,t,n){const i=e.length-1,r=new Array(i);for(let o=0;o<i;++o){const i=bo(e[o+1],t,n);r[o]=i}return r}function Io(e){return function(t,n,i){var r=t.length-1,o=new Array(r);for(let n=0;n<r;++n){const r=bo(t[n+1],e,i);o[n]=r}return o}}function Mo(e,t,n){var i=e[0];if((e=e.length-1)%2==1)throw new Error("expected an even number of arguments for operation ".concat(i,", got ").concat(e," instead"))}function Po(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,i){const r=e[0];let o;for(let r=0;r<t.length;r++){const s=t[r](e,n,i);if(r==t.length-1){if(!s)throw new Error("expected last argument validator to return the parsed args");o=s}}return new yo(n,r,...o)}}function Lo(e,t,n){return function e(t,n){if(t instanceof vo){if(t.type!==uo||"string"!=typeof t.value)return function(){return t.value};{const e=to(t.value);return function(){return e}}}const i=t.operator;switch(i){case wo.Number:case wo.String:case wo.Coalesce:return function(t,n){const i=t.operator,r=t.args.length,o=new Array(r);for(let i=0;i<r;++i)o[i]=e(t.args[i],n);switch(i){case wo.Coalesce:return e=>{for(let t=0;t<r;++t){const n=o[t](e);if(null!=n)return n}throw new Error("Expected one of the values to be non-null")};case wo.Number:case wo.String:return e=>{for(let t=0;t<r;++t){const n=o[t](e);if(typeof n===i)return n}throw new Error("Expected one of the values to be a ".concat(i))};default:throw new Error("Unsupported assertion operator ".concat(i))}}(t,n);case wo.Get:case wo.Var:case wo.Has:return function(e){const t=e.args[0].value;switch(e.operator){case wo.Get:return n=>{const i=e.args;let r=n.properties[t];for(let e=1,t=i.length;e<t;++e)r=r[i[e].value];return r};case wo.Var:return e=>e.variables[t];case wo.Has:return n=>{const i=e.args;if(!(t in n.properties))return!1;let r=n.properties[t];for(let e=1,t=i.length;e<t;++e){const t=i[e].value;if(!r||!Object.hasOwn(r,t))return!1;r=r[t]}return!0};default:throw new Error("Unsupported accessor operator ".concat(e.operator))}}(t);case wo.Id:return e=>e.featureId;case wo.GeometryType:return e=>e.geometryType;case wo.Concat:{const i=t.args.map((t=>e(t,n)));return e=>"".concat(...i.map((t=>t(e).toString())))}case wo.Resolution:return e=>e.resolution;case wo.Any:case wo.All:case wo.Between:case wo.In:case wo.Not:return function(t,n){const i=t.operator,r=t.args.length,o=new Array(r);for(let i=0;i<r;++i)o[i]=e(t.args[i],n);switch(i){case wo.Any:return e=>{for(let t=0;t<r;++t)if(o[t](e))return!0;return!1};case wo.All:return e=>{for(let t=0;t<r;++t)if(!o[t](e))return!1;return!0};case wo.Between:return e=>{const t=o[0](e),n=o[1](e),i=o[2](e);return t>=n&&t<=i};case wo.In:return e=>{const t=o[0](e);for(let n=1;n<r;++n)if(t===o[n](e))return!0;return!1};case wo.Not:return e=>!o[0](e);default:throw new Error("Unsupported logical operator ".concat(i))}}(t,n);case wo.Equal:case wo.NotEqual:case wo.LessThan:case wo.LessThanOrEqualTo:case wo.GreaterThan:case wo.GreaterThanOrEqualTo:return function(t,n){const i=t.operator,r=e(t.args[0],n),o=e(t.args[1],n);switch(i){case wo.Equal:return e=>r(e)===o(e);case wo.NotEqual:return e=>r(e)!==o(e);case wo.LessThan:return e=>r(e)<o(e);case wo.LessThanOrEqualTo:return e=>r(e)<=o(e);case wo.GreaterThan:return e=>r(e)>o(e);case wo.GreaterThanOrEqualTo:return e=>r(e)>=o(e);default:throw new Error("Unsupported comparison operator ".concat(i))}}(t,n);case wo.Multiply:case wo.Divide:case wo.Add:case wo.Subtract:case wo.Clamp:case wo.Mod:case wo.Pow:case wo.Abs:case wo.Floor:case wo.Ceil:case wo.Round:case wo.Sin:case wo.Cos:case wo.Atan:case wo.Sqrt:return function(t,n){const i=t.operator,r=t.args.length,o=new Array(r);for(let i=0;i<r;++i)o[i]=e(t.args[i],n);switch(i){case wo.Multiply:return e=>{let t=1;for(let n=0;n<r;++n)t*=o[n](e);return t};case wo.Divide:return e=>o[0](e)/o[1](e);case wo.Add:return e=>{let t=0;for(let n=0;n<r;++n)t+=o[n](e);return t};case wo.Subtract:return e=>o[0](e)-o[1](e);case wo.Clamp:return e=>{const t=o[0](e),n=o[1](e);if(t<n)return n;const i=o[2](e);return t>i?i:t};case wo.Mod:return e=>o[0](e)%o[1](e);case wo.Pow:return e=>Math.pow(o[0](e),o[1](e));case wo.Abs:return e=>Math.abs(o[0](e));case wo.Floor:return e=>Math.floor(o[0](e));case wo.Ceil:return e=>Math.ceil(o[0](e));case wo.Round:return e=>Math.round(o[0](e));case wo.Sin:return e=>Math.sin(o[0](e));case wo.Cos:return e=>Math.cos(o[0](e));case wo.Atan:return 2===r?e=>Math.atan2(o[0](e),o[1](e)):e=>Math.atan(o[0](e));case wo.Sqrt:return e=>Math.sqrt(o[0](e));default:throw new Error("Unsupported numeric operator ".concat(i))}}(t,n);case wo.Case:return function(t,n){const i=t.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=e(t.args[o],n);return e=>{for(let t=0;t<i-1;t+=2)if(r[t](e))return r[t+1](e);return r[i-1](e)}}(t,n);case wo.Match:return function(t,n){const i=t.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=e(t.args[o],n);return e=>{const t=r[0](e);for(let n=1;n<i-1;n+=2)if(t===r[n](e))return r[n+1](e);return r[i-1](e)}}(t,n);case wo.Interpolate:return function(t,n){const i=t.args.length,r=new Array(i);for(let o=0;o<i;++o)r[o]=e(t.args[o],n);return e=>{const t=r[0](e),n=r[1](e);let o,s;for(let a=2;a<i;a+=2){const i=r[a](e);let l=r[a+1](e);const u=Array.isArray(l);if(u&&(l=Hr(l)),i>=n)return 2===a?l:(u?Fo:Ao)(t,n,o,s,i,l);o=i,s=l}return s}}(t,n);case wo.ToString:return function(t,n){const i=t.operator,r=t.args.length,o=new Array(r);for(let i=0;i<r;++i)o[i]=e(t.args[i],n);if(i===wo.ToString)return e=>{const n=o[0](e);return t.args[0].type===uo?io(n):n.toString()};throw new Error("Unsupported convert operator ".concat(i))}(t,n);default:throw new Error("Unsupported operator ".concat(i))}}(bo(e,t,n),n)}function Ao(e,t,n,i,r,o){return 0==(r-=n)?i:(t-=n,i+(1===e?t/r:(Math.pow(e,t)-1)/(Math.pow(e,r)-1))*(o-i))}function Fo(e,t,n,i,r,o){if(0==r-n)return i;var s=eo(i),a=eo(o);let l=a[2]-s[2];return 180<l?l-=360:l<-180&&(l+=360),s=((a=[Ao(e,t,n,s[0],r,a[0]),Ao(e,t,n,s[1],r,a[1]),s[2]+Ao(e,t,n,0,r,l),Ao(e,t,n,i[3],r,o[3])])[0]+16)/116,e=a[1],t=a[2]*Math.PI/180,n=Qr(s),e=qr(3.021973625*(i=Qr(s+e/500*Math.cos(t)))-1.617392459*n-.404875592*(s=Qr(s-e/200*Math.sin(t)))),t=qr(-.943766287*i+1.916279586*n+.027607165*s),i=qr(.069407491*i-.22898585*n+1.159737864*s),[ve(e+.5|0,0,255),ve(t+.5|0,0,255),ve(i+.5|0,0,255),a[3]]}const Do={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Oo(e,t,n){return t+":"+e+":"+(n?no(n):"null")}const zo=new class{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){var e=this.cache_[n];3&t++||e.hasListener()||(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,t,n){return(e=Oo(e,t,n))in this.cache_?this.cache_[e]:null}getPattern(e,t,n){return(e=Oo(e,t,n))in this.patternCache_?this.patternCache_[e]:null}set(e,t,n,i,r){const o=Oo(e,t,n),s=o in this.cache_;this.cache_[o]=i,r&&(i.getImageState()===Do.IDLE&&i.load(),i.getImageState()===Do.LOADING?i.ready().then((()=>{this.patternCache_[o]=ki().createPattern(i.getImage(1),"repeat")})):this.patternCache_[o]=ki().createPattern(i.getImage(1),"repeat")),s||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}};let No=null;class Go extends c{constructor(e,t,n,i,r){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=n,this.canvas_={},this.color_=r,this.imageState_=void 0===i?Do.IDLE:i,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===Do.LOADED){(No=No||Ci(1,1,void 0,{willReadFrequently:!0})).drawImage(this.image_,0,0);try{No.getImageData(0,0,1,1),this.tainted_=!1}catch{No=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(y)}handleImageError_(){this.imageState_=Do.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Do.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]||this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){var e,t,n;return this.image_||this.initializeImage_(),this.hitDetectionImage_||(this.isTainted_()?((n=Ci(e=this.size_[0],t=this.size_[1])).fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas):this.hitDetectionImage_=this.image_),this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Do.IDLE){this.image_||this.initializeImage_(),this.imageState_=Do.LOADING;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&(e=this.image_,(t=this.src_)&&(e.src=t),(e.src&&re?new Promise(((t,n)=>e.decode().then((()=>t(e))).catch((i=>e.complete&&e.width?t(e):n(i))))):(n=e,new Promise(((e,t)=>{function i(){o(),e(n)}function r(){o(),t(new Error("Image load error"))}function o(){n.removeEventListener("load",i),n.removeEventListener("error",r)}n.addEventListener("load",i),n.addEventListener("error",r)})))).then((e=>{this.image_=e,this.handleImageLoad_()})).catch(this.handleImageError_.bind(this)))}var e,t,n}replaceColor_(e){var t,n,i,r;this.color_&&!this.canvas_[e]&&this.imageState_===Do.LOADED&&(t=this.image_,i=(n=Ci(Math.ceil(t.width*e),Math.ceil(t.height*e))).canvas,n.scale(e,e),n.drawImage(t,0,0),n.globalCompositeOperation="multiply",n.fillStyle="string"==typeof(r=this.color_)?r:io(r),n.fillRect(0,0,i.width/e,i.height/e),n.globalCompositeOperation="destination-in",n.drawImage(t,0,0),this.canvas_[e]=i)}ready(){return this.ready_||(this.ready_=new Promise((e=>{if(this.imageState_===Do.LOADED||this.imageState_===Do.ERROR)e();else{const t=()=>{this.imageState_!==Do.LOADED&&this.imageState_!==Do.ERROR||(this.removeEventListener(y,t),e())};this.addEventListener(y,t)}}))),this.ready_}}function Wo(e,t,n,i,r,o){let s=void 0===t?void 0:zo.get(t,n,r);return s||(s=new Go(e,e&&"src"in e?e.src||void 0:t,n,i,r),zo.set(t,n,r,s,o)),o&&s&&!zo.getPattern(t,n,r)&&zo.set(t,n,r,s,o),s}const jo=Go;function Bo(e){return e?Array.isArray(e)?io(e):"object"==typeof e&&"src"in e?(t=e).offset&&t.size?(n=t.src+":"+t.offset,zo.getPattern(n,void 0,t.color)||((i=zo.get(t.src,"anonymous",null)).getImageState()!==Do.LOADED?null:((r=Ci(t.size[0],t.size[1])).drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),Wo(r.canvas,n,void 0,Do.LOADED,t.color,!0),zo.getPattern(n,void 0,t.color)))):zo.getPattern(t.src,"anonymous",t.color):e:null;var t,n,i,r}const Uo="10px sans-serif",Vo="#000",Yo="round",Xo=[],Zo="round",Ko="#000",Ho="center",qo="middle",Qo=[0,0,0,0],Jo=new Z;let $o,es=null;const ts={},ns=function(){const e=["monospace","serif"],t=e.length,n="wmytzilWMYTZIL@#/&?$%10";let i,r;function o(i,o,s){let a=!0;for(let l=0;l<t;++l){const t=e[l];if(r=os(i+" "+o+" 32px "+t,n),s!=t){const e=os(i+" "+o+" 32px "+s+","+t,n);a=a&&e!=r}}return a}function s(){let e=!0;const t=Jo.getKeys();for(let i=0,r=t.length;i<r;++i){var n=t[i];if(Jo.get(n)<100){const[t,i,r]=n.split("\n");o(t,i,r)?(O(ts),es=null,$o=void 0,Jo.set(n,100)):(Jo.set(n,Jo.get(n)+1,!0),e=!1)}}e&&(clearInterval(i),i=void 0)}return function(e){var t=mi(e);if(t){var n=t.families;for(let e=0,r=n.length;e<r;++e){const r=n[e],a=t.style+"\n"+t.weight+"\n"+r;void 0===Jo.get(a)&&(Jo.set(a,100,!0),o(t.style,t.weight,r)||(Jo.set(a,0,!0),void 0===i&&(i=setInterval(s,32))))}}}}(),is=function(){let e;return function(t){let n=ts[t];if(null==n){if(ie){const e=mi(t),i=rs(t,"g");n=(isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight))*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else e||((e=document.createElement("div")).innerHTML="M",e.style.minHeight="0",e.style.maxHeight="none",e.style.height="auto",e.style.padding="0",e.style.border="none",e.style.position="absolute",e.style.display="block",e.style.left="-99999px"),e.style.font=t,document.body.appendChild(e),n=e.offsetHeight,document.body.removeChild(e);ts[t]=n}return n}}();function rs(e,t){return es=es||Ci(1,1),e!=$o&&(es.font=e,$o=es.font),es.measureText(t)}function os(e,t){return rs(e,t).width}function ss(e,t,n){var i;return t in n?n[t]:(i=t.split("\n").reduce(((t,n)=>Math.max(t,os(e,n))),0),n[t]=i)}const as=class e extends(f=class e{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=oo(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){var t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return U()}getImage(e){return U()}getHitDetectionImage(){return U()}getPixelRatio(e){return 1}getImageState(){return U()}getImageSize(){return U()}getOrigin(){return U()}getSize(){return U()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=oo(e)}listenImageChange(e){U()}load(){U()}unlistenImageChange(e){U()}ready(){return Promise.resolve()}}){constructor(e){super({opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Do.LOADING:Do.LOADED,this.imageState_===Do.LOADING&&this.ready().then((()=>this.imageState_=Do.LOADED)),this.render()}clone(){var t=this.getScale();return(t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})).setOpacity(this.getOpacity()),t}getAnchor(){var e=this.size_,t=this.getDisplacement(),n=this.getScaleArray();return[e[0]/2-t[0]/n[0],e[1]/2+t[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){var t,n;const i=null==(t=this.fill_)?void 0:t.getKey(),r="".concat(e,",").concat(this.angle_,",").concat(this.radius,",").concat(this.radius2_,",").concat(this.points_,",").concat(i)+Object.values(this.renderOptions_).join(",");let o=null==(n=zo.get(r,null,null))?void 0:n.getImage(1);if(!o){const t=this.renderOptions_,n=Math.ceil(t.size*e),i=Ci(n,n);this.draw_(t,i,e),o=i.canvas,zo.set(r,null,null,new jo(o,void 0,null,Do.LOADED,null))}return o}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,n){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;let i=this.radius,r=void 0===this.radius2_?i:this.radius2_;if(i<r){const e=i;i=r,r=e}var o=void 0===this.radius2_?this.points_:2*this.points_,s=(o=2*Math.PI/o,r*Math.sin(o)),a=i-Math.sqrt(r*r-s*s),l=Math.sqrt(s*s+a*a);if(s=l/s,"miter"===e&&s<=n)return s*t;if(s=t/2/s,a=t/2*(a/l),l=Math.sqrt((i+s)*(i+s)+a*a)-i,void 0!==this.radius2_&&"bevel"!==e&&(s=i*Math.sin(o),a=r-Math.sqrt(i*i-s*s),(o=Math.sqrt(s*s+a*a)/s)<=n)){const e=o*t/2-r-i;return 2*Math.max(l,e)}return 2*l}createRenderOptions(){let e,t=Yo,n=Zo,i=0,r=null,o=0,s=0;this.stroke_&&(e=Bo(null!=(a=this.stroke_.getColor())?a:Ko),s=null!=(a=this.stroke_.getWidth())?a:1,r=this.stroke_.getLineDash(),o=null!=(a=this.stroke_.getLineDashOffset())?a:0,n=null!=(a=this.stroke_.getLineJoin())?a:Zo,t=null!=(a=this.stroke_.getLineCap())?a:Yo,i=null!=(a=this.stroke_.getMiterLimit())?a:10);var a=this.calculateLineJoinSize_(n,s,i),l=Math.max(this.radius,this.radius2_||0);return{strokeStyle:e,strokeWidth:s,size:Math.ceil(2*l+a),lineCap:t,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,n){if(t.scale(n,n),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let e=this.fill_.getColor();null===e&&(e=Vo),t.fillStyle=Bo(e),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let n=this.fill_.getColor(),i=0;null===(n="string"==typeof n?no(n):n)?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i&&(t=Ci(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;var n=this.radius;if(t===1/0)e.arc(0,0,n,0,2*Math.PI);else{var i=void 0===this.radius2_?n:this.radius2_,r=(void 0!==this.radius2_&&(t*=2),this.angle_-Math.PI/2),o=2*Math.PI/t;for(let s=0;s<t;s++){const t=r+s*o,a=s%2==0?n:i;e.lineTo(a*Math.cos(t),a*Math.sin(t))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=Vo,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}};class ls extends as{constructor(e){super({points:1/0,fill:(e=e||{radius:5}).fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){var e=this.getScale();return(e=new ls({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})).setOpacity(this.getOpacity()),e}setRadius(e){this.radius=e,this.render()}}const us=ls,hs=class e{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,void 0!==e.color&&this.setColor(e.color)}clone(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(e){var t;null!==e&&"object"==typeof e&&"src"in e&&((t=Wo(null,e.src,"anonymous",void 0,!e.offset&&e.color||null,!(e.offset&&e.size))).ready().then((()=>{this.patternImage_=null})),t.getImageState()===Do.IDLE&&t.load(),t.getImageState()===Do.LOADING)&&(this.patternImage_=t),this.color_=e}getKey(){var e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?Y(e):"object"==typeof e&&"src"in e?e.src+":"+e.offset:no(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}};function cs(e,t,n,i){return void 0!==n&&void 0!==i?[n/e,i/t]:void 0!==n?n/e:void 0!==i?i/t:1}const ds=class e extends f{constructor(e){const t=void 0!==(e=e||{}).opacity?e.opacity:1,n=void 0!==e.rotation?e.rotation:0,i=void 0!==e.scale?e.scale:1,r=void 0!==e.rotateWithView&&e.rotateWithView;super({opacity:t,rotation:n,scale:i,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:r,declutterMode:e.declutterMode}),this.anchor_=void 0!==e.anchor?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var o=void 0!==e.img?e.img:null;let s,a=e.src;if(pe(!(void 0!==a&&o),"`image` and `src` cannot be provided at the same time"),pe(void 0!==(a=void 0!==a&&0!==a.length||!o?a:o.src||Y(o))&&0<a.length,"A defined and non-empty `src` or `image` must be provided"),pe(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==e.src?s=Do.IDLE:void 0!==o&&(s="complete"in o?o.complete?o.src?Do.LOADED:Do.IDLE:Do.LOADING:Do.LOADED),this.color_=void 0!==e.color?no(e.color):null,this.iconImage_=Wo(o,a,this.crossOrigin_,s,this.color_),this.offset_=void 0!==e.offset?e.offset:[0,0],this.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==e.size?e.size:null,this.initialOptions_,void 0!==e.width||void 0!==e.height){let t,n;if(e.size)[t,n]=e.size;else{const i=this.getImage(1);if(i.width&&i.height)t=i.width,n=i.height;else if(i instanceof HTMLImageElement){this.initialOptions_=e;const t=()=>{var n;this.unlistenImageChange(t),this.initialOptions_&&(n=this.iconImage_.getSize(),this.setScale(cs(n[0],n[1],e.width,e.height)))};return void this.listenImageChange(t)}}void 0!==t&&this.setScale(cs(t,n,e.width,e.height))}}clone(){let t,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:i,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const t=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!t)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=t[0]),"fraction"==this.anchorYUnits_&&(e[1]*=t[1])}if("top-left"!=this.anchorOrigin_){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[0]=-e[0]+t[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),n=this.getScaleArray();return[e[0]-t[0]/n[0],e[1]+t[1]/n[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(!this.origin_){let n=this.offset_;if("top-left"!=this.offsetOrigin_){var e=this.getSize(),t=this.iconImage_.getSize();if(!e||!t)return null;n=n.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(n[0]=t[0]-e[0]-n[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(n[1]=t[1]-e[1]-n[1])}this.origin_=n}return this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_||this.iconImage_.getSize()}getWidth(){var e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:this.iconImage_.getImageState()==Do.LOADED?this.iconImage_.getSize()[0]*e[0]:void 0}getHeight(){var e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:this.iconImage_.getImageState()==Do.LOADED?this.iconImage_.getSize()[1]*e[1]:void 0}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(y,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(y,e)}ready(){return this.iconImage_.ready()}},fs=class e{constructor(e){this.color_=void 0!==(e=e||{}).color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}};class gs{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=_s,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}clone(){var e;let t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new gs({geometry:null!=(e=t)?e:void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:null!=(e=this.getRenderer())?e:void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=_s,this.geometry_=e}setZIndex(e){this.zIndex_=e}}let ps=null;function ms(e,t){if(!ps){const e=new hs({color:"rgba(255,255,255,0.4)"}),t=new fs({color:"#3399CC",width:1.25});ps=[new gs({image:new us({fill:e,stroke:t,radius:5}),fill:e,stroke:t})]}return ps}function _s(e){return e.getGeometry()}const vs=gs,ys=class e{constructor(e){this.font_=(e=e||{}).font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=oo(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new hs({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill||null,this.backgroundStroke_=e.backgroundStroke||null,this.padding_=void 0===e.padding?null:e.padding,this.declutterMode_=e.declutterMode}clone(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=oo(void 0!==e?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}};function xs(e){return!0}function bs(e){const t=xo(),n=function(e,t){const n=e.length,i=new Array(n);for(let r=0;r<n;++r){const n=e[r],o="filter"in n?Lo(n.filter,so,t):xs;let s;if(Array.isArray(n.style)){const e=n.style.length;s=new Array(e);for(let i=0;i<e;++i)s[i]=Ss(n.style[i],t)}else s=[Ss(n.style,t)];i[r]={filter:o,styles:s}}return function(t){var r=[];let o=!1;for(let s=0;s<n;++s)if((0,i[s].filter)(t)&&(!e[s].else||!o)){o=!0;for(const e of i[s].styles){const n=e(t);n&&r.push(n)}}return r}}(e,t),i={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(e,r){if(i.properties=e.getPropertiesInternal(),i.resolution=r,t.featureId){const t=e.getId();i.featureId=void 0!==t?t:null}return t.geometryType&&(i.geometryType=function e(t){if(!t)return"";var n=t.getType();switch(n){case"Point":case"LineString":case"Polygon":return n;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return n.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return e(t.getGeometries()[0]);default:return""}}(e.getGeometry())),n(i)}}function ws(e){const t=xo(),n=e.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=Ss(e[r],t);const r={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},o=new Array(n);return function(e,s){if(r.properties=e.getPropertiesInternal(),r.resolution=s,t.featureId){const t=e.getId();r.featureId=void 0!==t?t:null}let a=0;for(let e=0;e<n;++e){const t=i[e](r);t&&(o[a]=t,a+=1)}return o.length=a,o}}function Ss(e,t){const n=Cs(e,"",t),i=Es(e,"",t),r=function(e,t){const n="text-",i=Rs(e,n+"value",t);if(!i)return null;const r=Cs(e,n,t),o=Cs(e,n+"background-",t),s=Es(e,n,t),a=Es(e,n+"background-",t),l=Rs(e,n+"font",t),u=ks(e,n+"max-angle",t),h=ks(e,n+"offset-x",t),c=ks(e,n+"offset-y",t),d=Ts(e,n+"overflow",t),f=Rs(e,n+"placement",t),g=ks(e,n+"repeat",t),p=As(e,n+"scale",t),m=Ts(e,n+"rotate-with-view",t),_=ks(e,n+"rotation",t),v=Rs(e,n+"align",t),y=Rs(e,n+"justify",t),x=Rs(e,n+"baseline",t),b=Ts(e,n+"keep-upright",t),w=Ms(e,n+"padding",t),S=zs(e,n+"declutter-mode"),C=new ys({declutterMode:S});return function(e){if(C.setText(i(e)),r&&C.setFill(r(e)),o&&C.setBackgroundFill(o(e)),s&&C.setStroke(s(e)),a&&C.setBackgroundStroke(a(e)),l&&C.setFont(l(e)),u&&C.setMaxAngle(u(e)),h&&C.setOffsetX(h(e)),c&&C.setOffsetY(c(e)),d&&C.setOverflow(d(e)),f){var t=f(e);if("point"!==t&&"line"!==t)throw new Error("Expected point or line for text-placement");C.setPlacement(t)}if(g&&C.setRepeat(g(e)),p&&C.setScale(p(e)),m&&C.setRotateWithView(m(e)),_&&C.setRotation(_(e)),v){if("left"!==(t=v(e))&&"center"!==t&&"right"!==t&&"end"!==t&&"start"!==t)throw new Error("Expected left, right, center, start, or end for text-align");C.setTextAlign(t)}if(y){if("left"!==(t=y(e))&&"right"!==t&&"center"!==t)throw new Error("Expected left, right, or center for text-justify");C.setJustify(t)}if(x){if("bottom"!==(t=x(e))&&"top"!==t&&"middle"!==t&&"alphabetic"!==t&&"hanging"!==t)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");C.setTextBaseline(t)}return w&&C.setPadding(w(e)),b&&C.setKeepUpright(b(e)),C}}(e,t),o=function(e,t){if("icon-src"in e){var n=e,i=t;const r="icon-",o=Gs(n["icon-src"],"icon-src"),s=Ps(n,r+"anchor",i),a=As(n,r+"scale",i),l=ks(n,r+"opacity",i),u=Ps(n,r+"displacement",i),h=ks(n,r+"rotation",i),c=Ts(n,r+"rotate-with-view",i),d=Ds(n,r+"anchor-origin"),f=Os(n,r+"anchor-x-units"),g=Os(n,r+"anchor-y-units"),p=function(e,t){if(void 0!==(e=e[t]))return js(e,t)}(n,r+"color"),m=function(e,t){if(void 0!==(e=e[t])){if("string"!=typeof e)throw new Error("Expected a string for ".concat(t));return e}}(n,r+"cross-origin"),_=function(e,t){if(void 0!==(e=e[t]))return Ns(e,t)}(n,r+"offset"),v=Ds(n,r+"offset-origin"),y=Fs(n,r+"width"),x=Fs(n,r+"height"),b=function(e,t){if(void 0!==(e=e[t])){if("number"==typeof e)return oo(e);if(!Array.isArray(e))throw new Error("Expected a number or size array for ".concat(t));if(2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw new Error("Expected a number or size array for ".concat(t));return e}}(n,r+"size"),w=zs(n,r+"declutter-mode"),S=new ds({src:o,anchorOrigin:d,anchorXUnits:f,anchorYUnits:g,color:p,crossOrigin:m,offset:_,offsetOrigin:v,height:x,width:y,size:b,declutterMode:w});return function(e){return l&&S.setOpacity(l(e)),u&&S.setDisplacement(u(e)),h&&S.setRotation(h(e)),c&&S.setRotateWithView(c(e)),a&&S.setScale(a(e)),s&&S.setAnchor(s(e)),S}}if("shape-points"in e){n=t;const r="shape-",o=r+"points",s=r+"radius",a=Ws((i=e)[o],o),l=Ws(i[s],s),u=Cs(i,r,n),h=Es(i,r,n),c=As(i,r+"scale",n),d=Ps(i,r+"displacement",n),f=ks(i,r+"rotation",n),g=Ts(i,r+"rotate-with-view",n),p=Fs(i,r+"radius2"),m=Fs(i,r+"angle"),_=zs(i,r+"declutter-mode"),v=new as({points:a,radius:l,radius2:p,angle:m,declutterMode:_});return function(e){return u&&v.setFill(u(e)),h&&v.setStroke(h(e)),d&&v.setDisplacement(d(e)),f&&v.setRotation(f(e)),g&&v.setRotateWithView(g(e)),c&&v.setScale(c(e)),v}}if("circle-radius"in e){const n="circle-",i=Cs(e,n,t),r=Es(e,n,t),o=ks(e,n+"radius",t),s=As(e,n+"scale",t),a=Ps(e,n+"displacement",t),l=ks(e,n+"rotation",t),u=Ts(e,n+"rotate-with-view",t),h=zs(e,n+"declutter-mode"),c=new us({radius:5,declutterMode:h});return function(e){return o&&c.setRadius(o(e)),i&&c.setFill(i(e)),r&&c.setStroke(r(e)),a&&c.setDisplacement(a(e)),l&&c.setRotation(l(e)),u&&c.setRotateWithView(u(e)),s&&c.setScale(s(e)),c}}return null}(e,t),s=ks(e,"z-index",t);if(!(n||i||r||o||z(e)))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));const a=new vs;return function(e){let t=!0;if(n){const i=n(e);i&&(t=!1),a.setFill(i)}if(i){const n=i(e);n&&(t=!1),a.setStroke(n)}if(r){const n=r(e);n&&(t=!1),a.setText(n)}if(o){const n=o(e);n&&(t=!1),a.setImage(n)}return s&&a.setZIndex(s(e)),t?null:a}}function Cs(e,t,n){let i;if(t+"fill-pattern-src"in e)i=function(e,t,n){const i=Rs(e,t+"pattern-src",n),r=Ls(e,t+"pattern-offset",n),o=Ls(e,t+"pattern-size",n),s=Is(e,t+"color",n);return function(e){return{src:i(e),offset:r&&r(e),size:o&&o(e),color:s&&s(e)}}}(e,t+"fill-",n);else{if("none"===e[t+"fill-color"])return e=>null;i=Is(e,t+"fill-color",n)}if(!i)return null;const r=new hs;return function(e){return(e=i(e))===Nr?null:(r.setColor(e),r)}}function Es(e,t,n){const i=ks(e,t+"stroke-width",n),r=Is(e,t+"stroke-color",n);if(!i&&!r)return null;const o=Rs(e,t+"stroke-line-cap",n),s=Rs(e,t+"stroke-line-join",n),a=Ms(e,t+"stroke-line-dash",n),l=ks(e,t+"stroke-line-dash-offset",n),u=ks(e,t+"stroke-miter-limit",n),h=new fs;return function(e){if(r){var t=r(e);if(t===Nr)return null;h.setColor(t)}if(i&&h.setWidth(i(e)),o){if("butt"!==(t=o(e))&&"round"!==t&&"square"!==t)throw new Error("Expected butt, round, or square line cap");h.setLineCap(t)}if(s){if("bevel"!==(t=s(e))&&"round"!==t&&"miter"!==t)throw new Error("Expected bevel, round, or miter line join");h.setLineJoin(t)}return a&&h.setLineDash(a(e)),l&&h.setLineDashOffset(l(e)),u&&h.setMiterLimit(u(e)),h}}function ks(e,t,n){if(t in e){const i=Lo(e[t],ao,n);return function(e){return Ws(i(e),t)}}}function Rs(e,t,n){if(!(t in e))return null;const i=Lo(e[t],lo,n);return function(e){return Gs(i(e),t)}}function Ts(e,t,n){if(!(t in e))return null;const i=Lo(e[t],so,n);return function(e){if("boolean"!=typeof(e=i(e)))throw new Error("Expected a boolean for ".concat(t));return e}}function Is(e,t,n){if(!(t in e))return null;const i=Lo(e[t],uo,n);return function(e){return js(i(e),t)}}function Ms(e,t,n){if(!(t in e))return null;const i=Lo(e[t],ho,n);return function(e){return Ns(i(e),t)}}function Ps(e,t,n){if(!(t in e))return null;const i=Lo(e[t],ho,n);return function(e){if(2!==(e=Ns(i(e),t)).length)throw new Error("Expected two numbers for ".concat(t));return e}}function Ls(e,t,n){if(!(t in e))return null;const i=Lo(e[t],ho,n);return function(e){return Bs(i(e),t)}}function As(e,t,n){if(!(t in e))return null;const i=Lo(e[t],ho|ao,n);return function(e){return"number"==typeof(e=i(e))?e:Bs(e,t)}}function Fs(e,t){if(void 0!==(e=e[t])){if("number"!=typeof e)throw new Error("Expected a number for ".concat(t));return e}}function Ds(e,t){if(void 0!==(e=e[t])){if("bottom-left"!==e&&"bottom-right"!==e&&"top-left"!==e&&"top-right"!==e)throw new Error("Expected bottom-left, bottom-right, top-left, or top-right for ".concat(t));return e}}function Os(e,t){if(void 0!==(e=e[t])){if("pixels"!==e&&"fraction"!==e)throw new Error("Expected pixels or fraction for ".concat(t));return e}}function zs(e,t){if(void 0!==(e=e[t])){if("string"!=typeof e)throw new Error("Expected a string for ".concat(t));if("declutter"!==e&&"obstacle"!==e&&"none"!==e)throw new Error("Expected declutter, obstacle, or none for ".concat(t));return e}}function Ns(e,t){if(!Array.isArray(e))throw new Error("Expected an array for ".concat(t));var n=e.length;for(let i=0;i<n;++i)if("number"!=typeof e[i])throw new Error("Expected an array of numbers for ".concat(t));return e}function Gs(e,t){if("string"!=typeof e)throw new Error("Expected a string for ".concat(t));return e}function Ws(e,t){if("number"!=typeof e)throw new Error("Expected a number for ".concat(t));return e}function js(e,t){if("string"==typeof e)return e;var n=(e=Ns(e,t)).length;if(n<3||4<n)throw new Error("Expected a color with 3 or 4 values for ".concat(t));return e}function Bs(e,t){if(2!==(e=Ns(e,t)).length)throw new Error("Expected an array of two numbers for ".concat(t));return e}const Us="renderOrder",Vs=class extends Sr{constructor(e){e=e||{};var t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,this.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Us)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){var n=this.getDeclutter();n in e.declutter==0&&(e.declutter[n]=new kr(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(Us,e)}setStyle(e){this.style_=void 0===e?ms:e;var t=function(e){if(void 0===e)return ms;if(!e)return null;if("function"==typeof e)return e;if(e instanceof vs)return e;if(!Array.isArray(e))return ws([e]);if(0===e.length)return[];const t=e.length,n=e[0];if(n instanceof vs){const n=new Array(t);for(let i=0;i<t;++i){const t=e[i];if(!(t instanceof vs))throw new Error("Expected a list of style instances");n[i]=t}return n}if("style"in n){const n=new Array(t);for(let i=0;i<t;++i){const t=e[i];if(!("style"in t))throw new Error("Expected a list of rules with a style property");n[i]=t}return bs(n)}return ws(e)}(e);this.styleFunction_=null===e?void 0:function(e){let t;if("function"==typeof e)t=e;else{let n;n=Array.isArray(e)?e:(pe("function"==typeof e.getZIndex,"Expected an `Style` or an array of `Style`"),[e]),t=function(){return n}}return t}(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}},Ys=class extends N{constructor(e,t,n,i){super(e),this.inversePixelTransform=t,this.frameState=n,this.context=i}};function Xs(e,t){zo.expire()}const Zs=class extends class extends k{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){U()}calculateMatrices2D(e){var t=e.viewState,n=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;Tn(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),In(i,n)}forEachFeatureAtCoordinate(e,t,n,i,r,o,s,a){let l;var u=t.viewState;function h(e,t,n,i){return r.call(o,t,e?n:null,i)}var c=u.projection,d=ht(e.slice(),c),f=[[0,0]];if(c.canWrapX()&&i){const e=it(c.getExtent());f.push([-e,0],[e,0])}var g=t.layerStatesArray,p=g.length,m=[],_=[];for(let i=0;i<f.length;i++)for(let r=p-1;0<=r;--r){const o=g[r],c=o.layer;if(c.hasRenderer()&&wr(o,u)&&s.call(a,c)){const r=c.getRenderer(),s=c.getSource();if(r&&s){const a=s.getWrapX()?d:e,u=h.bind(null,o.managed);_[0]=a[0]+f[i][0],_[1]=a[1]+f[i][1],l=r.forEachFeatureAtCoordinate(_,t,n,u,m)}if(l)return l}}if(0!==m.length){const e=1/m.length;return m.forEach(((t,n)=>t.distanceSq+=n*e)),m.sort(((e,t)=>e.distanceSq-t.distanceSq)),m.some((e=>l=e.callback(e.feature,e.layer,e.geometry))),l}}hasFeatureAtCoordinate(e,t,n,i,r,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,i,L,this,r,o)}getMap(){return this.map_}renderFrame(e){U()}scheduleExpireIconCache(e){zo.canExpireCache()&&e.postRenderFunctions.push(Xs)}}{constructor(e){var t;super(e),this.fontChangeListenerKey_=G(Jo,v,e.redrawText,e),this.element_=document.createElement("div"),((t=this.element_.style).position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=yi+" ol-layers",t=e.getViewport()).insertBefore(this.element_,t.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){var n=this.getMap();n.hasListener(e)&&(e=new Ys(e,void 0,t),n.dispatchEvent(e))}disposeInternal(){j(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(xr,e);var t=e.layerStatesArray.sort(((e,t)=>e.zIndex-t.zIndex)),n=(t.some((e=>e.layer instanceof Vs&&e.layer.getDeclutter()))&&(e.declutter={}),e.viewState),i=[];let d=null;for(let a=this.children_.length=0,l=t.length;a<l;++a){var r=t[a],o=(e.layerIndex=a,r.layer),s=o.getSourceState();!wr(r,n)||"ready"!=s&&"undefined"!=s?o.unrender():(s=o.render(e,d))&&(s!==d&&(this.children_.push(s),d=s),i.push(r))}this.declutter(e,i);var a=this.element_,l=this.children_,u=a.childNodes;for(let e=0;;++e){var h=u[e],c=l[e];if(!h&&!c)break;h!==c&&(h?c?a.insertBefore(c,h):(a.removeChild(h),--e):a.appendChild(c))}this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)}declutter(e,t){if(e.declutter){for(let r=t.length-1;0<=r;--r){var n=t[r],i=n.layer;i.getDeclutter()&&i.renderDeclutter(e,n)}t.forEach((t=>t.layer.renderDeferred(e)))}}};function Ks(e){e instanceof Sr?e.setMapInternal(null):e instanceof _r&&e.getLayers().forEach(Ks)}const Hs=class extends Z{constructor(e){super(),this.on,this.once,this.un;var t,n,i,r=function(e){let t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var n={},i=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new _r({layers:e.layers});let r,o,s;return n[ce]=i,n[fe]=e.target,n[ge]=e.view instanceof _i?e.view:new _i,void 0!==e.controls&&(r=Array.isArray(e.controls)?new H(e.controls.slice()):(pe("function"==typeof e.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),e.controls)),void 0!==e.interactions&&(o=Array.isArray(e.interactions)?new H(e.interactions.slice()):(pe("function"==typeof e.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),e.interactions)),s=void 0!==e.overlays?Array.isArray(e.overlays)?new H(e.overlays.slice()):(pe("function"==typeof e.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),e.overlays):new H,{controls:r,interactions:o,keyboardEventTarget:t,overlays:s,values:n}}(e=e||{});this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:ne,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=r.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver((()=>this.updateSize())),this.controls=r.controls||(n={},i=new H,void 0!==n.zoom&&!n.zoom||i.push(new Li(n.zoomOptions)),void 0!==n.rotate&&!n.rotate||i.push(new Pi(n.rotateOptions)),void 0!==n.attribution&&!n.attribution||i.push(new Mi(n.attributionOptions)),i),this.interactions=r.interactions||(n={onFocusOnly:!0},i=new H,t=new Ai(-.005,.05,100),void 0!==n.altShiftDragRotate&&!n.altShiftDragRotate||i.push(new Ki),void 0!==n.doubleClickZoom&&!n.doubleClickZoom||i.push(new Di({delta:n.zoomDelta,duration:n.zoomDuration})),void 0!==n.dragPan&&!n.dragPan||i.push(new Zi({onFocusOnly:n.onFocusOnly,kinetic:t})),void 0!==n.pinchRotate&&!n.pinchRotate||i.push(new or),void 0!==n.pinchZoom&&!n.pinchZoom||i.push(new sr({duration:n.zoomDuration})),void 0!==n.keyboard&&!n.keyboard||(i.push(new nr),i.push(new ir({delta:n.zoomDelta,duration:n.zoomDuration}))),void 0!==n.mouseWheelZoom&&!n.mouseWheelZoom||i.push(new rr({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),void 0!==n.shiftDragZoom&&!n.shiftDragZoom||i.push(new Ji({duration:n.zoomDuration})),i),this.overlays_=r.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new me(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(ce,this.handleLayerGroupChanged_),this.addChangeListener(ge,this.handleViewChanged_),this.addChangeListener(de,this.handleSizeChanged_),this.addChangeListener(fe,this.handleTargetChanged_),this.setProperties(r.values);const o=this;!e.view||e.view instanceof _i||e.view.then((function(e){o.setView(new _i(e))})),this.controls.addEventListener(m,(e=>{e.element.setMap(this)})),this.controls.addEventListener(_,(e=>{e.element.setMap(null)})),this.interactions.addEventListener(m,(e=>{e.element.setMap(this)})),this.interactions.addEventListener(_,(e=>{e.element.setMap(null)})),this.overlays_.addEventListener(m,(e=>{this.addOverlayInternal_(e.element)})),this.overlays_.addEventListener(_,(e=>{var t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)})),this.controls.forEach((e=>{e.setMap(this)})),this.interactions.forEach((e=>{e.setMap(this)})),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){!function e(t,n){if(t instanceof Sr)t.setMapInternal(n);else if(t instanceof _r){var i=t.getLayers().getArray();for(let t=0,r=i.length;t<r;++t)e(i[t],n)}}(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,n){var i,r;if(this.frameState_&&this.renderer_)return e=this.getCoordinateFromPixelInternal(e),i=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,r=void 0!==n.layerFilter?n.layerFilter:L,n=!1!==n.checkWrapped,this.renderer_.forEachFeatureAtCoordinate(e,this.frameState_,i,n,t,null,r,null)}getFeaturesAtPixel(e,t){const n=[];return this.forEachFeatureAtPixel(e,(function(e){n.push(e)}),t),n}getAllLayers(){const e=[];return function t(n){n.forEach((function(n){n instanceof _r?t(n.getLayers()):e.push(n)}))}(this.getLayers()),e}hasFeatureAtPixel(e,t){var n,i;return!(!this.frameState_||!this.renderer_)&&(e=this.getCoordinateFromPixelInternal(e),n=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:L,i=void 0!==t.hitTolerance?t.hitTolerance:0,t=!1!==t.checkWrapped,this.renderer_.hasFeatureAtCoordinate(e,this.frameState_,i,t,n,null))}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){var t=this.viewport_.getBoundingClientRect(),n=this.getSize(),i=t.width/n[0];return n=t.height/n[1],[((e="changedTouches"in e?e.changedTouches[0]:e).clientX-t.left)/i,(e.clientY-t.top)/n]}getTarget(){return this.get(fe)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Sn(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){var t=this.frameState_;return t?Rn(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){return void 0!==(e=this.overlayIdIndex_[e.toString()])?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(ce)}setLayers(e){var t=this.getLayerGroup();e instanceof H?t.setLayers(e):((t=t.getLayers()).clear(),t.extend(e))}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){var e=this.getLayerGroup().getLayerStatesArray();for(let i=0,r=e.length;i<r;++i){var t=e[i];if(t.visible){var n=t.layer.getRenderer();if(n&&!n.ready)return!0;if((n=t.layer.getSource())&&n.loading)return!0}}return!1}getPixelFromCoordinate(e){return e=Cn(e,this.getView().getProjection()),this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(e){var t=this.frameState_;return t?Rn(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(de)}getView(){return this.get(ge)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){var e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,n,i){return(r=this.frameState_)&&t in r.wantedTiles&&r.wantedTiles[t][e.getKey()]?(t=r.viewState.center,e=n[0]-t[0],r=n[1]-t[1],65536*Math.log(i)+Math.sqrt(e*e+r*r)/i):1/0;var r}handleBrowserEvent(e,t){t=t||e.type,t=new Q(t,this,e),this.handleMapBrowserEvent(t)}handleMapBrowserEvent(e){if(this.frameState_){const n=e.originalEvent,i=n.type;if(i===se||i===E||i===w){const e=this.getOwnerDocument(),t=this.viewport_.getRootNode?this.viewport_.getRootNode():e,i=n.target,r=t instanceof ShadowRoot?t.host===i?t.host.ownerDocument:t:t===e?e.documentElement:t;if(this.overlayContainerStopEvent_.contains(i)||!r.contains(i))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e)){const n=this.getInteractions().getArray().slice();for(let i=n.length-1;0<=i;i--){var t=n[i];if(t.getMap()===this&&t.getActive()&&this.getTargetElement()&&(!t.handleEvent(e)||e.propagationStopped))break}}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let n=this.maxTilesLoading_,i=n;if(e){const t=e.viewHints;if(t[0]||t[1]){const t=8<Date.now()-e.time;n=t?0:8,i=t?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,i))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(br)&&this.renderer_.dispatchRenderEvent(br,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new q(he,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new q(ue,this,e))));var n=this.postRenderFunctions_;if(e)for(let t=0,i=n.length;t<i;++t)n[t](this,e);n.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)j(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(x,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(E,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const e=this.targetElement_.getRootNode();e instanceof ShadowRoot&&this.resizeObserver_.unobserve(e.host),this.setSize(void 0)}const e=this.getTarget(),t="string"==typeof e?document.getElementById(e):e;if(this.targetElement_=t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new Zs(this)),this.mapBrowserEventHandler_=new ae(this,this.moveTolerance_);for(const e in J)this.mapBrowserEventHandler_.addEventListener(J[e],this.handleMapBrowserEvent.bind(this));let e;this.viewport_.addEventListener(x,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(E,this.boundHandleBrowserEvent_,!!oe&&{passive:!1}),e=this.keyboardEventTarget_||((n=t.getRootNode())instanceof ShadowRoot?n.host:t),this.targetChangeHandlerKeys_=[G(e,w,this.handleBrowserEvent,this),G(e,S,this.handleBrowserEvent,this)];var n=t.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.observe(n.host),this.resizeObserver_.observe(t)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(j(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(j(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=G(e,v,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=G(e,y,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(j),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new pr("addlayer",e)),this.layerGroupPropertyListenerKeys_=[G(e,v,this.render,this),G(e,y,this.render,this),G(e,"addlayer",this.handleLayerAdd_,this),G(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){var e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){var t=e[n].layer;t.hasRenderer()&&t.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Ks(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),n=this.getView(),i=this.frameState_;let r=null;if(void 0!==t&&ro(t)&&n&&n.isDef()){const i=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),o=n.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Qe(o.center,o.resolution,o.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:o,viewHints:i,wantedTiles:{},mapId:Y(this),renderTargets:{}},o.nextCenter&&o.nextResolution){const e=isNaN(o.nextRotation)?o.rotation:o.nextRotation;r.nextExtent=Qe(o.nextCenter,o.nextResolution,e,t)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),!i||this.previousExtent_&&(ot(this.previousExtent_)||Ue(r.extent,this.previousExtent_))||(this.dispatchEvent(new q("movestart",this,i)),this.previousExtent_=We(this.previousExtent_)),!this.previousExtent_||r.viewHints[0]||r.viewHints[1]||Ue(r.extent,this.previousExtent_)||(this.dispatchEvent(new q("moveend",this,r)),Ae(r.extent,this.previousExtent_))),this.dispatchEvent(new q(le,this,r)),this.renderComplete_=(this.hasListener(ue)||this.hasListener(he)||this.hasListener(br))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()}),0))}setLayerGroup(e){var t=this.getLayerGroup();t&&this.handleLayerRemove_(new pr("removelayer",t)),this.set(ce,e)}setSize(e){this.set(de,e)}setTarget(e){this.set(fe,e)}setView(e){if(!e||e instanceof _i)this.set(ge,e);else{this.set(ge,new _i);const t=this;e.then((function(e){t.setView(new _i(e))}))}}updateSize(){var e=this.getTargetElement();let t;if(e){const n=getComputedStyle(e),i=e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),r=e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(r)||!ro(t=[Math.max(0,i),Math.max(0,r)])&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&_t("No map visible because the map container's width or height are 0.")}const n=this.getSize();!t||n&&P(t,n)||(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){var t=this.getView();t&&t.setViewportSize(e)}};function qs(e){return e instanceof Image||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageBitmap?e:null}g=class extends c{constructor(e,t,n){super(),n=n||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(y)}release(){this.setState(4)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(4!==this.state){if(3!==this.state&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){U()}getAlpha(e,t){if(!this.transition_)return 1;let n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else n=t,this.transitionStarts_[e]=n;return(e=t-n+1e3/60)>=this.transition_?1:ct(e/this.transition_)}inTransition(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}};const Qs=new Error("disposed"),Js=[256,256],$s=class extends g{constructor(e){super(e.tileCoord,0,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){var e;return this.size_||((e=qs(this.data_))?[e.width,e.height]:Js)}getData(){return this.data_}getError(){return this.error_}load(){if(0===this.state||3===this.state){this.state=1,this.changed();const e=this;this.loader_().then((function(t){e.data_=t,e.state=2,e.changed()})).catch((function(t){e.error_=t,e.state=3,e.changed()}))}}disposeInternal(){this.controller_&&(this.controller_.abort(Qs),this.controller_=null),super.disposeInternal()}},ea=class extends g{constructor(e,t,n,i,r,o){super(e,t,o),this.crossOrigin_=i,this.src_=n,this.key=n,this.image_=new Image,null!==i&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(e){this.image_=e,this.state=2,this.unlistenImage_(),this.changed()}handleImageError_(){var e;this.state=3,this.unlistenImage_(),this.image_=((e=Ci(1,1)).fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas),this.changed()}handleImageLoad_(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=2:this.state=4,this.unlistenImage_(),this.changed()}load(){3==this.state&&(this.state=0,this.image_=new Image,null!==this.crossOrigin_)&&(this.image_.crossOrigin=this.crossOrigin_),0==this.state&&(this.state=1,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(e,t,n){let i=!0,r=!1,o=!1;const s=[W(e,"load",(function(){o=!0,r||t()}))];return e.src&&re?(r=!0,e.decode().then((function(){i&&t()})).catch((function(e){i&&(o?t:n)()}))):s.push(W(e,"error",n)),function(){i=!1,s.forEach(j)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}};class ta{constructor(e,t,n,i){this.minX=e,this.maxX=t,this.minY=n,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function na(e,t,n,i,r){return void 0!==r?(r.minX=e,r.maxX=t,r.minY=n,r.maxY=i,r):new ta(e,t,n,i)}const ia=ta;let ra;const oa=[];function sa(e,t,n,i,r){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(i,r),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(n,r)),e.restore()}function aa(e,t){return 2<Math.abs(e[4*t]-210)||2<Math.abs(e[4*t+3]-191.25)}function la(e,t,n,i){var r=wn(n,t,e);let o=gn(t,i,n);if(void 0!==(i=t.getMetersPerUnit())&&(o*=i),void 0!==(n=e.getMetersPerUnit())&&(o/=n),!(t=e.getExtent())||De(t,r)){const t=gn(e,o,r)/o;isFinite(t)&&0<t&&(o/=t)}return o}function ua(e,t,n,i,r,o,s,a,l,u,h,c,d,f){const g=Ci(Math.round(n*e),Math.round(n*t),oa);if(c||(g.imageSmoothingEnabled=!1),0!==l.length){g.scale(n,n),g.globalCompositeOperation="lighter";const p=[1/0,1/0,-1/0,-1/0];let m;l.forEach((function(e,t,n){var i=p;(e=e.extent)[0]<i[0]&&(i[0]=e[0]),e[2]>i[2]&&(i[2]=e[2]),e[1]<i[1]&&(i[1]=e[1]),e[3]>i[3]&&(i[3]=e[3])}));const _=n/i,v=(c?1:1+Math.pow(2,-24))/_;if(!d||1!==l.length||0!==u){if(m=Ci(Math.round(it(p)*_),Math.round($e(p)*_),oa),c||(m.imageSmoothingEnabled=!1),r&&f){const b=(r[0]-p[0])*_,w=-(r[3]-p[3])*_,S=it(r)*_,C=$e(r)*_;m.rect(b,w,S,C),m.clip()}l.forEach((function(e,t,n){if(0<e.image.width&&0<e.image.height){if(e.clipExtent){m.save();const t=(e.clipExtent[0]-p[0])*_,n=-(e.clipExtent[3]-p[3])*_,i=it(e.clipExtent)*_,r=$e(e.clipExtent)*_;m.rect(c?t:Math.round(t),c?n:Math.round(n),c?i:Math.round(t+i)-Math.round(t),c?r:Math.round(n+r)-Math.round(n)),m.clip()}const t=(e.extent[0]-p[0])*_,n=-(e.extent[3]-p[3])*_,i=it(e.extent)*_,r=$e(e.extent)*_;m.drawImage(e.image,u,u,e.image.width-2*u,e.image.height-2*u,c?t:Math.round(t),c?n:Math.round(n),c?i:Math.round(t+i)-Math.round(t),c?r:Math.round(n+r)-Math.round(n)),e.clipExtent&&m.restore()}}))}const y=tt(s);function x(e){return Math.round(e*n)/n}a.getTriangles().forEach((function(e,t,n){var i=e.source,r=(e=e.target,i[0][0]),s=i[0][1],a=i[1][0],u=i[1][1],h=i[2][0],d=(i=i[2][1],x((e[0][0]-y[0])/o)),f=x(-(e[0][1]-y[1])/o),_=x((e[1][0]-y[0])/o),b=x(-(e[1][1]-y[1])/o),w=x((e[2][0]-y[0])/o);if(a=function(e){const t=e.length;for(let i=0;i<t;i++){let r=i,o=Math.abs(e[i][i]);for(let n=i+1;n<t;n++){const t=Math.abs(e[n][i]);t>o&&(o=t,r=n)}if(0===o)return null;var n=e[r];e[r]=e[i],e[i]=n;for(let n=i+1;n<t;n++){const r=-e[n][i]/e[i][i];for(let o=i;o<t+1;o++)i==o?e[n][o]=0:e[n][o]+=r*e[i][o]}}const i=new Array(t);for(let n=t-1;0<=n;n--){i[n]=e[n][t]/e[n][n];for(let r=n-1;0<=r;r--)e[r][t]-=e[r][n]*i[n]}return i}([[a-=r,u-=s,0,0,_-d],[h-=r,i-=s,0,0,w-d],[0,0,a,u,b-f],[0,0,h,i,(e=x(-(e[2][1]-y[1])/o))-f]]),a){if(g.save(),g.beginPath(),void 0===ra&&((u=Ci(6,6,oa)).globalCompositeOperation="lighter",u.fillStyle="rgba(210, 0, 0, 0.75)",sa(u,4,5,4,0),sa(u,4,5,0,5),h=u.getImageData(0,0,3,3).data,ra=aa(h,0)||aa(h,4)||aa(h,8),Ri(u),oa.push(u.canvas)),ra||!c){g.moveTo(_,b);const e=d-_,t=f-b;for(let n=0;n<4;n++)g.lineTo(_+x((n+1)*e/4),b+x(n*t/3)),3!=n&&g.lineTo(_+x((n+1)*e/4),b+x((n+1)*t/3))}else g.moveTo(_,b),g.lineTo(d,f);let t;if(g.lineTo(w,e),g.clip(),g.transform(a[0],a[2],a[1],a[3],d,f),g.translate(p[0]-r,p[3]-s),m)t=m.canvas,g.scale(v,-v);else{const e=l[0],n=e.extent;t=e.image,g.scale(it(n)/t.width,-$e(n)/t.height)}g.drawImage(t,0,0),g.restore()}})),m&&(Ri(m),oa.push(m.canvas)),h&&(g.save(),g.globalCompositeOperation="source-over",g.strokeStyle="black",g.lineWidth=1,a.getTriangles().forEach((function(e,t,n){var i=((e=e.target)[0][0]-y[0])/o,r=-(e[0][1]-y[1])/o,s=(e[1][0]-y[0])/o,a=-(e[1][1]-y[1])/o,l=(e[2][0]-y[0])/o;e=-(e[2][1]-y[1])/o,g.beginPath(),g.moveTo(s,a),g.lineTo(i,r),g.lineTo(l,e),g.closePath(),g.stroke()})),g.restore())}return g.canvas}const ha=class{constructor(e,t,n,i,r,o,s){this.sourceProj_=e,this.targetProj_=t;let a={};const l=s?(u=e=>Rn(s,wn(e,this.targetProj_,this.sourceProj_)),function(e,t,n,i){var r;const o=e.length;n=void 0!==n?n:2,i=null!=(r=i)?r:n,t=void 0!==t?t:new Array(o);for(let r=0;r<o;r+=i){const o=u(e.slice(r,r+n)),s=o.length;for(let n=0,a=i;n<a;++n)t[r+n]=n>=s?e[r+n]:o[n]}return t}):bn(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return a[t]||(a[t]=l(e)),a[t]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&it(i)>=it(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?it(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?it(this.targetProj_.getExtent()):null,e=tt(n),t=nt(n),r=He(n),i=Ke(n);var u,h=this.transformInv_(e),c=this.transformInv_(t),d=this.transformInv_(r),f=this.transformInv_(i);if(n=10+(o?Math.max(0,Math.ceil(Math.log2(Ze(n)/(o*o*256*256)))):0),this.addQuad_(e,t,r,i,h,c,d,f,n),this.wrapsXInSource_){let e=1/0;this.triangles_.forEach((function(t,n,i){e=Math.min(e,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach((t=>{var n,i;Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-e>this.sourceWorldWidth_/2&&((n=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]])[0][0]-e>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-e>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-e>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_),i=Math.min(n[0][0],n[1][0],n[2][0]),Math.max(n[0][0],n[1][0],n[2][0])-i<this.sourceWorldWidth_/2)&&(t.source=n)}))}a={}}addTriangle_(e,t,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[e,t,n]})}addQuad_(e,t,n,i,r,o,s,a,l){const u=Pe([r,o,s,a]),h=this.sourceWorldWidth_?it(u)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&.5<h&&h<1;let f=!1;if(!(!(f=0<l&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(f=.25<it(Pe([e,t,n,i]))/this.targetWorldWidth_||f),!d)&&this.sourceProj_.isGlobal()&&h&&.25<h||f)&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3]))||rt(u,this.maxSourceExtent_)){let u=0;if(!(f||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])))if(0<l)f=!0;else if(1!=(u=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(s[0])&&isFinite(s[1])?0:2)+(isFinite(a[0])&&isFinite(a[1])?0:1))&&2!=u&&4!=u&&8!=u)return;if(0<l){if(!f){const t=[(e[0]+n[0])/2,(e[1]+n[1])/2],i=this.transformInv_(t);let o;o=d?(we(r[0],c)+we(s[0],c))/2-we(i[0],c):(r[0]+s[0])/2-i[0];const a=(r[1]+s[1])/2-i[1];f=o*o+a*a>this.errorThresholdSquared_}if(f){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){const u=[(t[0]+n[0])/2,(t[1]+n[1])/2],h=this.transformInv_(u),c=[(i[0]+e[0])/2,(i[1]+e[1])/2],d=this.transformInv_(c);this.addQuad_(e,t,u,c,r,o,h,d,l-1),this.addQuad_(c,u,n,i,d,h,s,a,l-1)}else{const u=[(e[0]+t[0])/2,(e[1]+t[1])/2],h=this.transformInv_(u),c=[(n[0]+i[0])/2,(n[1]+i[1])/2],d=this.transformInv_(c);this.addQuad_(e,u,c,i,r,h,d,a,l-1),this.addQuad_(u,t,n,c,h,o,s,d,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}!(11&u)&&this.addTriangle_(e,n,i,r,s,a),!(14&u)&&this.addTriangle_(e,n,t,r,s,o),u&&(!(13&u)&&this.addTriangle_(t,i,e,o,a,r),!(7&u))&&this.addTriangle_(t,i,n,o,a,s)}}calculateSourceExtent(){const e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(t,n,i){t=t.source,Ve(e,t[0]),Ve(e,t[1]),Ve(e,t[2])})),e}getTriangles(){return this.triangles_}},ca=class extends g{constructor(e,t,n,i,r,o,s,a,l,u,h,c){super(r,0,c),this.renderEdges_=void 0!==h&&h,this.pixelRatio_=s,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=i,this.wrappedTileCoord_=o||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0,c=i.getTileCoordExtent(this.wrappedTileCoord_),h=this.targetTileGrid_.getExtent();let d=this.sourceTileGrid_.getExtent();if(0===Ze(a=h?et(c,h):c))this.state=4;else if((o=e.getExtent())&&(d=d?et(d,o):o),h=function(e,t,n,i){var r=qe(n);let o=la(e,t,r,i);return(!isFinite(o)||o<=0)&&Xe(n,(function(n){return o=la(e,t,n,i),isFinite(o)&&0<o})),o}(e,n,a,r=i.getResolution(this.wrappedTileCoord_[0])),!isFinite(h)||h<=0)this.state=4;else if(c=void 0!==u?u:.5,this.triangulation_=new ha(e,n,a,d,h*c,r),0===this.triangulation_.getTriangles().length)this.state=4;else{this.sourceZ_=t.getZForResolution(h);let n=this.triangulation_.calculateSourceExtent();if(d&&(e.canWrapX()?(n[1]=ve(n[1],d[1],d[3]),n[3]=ve(n[3],d[1],d[3])):n=et(n,d)),Ze(n)){let i=0,r=0;e.canWrapX()&&(i=it(o),r=Math.floor((n[0]-o[0])/i)),at(n.slice(),e,!0).forEach((e=>{const n=t.getTileRangeForExtentAndZ(e,this.sourceZ_);for(let e=n.minX;e<=n.maxX;e++)for(let t=n.minY;t<=n.maxY;t++){const n=l(this.sourceZ_,e,t,s);if(n){const e=r*i;this.sourceTiles_.push({tile:n,offset:e})}}++r})),0===this.sourceTiles_.length&&(this.state=4)}else this.state=4}}getImage(){return this.canvas_}reproject_(){const e=[];var t,n,i,r,o;this.sourceTiles_.forEach((t=>{var n,i,r=t.tile;r&&2==r.getState()&&((n=this.sourceTileGrid_.getTileCoordExtent(r.tileCoord))[0]+=t.offset,n[2]+=t.offset,(i=null==(i=this.clipExtent_)?void 0:i.slice())&&(i[0]+=t.offset,i[2]+=t.offset),e.push({extent:n,clipExtent:i,image:r.getImage()}))})),(this.sourceTiles_.length=0)===e.length?this.state=3:(i=this.wrappedTileCoord_[0],t="number"==typeof(n=this.targetTileGrid_.getTileSize(i))?n:n[0],n="number"==typeof n?n:n[1],i=this.targetTileGrid_.getResolution(i),r=this.sourceTileGrid_.getResolution(this.sourceZ_),o=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),this.canvas_=ua(t,n,this.pixelRatio_,r,this.sourceTileGrid_.getExtent(),i,o,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=2),this.changed()}load(){if(0==this.state){this.state=1,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((t=>{let n=t.tile;if(0==(t=n.getState())||1==t){e++;const t=G(n,y,(i=>{var r=n.getState();2!=r&&3!=r&&4!=r||(j(t),0==--e&&(this.unlistenSources_(),this.reproject_()))}));this.sourcesListenerKeys_.push(t)}})),0===e?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(e,t,n){0==(e=e.tile).getState()&&e.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(j),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Ri(this.canvas_.getContext("2d")),oa.push(this.canvas_),this.canvas_=null),super.release()}},da=class{constructor(e){this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){var e=this.pop();e instanceof k&&e.dispose()}canExpireCache(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){return pe(void 0!==(e=this.entries_[e]),"Tried to get a value for a key that does not exist in the cache"),e!==this.newest_&&(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_}remove(e){var t=this.entries_[e];return pe(void 0!==t,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){var e=new Array(this.count_);let t,n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e}getValues(){var e=new Array(this.count_);let t,n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){return null==(e=this.entries_[e])?void 0:e.value_}pop(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){pe(!(e in this.entries_),"Tried to set a value for a key that is used already"),t={key_:e,newer:null,older:this.newest_,value_:t},this.newest_?this.newest_.newer=t:this.oldest_=t,this.newest_=t,this.entries_[e]=t,++this.count_}setSize(e){this.highWaterMark=e}};function fa(e,t,n,i){return void 0!==i?(i[0]=e,i[1]=t,i[2]=n,i):[e,t,n]}function ga(e){return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}const pa=class{constructor(){var e,t,n=this,i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.push_(t),n};t=function(e){if("object"!=ga(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);if("object"!=ga(t=t.call(e,"string")))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(t="pushMethodArgs_"),(e="symbol"==ga(t)?t:t+"")in this?Object.defineProperty(this,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[e]=i,this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(ki(),{get:(e,t)=>{if("function"==typeof ki()[t])return this.push_(t),this.pushMethodArgs_},set:(e,t,n)=>(this.push_(t,n),!0)})}push_(){var e=this.instructions_,t=this.zIndex+this.offset_;e[t]||(e[t]=[]),e[t].push(...arguments)}pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach((t=>{for(let r=0,o=t.length;r<o;++r){var n,i=t[r];"function"==typeof i?i(e):(n=t[++r],"function"==typeof e[i]?e[i](...n):e[i]="function"==typeof n?n(e):n)}}))}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}},ma=class extends d{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=5}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return U()}getData(e){return null}prepareFrame(e){return U()}renderFrame(e,t){return U()}forEachFeatureAtCoordinate(e,t,n,i,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){(e=e.target).getState()!==Do.LOADED&&e.getState()!==Do.ERROR||this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Do.LOADED&&t!=Do.ERROR&&e.addEventListener(y,this.boundHandleImageChange_),t==Do.IDLE&&(e.load(),t=e.getState()),t==Do.LOADED}renderIfReadyAndVisible(){var e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}},_a=[];let va=null;function ya(e,t,n,i){return"".concat(e,",").concat(t+"/"+n+"/"+i)}function xa(e,t,n){var i,r;return n in e?((r=(i=e[n]).has(t))||i.add(t),!r):(e[n]=new Set([t]),1)}function ba(e,t){const n=e.layerStatesArray[e.layerIndex];n.extent&&(t=et(t,kn(n.extent,e.viewState.projection)));var i=n.layer.getRenderSource();if(!i.getWrapX()){const n=i.getTileGridForProjection(e.viewState.projection).getExtent();n&&(t=et(t,n))}return t}const wa=class extends(f=class extends ma{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=[1,0,0,1,0,0],this.pixelTransform=[1,0,0,1,0,0],this.inversePixelTransform=[1,0,0,1,0,0],this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,n){let i;(va=va||Ci(1,1,void 0,{willReadFrequently:!0})).clearRect(0,0,1,1);try{va.drawImage(e,t,n,1,1,0,0,1,1),i=va.getImageData(0,0,1,1).data}catch{return va=null}return i}getBackground(e){let t=this.getLayer().getBackground();return(t="function"==typeof t?t(e.viewState.resolution):t)||void 0}useContainer(e,t,n){var i=this.getLayer().getClassName();let r,o;if(e&&e.className===i&&(!n||e&&e.style.backgroundColor&&P(no(e.style.backgroundColor),no(n)))){const t=e.firstElementChild;t instanceof HTMLCanvasElement&&(o=t.getContext("2d"))}if(o&&function(e,t){var n=Pn(e),i=Pn(t);for(let e=0;e<6;++e)if(0!==Math.round((n[e]-i[e])*Mn[e]))return;return 1}(o.canvas.style.transform,t)?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){(r=document.createElement("div")).className=i;let e=r.style;e.position="absolute",e.width="100%",e.height="100%";const t=(o=Ci()).canvas;r.appendChild(t),(e=t.style).position="absolute",e.left="0",e.transformOrigin="top left",this.container=r,this.context=o}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(e,t,n){var i=tt(n),r=nt(n),o=He(n);n=Ke(n),Rn(t.coordinateToPixelTransform,i),Rn(t.coordinateToPixelTransform,r),Rn(t.coordinateToPixelTransform,o),Rn(t.coordinateToPixelTransform,n),Rn(t=this.inversePixelTransform,i),Rn(t,r),Rn(t,o),Rn(t,n),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(n[0]),Math.round(n[1])),e.clip()}prepareContainer(e,t){var n=e.extent,i=e.viewState.resolution,r=e.viewState.rotation,o=e.pixelRatio,s=Math.round(it(n)/i*o);if(n=Math.round($e(n)/i*o),Tn(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,r,-s/2,-n/2),In(this.inversePixelTransform,this.pixelTransform),i="matrix("+this.pixelTransform.join(", ")+")",this.useContainer(t,i,this.getBackground(e)),!this.containerReused){const e=this.context.canvas;e.width!=s||e.height!=n?(e.width=s,e.height=n):this.context.clearRect(0,0,s,n),i!==e.style.transform&&(e.style.transform=i)}}dispatchRenderEvent_(e,t,n){var i=this.getLayer();i.hasListener(e)&&(e=new Ys(e,this.inversePixelTransform,n,t),i.dispatchEvent(e))}preRender(e,t){(this.frameState=t).declutter||this.dispatchRenderEvent_(vr,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(yr,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new pa),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(vr,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(yr,this.context,e))}getRenderTransform(e,t,n,i,r,o,s){return i/=t,t=-e[0]+s,s=-e[1],Tn(this.tempTransform,r/2,o/2,i,-i,-n,t,s)}disposeInternal(){delete this.frameState,super.disposeInternal()}}){constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=[1/0,1/0,-1/0,-1/0],this.tempTileRange_=new ia(0,0,0,0),this.tempTileCoord_=fa(0,0,0),e=void 0!==t.cacheSize?t.cacheSize:512,this.tileCache_=new da(e),this.maxStaleKeys=.5*e}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,n,i){var r=this.tileCache_,o=this.getLayer().getSource(),s=ya(o.getKey(),e,t,n);let a;if(r.containsKey(s))a=r.get(s);else{if(!(a=o.getTile(e,t,n,i.pixelRatio,i.viewState.projection)))return null;r.set(s,a)}return a}getTile(e,t,n,i){return this.getOrCreateTile(e,t,n,i)||null}getData(e){var t=this.frameState;if(t){const u=this.getLayer(),h=Rn(t.pixelToCoordinateTransform,e.slice()),c=u.getExtent();if(!c||De(c,h)){var n=t.viewState,i=u.getRenderSource(),r=i.getTileGridForProjection(n.projection),o=i.getTilePixelRatio(t.pixelRatio);for(let e=r.getZForResolution(n.resolution);e>=r.getMinZoom();--e){const u=r.getTileCoordForCoordAndZ(h,e),c=this.getTile(e,u[1],u[2],t);if(c&&2===c.getState()){const t=r.getOrigin(e),d=oo(r.getTileSize(e)),f=r.getResolution(e);let g;if(c instanceof ea||c instanceof ca)g=c.getImage();else{if(!(c instanceof $s))continue;if(!(g=qs(c.getData())))continue}var s=Math.floor(o*((h[0]-t[0])/f-u[1]*d[0])),a=Math.floor(o*((t[1]-h[1])/f-u[2]*d[1])),l=Math.round(o*i.getGutterForProjection(n.projection));return this.getImageData(g,s+l,a+l)}}}}return null}prepareFrame(e){var t;return this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection,!!(e=this.getLayer().getSource())&&(t=e.getRevision(),this.renderedRevision_?this.renderedRevision_!==t&&(this.renderedRevision_=t,this.renderedSourceKey_===e.getKey())&&this.tileCache_.clear():this.renderedRevision_=t,!0)}enqueueTiles(e,t,n,i,r){const o=e.viewState,s=this.getLayer(),a=s.getRenderSource(),l=a.getTileGridForProjection(o.projection),u=Y(a);u in e.wantedTiles||(e.wantedTiles[u]={});var h=e.wantedTiles[u],c=s.getMapInternal(),d=Math.max(n-r,l.getMinZoom(),l.getZForResolution(Math.min(s.getMaxResolution(),c?c.getView().getResolutionForZoom(Math.max(s.getMinZoom(),0)):l.getResolution(0)),a.zDirection)),f=o.rotation,g=f?Je(o.center,o.resolution,f,e.size):void 0;for(let r=n;r>=d;--r){const n=l.getTileRangeForExtentAndZ(t,r,this.tempTileRange_),o=l.getResolution(r);for(let t=n.minX;t<=n.maxX;++t)for(let s=n.minY;s<=n.maxY;++s)if(!f||l.tileCoordIntersectsViewport([r,t,s],g)){const n=this.getTile(r,t,s,e);if(n&&xa(i,n,r)){const i=n.getKey();if(h[i]=!0,0===n.getState()&&!e.tileQueue.isKeyQueued(i)){const i=fa(r,t,s,this.tempTileCoord_);e.tileQueue.enqueue([n,u,l.getTileCoordCenter(i),o])}}}}}findStaleTile_(e,t){const n=this.tileCache_,i=e[0],r=e[1],o=e[2],s=this.getStaleKeys();for(let e=0;e<s.length;++e){const a=ya(s[e],i,r,o);if(n.containsKey(a)){const e=n.peek(a);if(2===e.getState())return e.endTransition(Y(this)),xa(t,e,i),!0}}return!1}findAltTiles_(e,t,n,i){var r=e.getTileRangeForTileCoordAndZ(t,n,this.tempTileRange_);if(!r)return!1;let o=!0;var s=this.tileCache_,a=this.getLayer().getRenderSource().getKey();for(let e=r.minX;e<=r.maxX;++e)for(let t=r.minY;t<=r.maxY;++t){const r=ya(a,n,e,t);let l=!1;if(s.containsKey(r)){const e=s.peek(r);2===e.getState()&&(xa(i,e,n),l=!0)}l||(o=!1)}return o}renderFrame(e,t){this.renderComplete=!0;const n=e.layerStatesArray[e.layerIndex],i=e.viewState,r=i.projection,o=i.resolution,s=i.center,a=e.pixelRatio,l=this.getLayer(),u=l.getSource(),h=u.getTileGridForProjection(r),c=h.getZForResolution(o,u.zDirection),d=h.getResolution(c),f=u.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==f&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=f):this.renderedSourceKey_=f;let g=e.extent;const p=u.getTilePixelRatio(a),m=(this.prepareContainer(e,t),this.context.canvas.width),_=this.context.canvas.height,v=n.extent&&n.extent,y=(v&&(g=et(g,n.extent)),d*m/2/p),x=d*_/2/p,b=[s[0]-y,s[1]-x,s[0]+y,s[1]+x],w={},S=(this.renderedTiles.length=0,l.getPreload());if(e.nextExtent){const t=h.getZForResolution(i.nextResolution,u.zDirection),n=ba(e,e.nextExtent);this.enqueueTiles(e,n,t,w,S)}const C=ba(e,g);if(this.enqueueTiles(e,C,c,w,0),0<S&&setTimeout((()=>{this.enqueueTiles(e,C,c-1,w,S-1)}),0),c in w){var E,k,T=Y(this),I=e.time;for(const t of w[c]){const n=t.getState();if(4!==n){const i=t.tileCoord;if(2===n&&1===t.getAlpha(T,I))t.endTransition(T);else if(3!==n&&(this.renderComplete=!1),this.findStaleTile_(i,w))k=t,(E=(E=w)[c])&&E.delete(k),e.animate=!0;else if(!this.findAltTiles_(h,i,c+1,w)){const e=h.getMinZoom();for(let t=c-1;t>=e&&!this.findAltTiles_(h,i,t,w);--t);}}}var M,P=d/o*a/p,L=this.getRenderContext(e),A=(Tn(this.tempTransform,m/2,_/2,P,P,0,-m/2,-_/2),n.extent&&this.clipUnrotated(L,e,v),u.getInterpolate()||(L.imageSmoothingEnabled=!1),this.preRender(L,e),Object.keys(w).map(Number)),F=(A.sort(R),[]),D=[];for(let t=A.length-1;0<=t;--t){const n=A[t],i=u.getTilePixelSize(n,a,r),o=h.getResolution(n)/d,s=i[0]*o*P,l=i[1]*o*P,c=h.getTileCoordForCoordAndZ(tt(b),n),f=h.getTileCoordExtent(c),g=Rn(this.tempTransform,[p*(f[0]-b[0])/d,p*(b[3]-f[3])/d]),m=p*u.getGutterForProjection(r);for(const t of w[n])if(2===t.getState()){const i=t.tileCoord,r=c[1]-i[1],o=Math.round(g[0]-(r-1)*s),a=c[2]-i[2],h=Math.round(g[1]-(a-1)*l),d=Math.round(g[0]-r*s),f=Math.round(g[1]-a*l),p=o-d,_=h-f,v=1===A.length;let y=!1;M=[d,f,d+p,f,d+p,f+_,d,f+_];for(let e=0,t=F.length;e<t;++e)if(!v&&n<D[e]){const t=F[e];rt([d,f,d+p,f+_],[t[0],t[3],t[4],t[7]])&&(y||(L.save(),y=!0),L.beginPath(),L.moveTo(M[0],M[1]),L.lineTo(M[2],M[3]),L.lineTo(M[4],M[5]),L.lineTo(M[6],M[7]),L.moveTo(t[6],t[7]),L.lineTo(t[4],t[5]),L.lineTo(t[2],t[3]),L.lineTo(t[0],t[1]),L.clip())}F.push(M),D.push(n),this.drawTile(t,e,d,f,p,_,m,v),y&&L.restore(),this.renderedTiles.unshift(t),this.updateUsedTiles(e.usedTiles,u,t)}}if(this.renderedResolution=d,this.extentChanged=!this.renderedExtent_||!Ue(this.renderedExtent_,b),this.renderedExtent_=b,this.renderedPixelRatio=a,this.postRender(this.context,e),n.extent&&L.restore(),L.imageSmoothingEnabled=!0,this.renderComplete){const t=(e,t)=>{var n=Y(u);n=(t=t.wantedTiles[n])?Object.keys(t).length:0,this.updateCacheSize(n),this.tileCache_.expireCache()};e.postRenderFunctions.push(t)}}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,2*e)}drawTile(e,t,n,i,r,o,s,a){let l;if(e instanceof $s){if(!(l=qs(e.getData())))throw new Error("Rendering array data is not yet supported")}else l=this.getTileImage(e);var u,h,c,d,f;l&&(u=this.getRenderContext(t),h=Y(this),(f=(d=(c=t.layerStatesArray[t.layerIndex]).opacity*(a?e.getAlpha(h,t.time):1))!==u.globalAlpha)&&(u.save(),u.globalAlpha=d),u.drawImage(l,s,s,l.width-2*s,l.height-2*s,n,i,r,o),f&&u.restore(),d!==c.opacity?t.animate=!0:a&&e.endTransition(h))}getImage(){var e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,n){(t=Y(t))in e||(e[t]={}),e[t][n.getKey()]=!0}},Sa="preload",Ca="useInterimTilesOnError",Ea=class extends class extends Sr{constructor(e){e=e||{};var t=Object.assign({},e),n=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=n,this.setPreload(void 0!==e.preload?e.preload:0),this.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Sa)}setPreload(e){this.set(Sa,e)}getUseInterimTilesOnError(){return this.get(Ca)}setUseInterimTilesOnError(e){this.set(Ca,e)}getData(e){return super.getData(e)}}{constructor(e){super(e)}createRenderer(){return new wa(this,{cacheSize:this.getCacheSize()})}},ka=[0,0,0],Ra=class{constructor(e){let t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,pe(function(e){return e.every((function(t,n){return 0===n||!(0<(n=((e,t)=>t-e)(e[n-1],t))||0===n)}))}(this.resolutions_),"`resolutions` must be sorted in descending order"),!e.origins)for(let e=0,n=this.resolutions_.length-1;e<n;++e)if(t){if(this.resolutions_[e]/this.resolutions_[e+1]!==t){t=void 0;break}}else t=this.resolutions_[e]/this.resolutions_[e+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,pe(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const n=e.extent;void 0===n||this.origin_||this.origins_||(this.origin_=tt(n)),pe(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,pe(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:fi,pe(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map(((e,t)=>{var i=new ia(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(n){const e=this.getTileRangeForExtentAndZ(n,t);i.minX=Math.max(e.minX,i.minX),i.maxX=Math.min(e.maxX,i.maxX),i.minY=Math.max(e.minY,i.minY),i.maxY=Math.min(e.maxY,i.maxY)}return i})):n&&this.calculateTileRanges_(n)}forEachTileCoord(e,t,n){var i=this.getTileRangeForExtentAndZ(e,t);for(let e=i.minX,r=i.maxX;e<=r;++e)for(let r=i.minY,o=i.maxY;r<=o;++r)n([t,e,r])}forEachTileCoordParentTileRange(e,t,n,i){let r,o,s,a=null,l=e[0]-1;for(2===this.zoomFactor_?(o=e[1],s=e[2]):a=this.getTileCoordExtent(e,i);l>=this.minZoom;){if(r=void 0!==o&&void 0!==s?(o=Math.floor(o/2),s=Math.floor(s/2),na(o,o,s,s,n)):this.getTileRangeForExtentAndZ(a,l,n),t(l,r))return!0;--l}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_||this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,n){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*e[1],i=2*e[2];return na(n,1+n,i,1+i,t)}return n=this.getTileCoordExtent(e,n||this.tmpExtent_),this.getTileRangeForExtentAndZ(n,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;var i=e[0],r=e[1],o=e[2];if(t===i)return na(r,o,r,o,n);if(this.zoomFactor_){const e=Math.pow(this.zoomFactor_,t-i),s=Math.floor(r*e),a=Math.floor(o*e);return t<i?na(s,s,a,a,n):na(s,Math.floor(e*(r+1))-1,a,Math.floor(e*(o+1))-1,n)}const s=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,t,n)}getTileRangeForExtentAndZ(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,ka);var i=ka[1],r=ka[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,ka),na(i,ka[1],r,ka[2],n)}getTileCoordCenter(e){var t=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=oo(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*n,t[1]-(e[2]+.5)*i[1]*n]}getTileCoordExtent(e,t){var n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=oo(this.getTileSize(e[0]),this.tmpSize_),o=n[0]+e[1]*r[0]*i;return Ge(o,n=n[1]-(e[2]+1)*r[1]*i,o+r[0]*i,n+r[1]*i,t)}getTileCoordForCoordAndResolution(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}getTileCoordForXYAndResolution_(e,t,n,i,r){var o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),l=oo(this.getTileSize(o),this.tmpSize_);let u=s*(e-a[0])/n/l[0],h=s*(a[1]-t)/n/l[1];return h=i?(u=ke(u,5)-1,ke(h,5)-1):(u=Ee(u,5),Ee(h,5)),fa(o,u,h,r)}getTileCoordForXYAndZ_(e,t,n,i,r){var o=this.getOrigin(n),s=this.getResolution(n),a=oo(this.getTileSize(n),this.tmpSize_);let l=(e-o[0])/s/a[0],u=(o[1]-t)/s/a[1];return u=i?(l=ke(l,5)-1,ke(u,5)-1):(l=Ee(l,5),Ee(u,5)),fa(n,l,u,r)}getTileCoordForCoordAndZ(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_||this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){return ve(I(this.resolutions_,e,t||0),this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return ei(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){var t=this.resolutions_.length,n=new Array(t);for(let i=this.minZoom;i<t;++i)n[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=n}};function Ta(e){let t=e.getDefaultTileGrid();return t||(n=Ia(i=Ma(e),void 0,void 0),t=new Ra({extent:i,origin:function(e,t){let n;return n=tt(e),n}(i),resolutions:n,tileSize:void 0}),e.setDefaultTileGrid(t)),t;var n,i}function Ia(e,t,n,i){t=void 0!==t?t:di,n=oo(void 0!==n?n:fi);var r=$e(e),o=(e=it(e),i=0<i?i:Math.max(e/n[0],r/n[1]),t+1),s=new Array(o);for(let e=0;e<o;++e)s[e]=i/Math.pow(2,e);return s}function Ma(e){let t=(e=fn(e)).getExtent();return t||(t=Ge(-(e=180*vt.degrees/e.getMetersPerUnit()),-e,e,e)),t}const Pa=/\{z\}/g,La=/\{x\}/g,Aa=/\{y\}/g,Fa=/\{-y\}/g;function Da(e,t){return function(n,i,r){if(n){let i;var o,s,a,l=n[0];if(t){const e=t.getFullTileRange(l);e&&(i=e.getHeight()-1)}return o=n[1],s=n[2],a=i,e.replace(Pa,l.toString()).replace(La,o.toString()).replace(Aa,s.toString()).replace(Fa,(function(){if(void 0===a)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(a-s).toString()}))}}}function Oa(e,t){var n,i=e.length,r=new Array(i);for(let n=0;n<i;++n)r[n]=Da(e[n],t);return 1===(n=r).length?n[0]:function(e,t,i){var r;if(e)return r=e[0],r=we((e[1]<<r)+e[2],n.length),n[r](e,t,i)}}function za(e){return e?"function"==typeof e?e:(Array.isArray(e)||(e=[e]),t=>e):null}c=class extends Z{constructor(e){var t;super(),this.projection=fn(e.projection),this.attributions_=za(e.attributions),this.attributionsCollapsible_=null==(t=e.attributionsCollapsible)||t,this.loading=!1,this.state_=void 0!==e.state?e.state:"ready",this.wrapX_=void 0!==e.wrapX&&e.wrapX,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise((function(e,t){n.viewResolver=e,n.viewRejector=t}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=za(e),this.changed()}setState(e){this.state_=e,this.changed()}};class Na extends N{constructor(e,t){super(e),this.tile=t}}const Ga=class extends c{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileGrid&&oo(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),[256,256]),this.tmpSize=[0,0],this.key_=e.key||Y(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection||0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){return(e=e?this.getTileGridForProjection(e):this.tileGrid)?e.getResolutions():null}getTile(e,t,n,i,r){return U()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid||Ta(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,n){return n=this.getTileGridForProjection(n),t=this.getTilePixelRatio(t),n=oo(n.getTileSize(e),this.tmpSize),1==t?n:((e=void 0===(e=this.tmpSize)?[0,0]:e)[0]=n[0]*t+.5|0,e[1]=n[1]*t+.5|0,e)}getTileCoordForTileUrlFunction(e,t){var n=void 0!==t?t:this.getProjection();return t=void 0===t&&this.tileGrid||this.getTileGridForProjection(n),function(e,t){var n=e[0],i=e[1];if(e=e[2],!(t.getMinZoom()>n||n>t.getMaxZoom()))return!(t=t.getFullTileRange(n))||t.containsXY(i,e)}(e=this.getWrapX()&&n.isGlobal()?function(e,t,n){var i=t[0],r=e.getTileCoordCenter(t),o=Ma(n);if(De(o,r))return t;{const t=it(o),n=Math.ceil((o[0]-r[0])/t);return r[0]+=t*n,e.getTileCoordForCoordAndZ(r,i)}}(t,e,n):e,t)?e:null}clear(){}refresh(){this.clear(),super.refresh()}};function Wa(e,t){e.getImage().src=t}const ja=class extends class extends class extends class e extends Ga{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===e.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){var t=Y(e=e.target),n=e.getState();let i;1==n?(this.tileLoadingKeys_[t]=!0,i="tileloadstart"):t in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[t],i=3==n?"tileloaderror":2==n?"tileloadend":void 0),null!=i&&this.dispatchEvent(new Na(i,e))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,void 0!==t?this.setKey(t):this.changed()}setUrl(e){e=function(e){var t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let o;for(o=i;o<=r;++o)t.push(e.replace(n[0],String.fromCharCode(o)))}else if(n=/\{(\d+)-(\d+)\}/.exec(e)){var o=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=o;i++)t.push(e.replace(n[0],i.toString()))}else t.push(e);return t}(e),this.urls=e,this.setUrls(e)}setUrls(e){var t=(this.urls=e).join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Oa(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,n){}}{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction||Wa,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:ea,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!vn(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){var t=this.getProjection();return!this.tileGrid||t&&!vn(t,e)?((t=Y(e))in this.tileGridForProjection||(this.tileGridForProjection[t]=Ta(e)),this.tileGridForProjection[t]):this.tileGrid}createTile_(e,t,n,i,r,o){return e=[e,t,n],n=(t=this.getTileCoordForTileUrlFunction(e,r))?this.tileUrlFunction(t,i,r):void 0,(t=new this.tileClass(e,void 0!==n?0:4,void 0!==n?n:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions)).key=o,t.addEventListener(y,this.handleTileChange.bind(this)),t}getTile(e,t,n,i,r){const o=this.getProjection();var s,a,l,u,h;return o&&r&&!vn(o,r)?(s=[e,t,n],a=this.getKey(),h=this.getTileGridForProjection(o),l=this.getTileGridForProjection(r),u=this.getTileCoordForTileUrlFunction(s,r),(h=new ca(o,h,r,l,s,u,this.getTilePixelRatio(i),this.getGutter(),((e,t,n,i)=>this.getTileInternal(e,t,n,i,o)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions)).key=a,h):this.getTileInternal(e,t,n,i,o||r)}getTileInternal(e,t,n,i,r){var o=this.getKey();return this.createTile_(e,t,n,i,r,o)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){var n=fn(e);if(n){const e=Y(n);e in this.tileGridForProjection||(this.tileGridForProjection[e]=t)}}}{constructor(e){const t=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",n=void 0!==e.tileGrid?e.tileGrid:(r={extent:r=(i={extent:Ma(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize}).extent||fn("EPSG:3857").getExtent(),minZoom:i.minZoom,tileSize:i.tileSize,resolutions:Ia(r,i.maxZoom,i.tileSize,i.maxResolution)},new Ra(r));var i,r;super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0}getGutter(){return this.gutter_}}{constructor(e){var t=void 0!==(e=e||{}).attributions?e.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'],n=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",i=void 0!==e.url?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:n,interpolate:e.interpolate,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:i,wrapX:e.wrapX,zDirection:e.zDirection})}},Ba="element",Ua="offset",Va="position",Ya="positioning",Xa=class extends Z{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=!0===e.autoPan?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Ba,this.handleElementChanged),this.addChangeListener("map",this.handleMapChanged),this.addChangeListener(Ua,this.handleOffsetChanged),this.addChangeListener(Va,this.handlePositionChanged),this.addChangeListener(Ya,this.handlePositioningChanged),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),void 0!==e.position&&this.setPosition(e.position)}getElement(){return this.get(Ba)}getId(){return this.id}getMap(){return this.get("map")||null}getOffset(){return this.get(Ua)}getPosition(){return this.get(Va)}getPositioning(){return this.get(Ya)}handleElementChanged(){Ii(this.element);var e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(null!=(e=this.element)&&e.remove(),j(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e,t=this.getMap();if(t){this.mapPostrenderListenerKey=G(t,le,this.render,this),this.updatePixelPosition();const e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Ba,e)}setMap(e){this.set("map",e)}setOffset(e){this.set(Ua,e)}setPosition(e){this.set(Va,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){var t,n,i=this.getMap();if(i&&i.getTargetElement()&&this.get(Va)){const r=this.getRect(i.getTargetElement(),i.getSize()),o=this.getElement(),s=this.getRect(o,[(t=o,n=t.offsetWidth,t=getComputedStyle(t),n+=parseInt(t.marginLeft,10)+parseInt(t.marginRight,10)),(t=o,n=t.offsetHeight,t=getComputedStyle(t),n+=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10))]),a=void 0===(e=e||{}).margin?20:e.margin;if(!Oe(r,s)){const t=s[0]-r[0],n=r[2]-s[2],o=s[1]-r[1],l=r[3]-s[3],u=[0,0];if(t<0?u[0]=t-a:n<0&&(u[0]=Math.abs(n)+a),o<0?u[1]=o-a:l<0&&(u[1]=Math.abs(l)+a),0!==u[0]||0!==u[1]){const t=i.getView().getCenterInternal(),n=i.getPixelFromCoordinateInternal(t);if(n){const t=[n[0]+u[0],n[1]+u[1]],r=e.animation||{};i.getView().animateInternal({center:i.getCoordinateFromPixelInternal(t),duration:r.duration,easing:r.easing})}}}}}getRect(e,t){var n=(e=e.getBoundingClientRect()).left+window.pageXOffset;return[n,e=e.top+window.pageYOffset,n+t[0],e+t[1]]}setPositioning(e){this.set(Ya,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){var e=this.getMap(),t=this.getPosition();e&&e.isRendered()&&t?(t=e.getPixelFromCoordinate(t),e=e.getSize(),this.updateRenderedPosition(t,e)):this.setVisible(!1)}updateRenderedPosition(e,t){var n=this.element.style,i=this.getOffset(),r=this.getPositioning(),o=(this.setVisible(!0),Math.round(e[0]+i[0])+"px");e=Math.round(e[1]+i[1])+"px";let s="0%",a="0%";"bottom-right"==r||"center-right"==r||"top-right"==r?s="-100%":"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(s="-50%"),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?a="-100%":"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(a="-50%"),i="translate(".concat(s,", ").concat(a,") translate(").concat(o,", ").concat(e,")"),this.rendered.transform_!=i&&(this.rendered.transform_=i,n.transform=i)}getOptions(){return this.options}},Za=class e extends Z{constructor(e){super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?this.setGeometry(e):this.setProperties(e))}clone(){var t=new e(this.hasProperties()?this.getProperties():null),n=(t.setGeometryName(this.getGeometryName()),this.getGeometry());return n&&t.setGeometry(n.clone()),(n=this.getStyle())&&t.setStyle(n),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(j(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=G(e,y,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?function(e){if("function"==typeof e)return e;let t;return t=Array.isArray(e)?e:(pe("function"==typeof e.getZIndex,"Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),[e]),function(){return t}}(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}},Ka=class{drawCustom(e,t,n,i,r){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,n){}drawFeature(e,t,n){}drawGeometryCollection(e,t,n){}drawLineString(e,t,n){}drawMultiLineString(e,t,n){}drawMultiPoint(e,t,n){}drawMultiPolygon(e,t,n){}drawPoint(e,t,n){}drawPolygon(e,t,n){}drawText(e,t,n){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}},Ha={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},qa=[Ha.FILL],Qa=[Ha.STROKE],Ja=[Ha.BEGIN_PATH],$a=[Ha.CLOSE_PATH],el=Ha;function tl(e,t,n,i,r){var o=[];let s=n,a=0,l=t.slice(n,2);for(;a<e&&s+r<i;){const[n,i]=l.slice(-2),u=t[s+r],h=t[s+r+1],c=Math.sqrt((u-n)*(u-n)+(h-i)*(h-i));if((a+=c)>=e){const t=(e-a+c)/c,d=Se(n,u,t),f=Se(i,h,t);l.push(d,f),o.push(l),l=[d,f],a==e&&(s+=r),a=0}else{if(a<e)l.push(t[s+r],t[s+r+1]);else{const e=c-a,t=Se(n,u,e/c),r=Se(i,h,e/c);l.push(t,r),o.push(l),l=[t,r],a=0}s+=r}}return 0<a&&o.push(l),o}const nl={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},il={Circle:d=class extends(g=class extends Ka{constructor(e,t,n,i){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=i,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))}appendFlatPointCoordinates(e,t){var n=this.getBufferedMaxExtent(),i=this.tmpCoordinate_,r=this.coordinates;let o=r.length;for(let s=0,a=e.length;s<a;s+=t)i[0]=e[s],i[1]=e[s+1],De(n,i)&&(r[o++]=i[0],r[o++]=i[1]);return o}appendFlatLineCoordinates(e,t,n,i,r,o){var s=this.coordinates;let a=s.length;var l=this.getBufferedMaxExtent();o&&(t+=i);let u=e[t],h=e[t+1];var c=this.tmpCoordinate_;let d,f,g,p=!0;for(d=t+i;d<n;d+=i)c[0]=e[d],c[1]=e[d+1],(g=Ne(l,c))!==f?(p&&(s[a++]=u,s[a++]=h,p=!1),s[a++]=c[0],s[a++]=c[1]):p=g!==Me.INTERSECTING||(s[a++]=c[0],s[a++]=c[1],!1),u=c[0],h=c[1],f=g;return(r&&p||d===t+i)&&(s[a++]=u,s[a++]=h),a}drawCustomCoordinates_(e,t,n,i,r){for(let a=0,l=n.length;a<l;++a){var o=n[a],s=this.appendFlatLineCoordinates(e,t,o,i,!1,!1);r.push(s),t=o}return t}drawCustom(e,t,n,i,r){this.beginGeometry(e,t,r);var o=e.getType(),s=e.getStride(),a=this.coordinates.length;let l,u,h,c,d;switch(o){case"MultiPolygon":l=e.getOrientedFlatCoordinates(),c=[];const t=e.getEndss();for(let e=d=0,n=t.length;e<n;++e){const n=[];d=this.drawCustomCoordinates_(l,d,t[e],s,n),c.push(n)}this.instructions.push([el.CUSTOM,a,c,e,n,Vn,r]),this.hitDetectionInstructions.push([el.CUSTOM,a,c,e,i||n,Vn,r]);break;case"Polygon":case"MultiLineString":h=[],l="Polygon"==o?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),d=this.drawCustomCoordinates_(l,0,e.getEnds(),s,h),this.instructions.push([el.CUSTOM,a,h,e,n,Un,r]),this.hitDetectionInstructions.push([el.CUSTOM,a,h,e,i||n,Un,r]);break;case"LineString":case"Circle":l=e.getFlatCoordinates(),u=this.appendFlatLineCoordinates(l,0,l.length,s,!1,!1),this.instructions.push([el.CUSTOM,a,u,e,n,Bn,r]),this.hitDetectionInstructions.push([el.CUSTOM,a,u,e,i||n,Bn,r]);break;case"MultiPoint":l=e.getFlatCoordinates(),(u=this.appendFlatPointCoordinates(l,s))>a&&(this.instructions.push([el.CUSTOM,a,u,e,n,Bn,r]),this.hitDetectionInstructions.push([el.CUSTOM,a,u,e,i||n,Bn,r]));break;case"Point":l=e.getFlatCoordinates(),this.coordinates.push(l[0],l[1]),u=this.coordinates.length,this.instructions.push([el.CUSTOM,a,u,e,n,void 0,r]),this.hitDetectionInstructions.push([el.CUSTOM,a,u,e,i||n,void 0,r])}this.endGeometry(t)}beginGeometry(e,t,n){this.beginGeometryInstruction1_=[el.BEGIN_GEOMETRY,t,0,e,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[el.BEGIN_GEOMETRY,t,0,e,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){var e=this.hitDetectionInstructions;let t;e.reverse();var n=e.length;let i,r,o=-1;for(t=0;t<n;++t)if(i=e[t],r=i[0],r==el.END_GEOMETRY)o=t;else if(r==el.BEGIN_GEOMETRY){i[2]=t,s=void 0,a=void 0,l=void 0,u=void 0;for(var s=this.hitDetectionInstructions,a=o,l=t;a<l;){var u=s[a];s[a]=s[l],s[l]=u,++a,--l}o=-1}}fillStyleToState(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e?(e=e.getColor(),t.fillPatternScale=e&&"object"==typeof e&&"src"in e?this.pixelRatio:1,t.fillStyle=Bo(e||Vo)):t.fillStyle=void 0,t}strokeStyleToState(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e?(t=e.getColor(),n.strokeStyle=Bo(t||Ko),t=e.getLineCap(),n.lineCap=void 0!==t?t:Yo,t=e.getLineDash(),n.lineDash=t?t.slice():Xo,t=e.getLineDashOffset(),n.lineDashOffset=t||0,t=e.getLineJoin(),n.lineJoin=void 0!==t?t:Zo,t=e.getWidth(),n.lineWidth=void 0!==t?t:1,t=e.getMiterLimit(),n.miterLimit=void 0!==t?t:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0),n}setFillStrokeStyle(e,t){var n=this.state;this.fillStyleToState(e,n),this.strokeStyleToState(t,n)}createFill(e){var t=e.fillStyle,n=[el.SET_FILL_STYLE,t];return"string"!=typeof t&&n.push(e.fillPatternScale),n}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[el.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){var n=e.fillStyle;"string"==typeof n&&e.currentFillStyle==n||(void 0!==n&&this.instructions.push(t.call(this,e)),e.currentFillStyle=n)}updateStrokeStyle(e,t){var n=e.strokeStyle,i=e.lineCap,r=e.lineDash,o=e.lineDashOffset,s=e.lineJoin,a=e.lineWidth,l=e.miterLimit;e.currentStrokeStyle==n&&e.currentLineCap==i&&(r==e.currentLineDash||P(e.currentLineDash,r))&&e.currentLineDashOffset==o&&e.currentLineJoin==s&&e.currentLineWidth==a&&e.currentMiterLimit==l||(void 0!==n&&t.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=i,e.currentLineDash=r,e.currentLineDashOffset=o,e.currentLineJoin=s,e.currentLineWidth=a,e.currentMiterLimit=l)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null,e=[el.END_GEOMETRY,e],this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){var e;return!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Ae(this.maxExtent),0<this.maxLineWidth)&&(e=this.resolution*(this.maxLineWidth+1)/2,Le(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)),this.bufferedMaxExtent_}}){constructor(e,t,n,i){super(e,t,n,i)}drawFlatCoordinatess_(e,t,n,i){const r=this.state,o=void 0!==r.fillStyle,s=void 0!==r.strokeStyle,a=n.length;this.instructions.push(Ja),this.hitDetectionInstructions.push(Ja);for(let r=0;r<a;++r){const o=n[r],a=this.coordinates.length,l=this.appendFlatLineCoordinates(e,t,o,i,!0,!s),u=[el.MOVE_TO_LINE_TO,a,l];this.instructions.push(u),this.hitDetectionInstructions.push(u),s&&(this.instructions.push($a),this.hitDetectionInstructions.push($a)),t=o}return o&&(this.instructions.push(qa),this.hitDetectionInstructions.push(qa)),s&&(this.instructions.push(Qa),this.hitDetectionInstructions.push(Qa)),t}drawCircle(e,t,n){var i=this.state,r=i.fillStyle,o=i.strokeStyle;void 0===r&&void 0===o||(this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([el.SET_FILL_STYLE,Vo]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([el.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Xo,0]),r=e.getFlatCoordinates(),o=e.getStride(),n=this.coordinates.length,this.appendFlatLineCoordinates(r,0,r.length,o,!1,!1),e=[el.CIRCLE,n],this.instructions.push(Ja,e),this.hitDetectionInstructions.push(Ja,e),void 0!==i.fillStyle&&(this.instructions.push(qa),this.hitDetectionInstructions.push(qa)),void 0!==i.strokeStyle&&(this.instructions.push(Qa),this.hitDetectionInstructions.push(Qa)),this.endGeometry(t))}drawPolygon(e,t,n){var i=this.state,r=i.fillStyle,o=i.strokeStyle;void 0===r&&void 0===o||(this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([el.SET_FILL_STYLE,Vo]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([el.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Xo,0]),r=e.getEnds(),o=e.getOrientedFlatCoordinates(),n=e.getStride(),this.drawFlatCoordinatess_(o,0,r,n),this.endGeometry(t))}drawMultiPolygon(e,t,n){var i=this.state,r=i.fillStyle,o=i.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(e,t,n),void 0!==i.fillStyle&&this.hitDetectionInstructions.push([el.SET_FILL_STYLE,Vo]),void 0!==i.strokeStyle&&this.hitDetectionInstructions.push([el.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Xo,0]);var s=e.getEndss(),a=e.getOrientedFlatCoordinates(),l=e.getStride();let r=0;for(let e=0,t=s.length;e<t;++e)r=this.drawFlatCoordinatess_(a,r,s[e],l);this.endGeometry(t)}}finish(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e){var t=this.coordinates;for(let n=0,i=t.length;n<i;++n)t[n]=Xn(t[n],e)}return super.finish()}setFillStrokeStyles_(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)}},Default:g,Image:class extends g{constructor(e,t,n,i){super(e,t,n,i),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,n){var i;!this.image_||this.maxExtent&&!De(this.maxExtent,e.getFlatCoordinates())||(this.beginGeometry(e,t,n),n=e.getFlatCoordinates(),e=e.getStride(),i=this.coordinates.length,n=this.appendFlatPointCoordinates(n,e),this.instructions.push([el.DRAW_IMAGE,i,n,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([el.DRAW_IMAGE,i,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t))}drawMultiPoint(e,t,n){if(this.image_){this.beginGeometry(e,t,n);var i=e.getFlatCoordinates(),r=[];for(let t=0,n=i.length;t<n;t+=e.getStride())this.maxExtent&&!De(this.maxExtent,i.slice(t,t+2))||r.push(i[t],i[t+1]);n=this.coordinates.length;var o=this.appendFlatPointCoordinates(r,2);this.instructions.push([el.DRAW_IMAGE,n,o,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([el.DRAW_IMAGE,n,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){var n=e.getAnchor(),i=e.getSize(),r=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=i[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=i[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}},LineString:class extends g{constructor(e,t,n,i){super(e,t,n,i)}drawFlatCoordinates_(e,t,n,i){var r=this.coordinates.length;return e=this.appendFlatLineCoordinates(e,t,n,i,!1,!1),t=[el.MOVE_TO_LINE_TO,r,e],this.instructions.push(t),this.hitDetectionInstructions.push(t),n}drawLineString(e,t,n){var i=this.state,r=i.strokeStyle,o=i.lineWidth;void 0!==r&&void 0!==o&&(this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t,n),this.hitDetectionInstructions.push([el.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Xo,0],Ja),r=e.getFlatCoordinates(),o=e.getStride(),this.drawFlatCoordinates_(r,0,r.length,o),this.hitDetectionInstructions.push(Qa),this.endGeometry(t))}drawMultiLineString(e,t,n){var i=this.state,r=i.strokeStyle,o=i.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,t,n),this.hitDetectionInstructions.push([el.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,Xo,0],Ja);var s=e.getEnds(),a=e.getFlatCoordinates(),l=e.getStride();let r=0;for(let e=0,t=s.length;e<t;++e)r=this.drawFlatCoordinates_(a,r,s[e],l);this.hitDetectionInstructions.push(Qa),this.endGeometry(t)}}finish(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Qa),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Qa),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(Ja)}},Polygon:d,Text:class extends g{constructor(e,t,n,i){super(e,t,n,i),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Vo]={fillStyle:Vo},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){var e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,n){const i=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(""!==this.text_&&o&&(i||r)){const i=this.coordinates;let r=i.length;var s=e.getType();let d=null,f=e.getStride();if("line"!==o.placement||"LineString"!=s&&"MultiLineString"!=s&&"Polygon"!=s&&"MultiPolygon"!=s){let h=o.overflow?null:[];switch(s){case"Point":case"MultiPoint":d=e.getFlatCoordinates();break;case"LineString":d=e.getFlatMidpoint();break;case"Circle":d=e.getCenter();break;case"MultiLineString":d=e.getFlatMidpoints(),f=2;break;case"Polygon":d=e.getFlatInteriorPoint(),o.overflow||h.push(d[2]/this.resolution),f=3;break;case"MultiPolygon":const t=e.getFlatInteriorPoints();d=[];for(let e=0,n=t.length;e<n;e+=3)o.overflow||h.push(t[e+2]/this.resolution),d.push(t[e],t[e+1]);if(0===d.length)return;f=2}const c=this.appendFlatPointCoordinates(d,f);if(c!==r){if(h&&(c-r)/2!=d.length/f){let e=r/2;h=h.filter(((t,n)=>((n=i[2*(e+n)]===d[n*f]&&i[2*(e+n)+1]===d[n*f+1])||--e,n)))}this.saveTextStates_();var a=o.backgroundFill?this.createFill(this.fillStyleToState(o.backgroundFill)):null,l=o.backgroundStroke?this.createStroke(this.strokeStyleToState(o.backgroundStroke)):null;this.beginGeometry(e,t,n);let s=o.padding;if(s!=Qo&&(o.scale[0]<0||o.scale[1]<0)){let e=o.padding[0],t=o.padding[1],n=o.padding[2],i=o.padding[3];o.scale[0]<0&&(t=-t,i=-i),o.scale[1]<0&&(e=-e,n=-n),s=[e,t,n,i]}const g=this.pixelRatio;this.instructions.push([el.DRAW_IMAGE,r,c,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,s==Qo?Qo:s.map((function(e){return e*g})),a,l,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,h]);var u=1/g;(a=a?a.slice(0):null)&&(a[1]=Vo),this.hitDetectionInstructions.push([el.DRAW_IMAGE,r,c,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[u,u],NaN,this.declutterMode_,this.declutterImageWithText_,s,a,l,this.text_,this.textKey_,this.strokeKey_,this.fillKey_&&Vo,this.textOffsetX_,this.textOffsetY_,h]),this.endGeometry(t)}}else if(rt(this.maxExtent,e.getExtent())){let a;if(d=e.getFlatCoordinates(),"LineString"==s)a=[d.length];else if("MultiLineString"==s)a=e.getEnds();else if("Polygon"==s)a=e.getEnds().slice(0,1);else if("MultiPolygon"==s){const t=e.getEndss();a=[];for(let e=0,n=t.length;e<n;++e)a.push(t[e][0])}this.beginGeometry(e,t,n);const l=o.repeat,u=l?void 0:o.textAlign;let g=0;for(let e=0,t=a.length;e<t;++e){var h=l?tl(l*this.resolution,d,g,a[e],f):[d.slice(g,a[e])];for(let t=0,n=h.length;t<n;++t){const n=h[t];let s=0,l=n.length;if(null==u){const e=function(e,t,n,i,r){let o,s,a,l,u,h,c,d,f,g=0,p=0,m=0,_=0,v=0;for(o=0;o<i;o+=2){const n=t[o],i=t[o+1];void 0!==l&&(d=n-l,f=i-u,a=Math.sqrt(d*d+f*f),void 0!==h&&(_+=s,e<Math.acos((h*d+c*f)/(s*a)))&&(_>m&&(m=_,g=v,p=o),_=0,v=o-2),s=a,h=d,c=f),l=n,u=i}return(_+=a)>m?[v,o]:[g,p]}(o.maxAngle,n,0,n.length);s=e[0],l=e[1]}for(let e=s;e<l;e+=f)i.push(n[e],n[e+1]);var c=i.length;g=a[e],this.drawChars_(r,c),r=c}}this.endGeometry(t)}}}saveTextStates_(){var e=this.textStrokeState_,t=this.textState_,n=this.textFillState_,i=this.strokeKey_;!e||i in this.strokeStates||(this.strokeStates[i]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}),(i=this.textKey_)in this.textStates||(this.textStates[i]={font:t.font,textAlign:t.textAlign||Ho,justify:t.justify,textBaseline:t.textBaseline||qo,scale:t.scale}),e=this.fillKey_,!n||e in this.fillStates||(this.fillStates[e]={fillStyle:n.fillStyle})}drawChars_(e,t){var n=this.textStrokeState_,i=this.textState_,r=this.strokeKey_,o=this.textKey_,s=this.fillKey_,a=(this.saveTextStates_(),this.pixelRatio),l=nl[i.textBaseline],u=this.textOffsetY_*a,h=this.text_;n=n?n.lineWidth*Math.abs(i.scale[0])/2:0,this.instructions.push([el.DRAW_CHARS,e,t,l,i.overflow,s,i.maxAngle,a,u,r,n*a,h,o,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([el.DRAW_CHARS,e,t,l,i.overflow,s&&Vo,i.maxAngle,a,u,r,n*a,h,o,1/a,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let n,i,r;if(e){const t=e.getFill();if(t?((i=this.textFillState_)||(i={},this.textFillState_=i),i.fillStyle=Bo(t.getColor()||Vo)):(i=null,this.textFillState_=i),o=e.getStroke()){(r=this.textStrokeState_)||(r={},this.textStrokeState_=r);const e=o.getLineDash(),t=o.getLineDashOffset(),n=o.getWidth(),i=o.getMiterLimit();r.lineCap=o.getLineCap()||Yo,r.lineDash=e?e.slice():Xo,r.lineDashOffset=void 0===t?0:t,r.lineJoin=o.getLineJoin()||Zo,r.lineWidth=void 0===n?1:n,r.miterLimit=void 0===i?10:i,r.strokeStyle=Bo(o.getColor()||Ko)}else r=null,this.textStrokeState_=r;n=this.textState_;var o=e.getFont()||Uo,s=(ns(o),e.getScaleArray()),a=(n.overflow=e.getOverflow(),n.font=o,n.maxAngle=e.getMaxAngle(),n.placement=e.getPlacement(),n.textAlign=e.getTextAlign(),n.repeat=e.getRepeat(),n.justify=e.getJustify(),n.textBaseline=e.getTextBaseline()||qo,n.backgroundFill=e.getBackgroundFill(),n.backgroundStroke=e.getBackgroundStroke(),n.padding=e.getPadding()||Qo,n.scale=void 0===s?[1,1]:s,o=e.getOffsetX(),s=e.getOffsetY(),e.getRotateWithView()),l=e.getKeepUpright(),u=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===o?0:o,this.textOffsetY_=void 0===s?0:s,this.textRotateWithView_=void 0!==a&&a,this.textKeepUpright_=void 0===l||l,this.textRotation_=void 0===u?0:u,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:Y(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=i&&i.fillStyle?"string"==typeof i.fillStyle?i.fillStyle:"|"+Y(i.fillStyle):""}else this.text_="";this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}},rl=class{constructor(e,t,n,i){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}finish(){var e={};for(const i in this.buildersByZIndex_){e[i]=e[i]||{};var t=this.buildersByZIndex_[i];for(const r in t){var n=t[r].finish();e[i][r]=n}}return e}getBuilder(e,t){e=void 0!==e?e.toString():"0";let n=this.buildersByZIndex_[e],i=(void 0===n&&(n={},this.buildersByZIndex_[e]=n),n[t]);return void 0===i&&(i=new il[t](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=i),i}},ol=[1/0,1/0,-1/0,-1/0],sl=[],al=[],ll=[],ul=[];function hl(e){return e[3].declutterBox}const cl=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function dl(e,t){return"start"===t?t=cl.test(e)?"right":"left":"end"===t&&(t=cl.test(e)?"left":"right"),nl[t]}function fl(e,t,n){return 0<n&&e.push("\n",""),e.push(t,""),e}function gl(e,t,n){return n%2==0&&(e+=t),e}const pl=class{constructor(e,t,n,i,r){this.overlaps=n,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=r?new pa:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,n,i){const r=e+t+n+i;if(this.labels_[r])return this.labels_[r];var o=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,a=this.textStates[t],l=(t=this.pixelRatio,t=[a.scale[0]*t,a.scale[1]*t],a.justify?nl[a.justify]:dl(Array.isArray(e)?e[0]:e,a.textAlign||Ho)),u=i&&o.lineWidth?o.lineWidth:0,h=Array.isArray(e)?e:String(e).split("\n").reduce(fl,[]),{width:e,height:c,widths:d,heights:f,lineWidths:g}=function(e,t){var n=[],i=[],r=[];let o=0,s=0,a=0,l=0;for(let c=0,d=t.length;c<=d;c+=2){var u,h=t[c];"\n"===h||c===d?(o=Math.max(o,s),r.push(s),s=0,a+=l,l=0):(h=os(u=t[c+1]||e.font,h),n.push(h),s+=h,h=is(u),i.push(h),l=Math.max(l,h))}return{width:o,height:a,widths:n,heights:i,lineWidths:r}}(a,h),p=e+u,m=(e=[],(p+2)*t[0]),c=(c+u)*t[1],_=(m={width:m<0?Math.floor(m):Math.ceil(m),height:c<0?Math.floor(c):Math.ceil(c),contextInstructions:e},1==t[0]&&1==t[1]||e.push("scale",t),i&&(e.push("strokeStyle",o.strokeStyle),e.push("lineWidth",u),e.push("lineCap",o.lineCap),e.push("lineJoin",o.lineJoin),e.push("miterLimit",o.miterLimit),e.push("setLineDash",[o.lineDash]),e.push("lineDashOffset",o.lineDashOffset)),n&&e.push("fillStyle",s.fillStyle),e.push("textBaseline","middle"),e.push("textAlign","center"),.5-l);let v=l*p+_*u;var y=[],x=[];let b,w=0,S=0,C=0,E=0;for(let e=0,t=h.length;e<t;e+=2){const t=h[e];if("\n"===t)S+=w,w=0,v=l*p+_*u,++E;else{const r=h[e+1]||a.font,o=(r!==b&&(i&&y.push("font",r),n&&x.push("font",r),b=r),w=Math.max(w,f[C]),[t,v+_*d[C]+l*(d[C]-g[E]),.5*(u+w)+S]);v+=d[C],i&&y.push("strokeText",o),n&&x.push("fillText",o),++C}}return Array.prototype.push.apply(e,y),Array.prototype.push.apply(e,x),this.labels_[r]=m}replayTextBackground_(e,t,n,i,r,o,s){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,t),o&&(this.alignAndScaleFill_=o[2],e.fillStyle=o[1],this.fill_(e)),s&&(this.setStrokeStyle_(e,s),e.stroke())}calculateImageOrLabelDimensions_(e,t,n,i,r,o,s,a,l,u,h,c,d,f,g,p){let m,_=n-(s*=c[0]),v=i-(a*=c[1]);return s=e<r+l?e-l:r,a=t<o+u?t-u:o,e=f[3]+s*c[0]+f[1],r=f[0]+a*c[1]+f[2],t=_-f[3],o=v-f[0],!g&&0===h||(sl[0]=t,ul[0]=t,sl[1]=o,al[1]=o,al[0]=t+e,ll[0]=al[0],ll[1]=o+r,ul[1]=ll[1]),0!==h?(Rn(m=Tn([1,0,0,1,0,0],n,i,1,1,h,-n,-i),sl),Rn(m,al),Rn(m,ll),Rn(m,ul),Ge(Math.min(sl[0],al[0],ll[0],ul[0]),Math.min(sl[1],al[1],ll[1],ul[1]),Math.max(sl[0],al[0],ll[0],ul[0]),Math.max(sl[1],al[1],ll[1],ul[1]),ol)):Ge(Math.min(t,t+e),Math.min(o,o+r),Math.max(t,t+e),Math.max(o,o+r),ol),d&&(_=Math.round(_),v=Math.round(v)),{drawImageX:_,drawImageY:v,drawImageW:s,drawImageH:a,originX:l,originY:u,declutterBox:{minX:ol[0],minY:ol[1],maxX:ol[2],maxY:ol[3],value:p},canvasTransform:m,scale:c}}replayImageOrLabel_(e,t,n,i,r,o,s){var a=!(!o&&!s),l=i.declutterBox,u=s?s[2]*i.scale[0]/2:0;if(l.minX-u<=t[0]&&0<=l.maxX+u&&l.minY-u<=t[1]&&0<=l.maxY+u){a&&this.replayTextBackground_(e,sl,al,ll,ul,o,s),t=e,l=i.canvasTransform;var h=r;if(u=n,a=i.originX,o=i.originY,s=i.drawImageW,e=i.drawImageH,r=i.drawImageX,n=i.drawImageY,i=i.scale,t.save(),1!==h&&(void 0===t.globalAlpha?t.globalAlpha=e=>e.globalAlpha*=h:t.globalAlpha*=h),l&&t.transform.apply(t,l),u.contextInstructions){t.translate(r,n),t.scale(i[0],i[1]);var c=t,d=u.contextInstructions;for(let e=0,t=d.length;e<t;e+=2)Array.isArray(d[e+1])?c[d[e]].apply(c,d[e+1]):c[d[e]]=d[e+1]}else i[0]<0||i[1]<0?(t.translate(r,n),t.scale(i[0],i[1]),t.drawImage(u,a,o,s,e,0,0,s,e)):t.drawImage(u,a,o,s,e,r,n,s*i[0],e*i[1]);t.restore()}return!0}fill_(e){var t,n,i=this.alignAndScaleFill_;i&&(t=Rn(this.renderedTransform_,[0,0]),n=512*this.pixelRatio,e.save(),e.translate(t[0]%n,t[1]%n),1!==i&&e.scale(i,i),e.rotate(this.viewRotation_)),e.fill(),i&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6])}drawLabelWithPointPlacement_(e,t,n,i){var r=this.textStates[t],o=(t=this.createLabel(e,t,i,n),i=this.strokeStates[n],n=this.pixelRatio,e=dl(Array.isArray(e)?e[0]:e,r.textAlign||Ho),nl[r.textBaseline||qo]);return i=i&&i.lineWidth?i.lineWidth:0,{label:t,anchorX:e*(t.width/n-2*r.scale[0])+2*(.5-e)*i,anchorY:o*t.height/n+2*(.5-o)*i}}execute_(e,t,n,i,r,o,s,a){var l,u,h=this.zIndexContext_;let c,d=(this.pixelCoordinates_&&P(n,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=Ln(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(l=this.renderedTransform_)[0]=(u=n)[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5]),0);const f=i.length;let g,p,m,_,v,y,x,b,w,S,C,E,k,R=0,T=0,I=0;var M=this.coordinateCache_,L=this.viewRotation_,A=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,F={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:L},D=this.instructions!=i||this.overlaps?0:200;let O,z,N,G;for(;d<f;){const n=i[d];switch(n[0]){case el.BEGIN_GEOMETRY:O=n[1],G=n[3],O.getGeometry()?void 0===s||rt(s,G.getExtent())?++d:d=n[2]+1:d=n[2],h&&(h.zIndex=n[4]);break;case el.BEGIN_PATH:T>D&&(this.fill_(e),T=0),I>D&&(e.stroke(),I=0),T||I||(e.beginPath(),v=NaN,y=NaN),++d;break;case el.CIRCLE:R=n[1];const i=c[R],l=c[R+1],u=c[R+2]-i,f=c[R+3]-l,P=Math.sqrt(u*u+f*f);e.moveTo(i+P,l),e.arc(i,l,P,0,2*Math.PI,!0),++d;break;case el.CLOSE_PATH:e.closePath(),++d;break;case el.CUSTOM:R=n[1],g=n[2];var W=n[3],j=n[4],B=n[5];F.geometry=W,F.feature=O,d in M||(M[d]=[]),W=M[d],B?B(c,R,g,2,W):(W[0]=c[R],W[1]=c[R+1],W.length=2),h&&(h.zIndex=n[6]),j(W,F),++d;break;case el.DRAW_IMAGE:R=n[1],g=n[2],w=n[3],p=n[4],m=n[5];let oe=n[6];var U=n[7],V=n[8],Y=n[9];B=n[10];let se=n[11];var X=n[12];let ae=n[13];_=n[14]||"declutter";var Z=n[15];if(!w&&20<=n.length){S=n[19],C=n[20],E=n[21],k=n[22];const e=this.drawLabelWithPointPlacement_(S,C,E,k),t=(w=e.label,n[3]=w,n[23]),i=(p=(e.anchorX-t)*this.pixelRatio,n[4]=p,n[24]);m=(e.anchorY-i)*this.pixelRatio,n[5]=m,oe=w.height,n[6]=oe,ae=w.width,n[13]=ae}let le,ue,he,ce,de=(25<n.length&&(le=n[25]),ce=17<n.length?(ue=n[16],he=n[17],n[18]):(ue=Qo,he=null),B&&A?se+=L:B||A||(se-=L),0);for(;R<g;R+=2)if(!(le&&le[de++]<ae/this.pixelRatio)){const n=this.calculateImageOrLabelDimensions_(w.width,w.height,c[R],c[R+1],ae,oe,p,m,V,Y,se,X,r,ue,!!he||!!ce,O),i=[e,t,w,n,U,he,ce];if(a){let e,t,r,o,s;if(Z){const n=g-R;if(!Z[n]){Z[n]={args:i,declutterMode:_};continue}const o=Z[n];e=o.args,t=o.declutterMode,delete Z[n],r=hl(e)}if(!e||"declutter"===t&&a.collides(r)||(o=!0),"declutter"===_&&a.collides(n.declutterBox)||(s=!0),"declutter"===t&&"declutter"===_){const e=o&&s;o=e,s=e}o&&("none"!==t&&a.insert(r),this.replayImageOrLabel_.apply(this,e)),s&&("none"!==_&&a.insert(n.declutterBox),this.replayImageOrLabel_.apply(this,i))}else this.replayImageOrLabel_.apply(this,i)}++d;break;case el.DRAW_CHARS:j=n[1],W=n[2];var K=n[3],H=n[4],q=(k=n[5],n[6]),Q=n[7],J=n[8],$=(E=n[9],n[10]),ee=(S=n[11],Array.isArray(S)&&(S=S.reduce(gl,"")),C=n[12],[n[13],n[13]]),te=(_=n[14]||"declutter",n[15]),ne=this.textStates[C],ie=ne.font,re=[ne.scale[0]*Q,ne.scale[1]*Q];let fe;if(ie in this.widths_?fe=this.widths_[ie]:(fe={},this.widths_[ie]=fe),ne=function(e,t,n,i){let r=e[t],o=e[t+1],s=0;for(let i=t+2;i<n;i+=2){const t=e[i],n=e[i+1];s+=Math.sqrt((t-r)*(t-r)+(n-o)*(n-o)),r=t,o=n}return s}(c,j,W),Q=Math.abs(re[0])*ss(ie,S,fe),H||Q<=ne){const n=function(e,t,n,i,r,o,s,a,l,u,h,c,d){let f=!(12<arguments.length&&void 0!==d)||d,g=e[t],p=e[t+1],m=0,_=0,v=0,y=0;function x(){m=g,_=p,g=e[t+=i],p=e[t+1],y+=v,v=Math.sqrt((g-m)*(g-m)+(p-_)*(p-_))}for(;x(),t<n-i&&y+v<o;);const b=Se(m,g,k=0===v?0:(o-y)/v),w=Se(_,p,k),S=t-i,C=y,E=o+a*l(u,r,h);for(;t<n-i&&y+v<E;)x();d=Se(m,g,k=0===v?0:(E-y)/v);var k,R=Se(_,p,k);let T=!1;if(f)if(c){const e=[b,w,d,R];An(e,0,4,2,c,e,e),T=e[0]>e[2]}else T=b>d;var I=Math.PI,M=[];let P;if(c=S+i===t,v=0,y=C,g=e[t=S],p=e[t+1],c){x(),P=Math.atan2(p-_,g-m),T&&(P+=0<P?-I:I);const e=(d+b)/2,t=(R+w)/2;M[0]=[e,t,(E-o)/2,P,r]}else for(let e=0,c=(r=r.replace(/\n/g," ")).length;e<c;){x();let d=Math.atan2(p-_,g-m);if(T&&(d+=0<d?-I:I),void 0!==P){var L=d-P;if(L+=I<L?-2*I:L<-I?2*I:0,Math.abs(L)>s)return null}P=d;const f=e;let b=0;for(;e<c;++e){const s=a*l(u,r[T?c-e-1:e],h);if(t+i<n&&y+v<o+b+s/2)break;b+=s}if(e!==f){const t=T?r.substring(c-f,c-e):r.substring(f,e),n=Se(m,g,k=0===v?0:(o+b/2-y)/v),i=Se(_,p,k);M.push([n,i,b/2,d,t]),o+=b}}return M}(c,j,W,2,S,(ne-Q)*dl(S,this.textStates[C].textAlign),q,Math.abs(re[0]),ss,ie,fe,A?0:this.viewRotation_,te);e:if(n){const i=[];let r,o,s,l,u;if(E)for(r=0,o=n.length;r<o;++r){u=n[r],s=u[4],l=this.createLabel(s,C,"",E),p=u[2]+(re[0]<0?-$:$),m=K*l.height+2*(.5-K)*$*re[1]/re[0]-J;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,u[0],u[1],l.width,l.height,p,m,0,0,u[3],ee,!1,Qo,!1,O);if(a&&"declutter"===_&&a.collides(o.declutterBox))break e;i.push([e,t,l,o,1,null,null])}if(k)for(r=0,o=n.length;r<o;++r){u=n[r],s=u[4],l=this.createLabel(s,C,k,""),p=u[2],m=K*l.height-J;const o=this.calculateImageOrLabelDimensions_(l.width,l.height,u[0],u[1],l.width,l.height,p,m,0,0,u[3],ee,!1,Qo,!1,O);if(a&&"declutter"===_&&a.collides(o.declutterBox))break e;i.push([e,t,l,o,1,null,null])}a&&"none"!==_&&a.load(i.map(hl));for(let e=0,t=i.length;e<t;++e)this.replayImageOrLabel_.apply(this,i[e])}}++d;break;case el.END_GEOMETRY:if(void 0!==o){const e=o(O=n[1],G,_);if(e)return e}++d;break;case el.FILL:D?T++:this.fill_(e),++d;break;case el.MOVE_TO_LINE_TO:for(R=n[1],g=n[2],z=c[R],N=c[R+1],e.moveTo(z,N),v=z+.5|0,y=N+.5|0,R+=2;R<g;R+=2)x=(z=c[R])+.5|0,b=(N=c[R+1])+.5|0,R!=g-2&&x===v&&b===y||(e.lineTo(z,N),v=x,y=b);++d;break;case el.SET_FILL_STYLE:this.alignAndScaleFill_=n[2],T&&(this.fill_(e),T=0,I)&&(e.stroke(),I=0),e.fillStyle=n[1],++d;break;case el.SET_STROKE_STYLE:I&&(e.stroke(),I=0),this.setStrokeStyle_(e,n),++d;break;case el.STROKE:D?I++:e.stroke(),++d;break;default:++d}}T&&this.fill_(e),I&&e.stroke()}execute(e,t,n,i,r,o){this.viewRotation_=i,this.execute_(e,t,n,this.instructions,r,void 0,void 0,o)}executeHitDetection(e,t,n,i,r){return this.viewRotation_=n,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,i,r)}},ml=["Polygon","Circle","LineString","Image","Text","Default"],_l=["Image","Text"],vl=ml.filter((e=>!_l.includes(e))),yl={},xl=class{constructor(e,t,n,i,r,o,s){this.maxExtent_=e,this.overlaps_=i,this.pixelRatio_=n,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(r,s)}clip(e,t){t=this.getClipCoords(t),e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.lineTo(t[4],t[5]),e.lineTo(t[6],t[7]),e.clip()}createExecutors_(e,t){for(const r in e){let o=this.executorsByZIndex_[r];void 0===o&&(o={},this.executorsByZIndex_[r]=o);var n=e[r];for(const e in n){var i=n[e];o[e]=new pl(this.resolution_,this.pixelRatio_,this.overlaps_,i,t)}}}hasExecutors(e){for(const n in this.executorsByZIndex_){var t=this.executorsByZIndex_[n];for(let n=0,i=e.length;n<i;++n)if(e[n]in t)return!0}return!1}forEachFeatureAtCoordinate(e,t,n,i,r,o){const s=2*(i=Math.round(i))+1,a=Tn(this.hitDetectionTransform_,i+.5,i+.5,1/t,-1/t,-n,-e[0],-e[1]),l=!this.hitDetectionContext_,u=(l&&(this.hitDetectionContext_=Ci(s,s)),this.hitDetectionContext_);let h;u.canvas.width!==s||u.canvas.height!==s?(u.canvas.width=s,u.canvas.height=s):l||u.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(Ve(h=[1/0,1/0,-1/0,-1/0],e),Le(h,t*(this.renderBuffer_+i),h));const c=function(e){if(void 0!==yl[e])return yl[e];var t=2*e+1,n=e*e,i=new Array(1+n);for(let o=0;o<=e;++o)for(let s=0;s<=e;++s){var r=o*o+s*s;if(n<r)break;let a=i[r];a||(a=[],i[r]=a),a.push(4*((e+o)*t+(e+s))+3),0<o&&a.push(4*((e-o)*t+(e+s))+3),0<s&&(a.push(4*((e+o)*t+(e-s))+3),0<o)&&a.push(4*((e-o)*t+(e-s))+3)}var o=[];for(let e=0,t=i.length;e<t;++e)i[e]&&o.push(...i[e]);return yl[e]=o}(i);let d;function f(e,t,n){const a=u.getImageData(0,0,s,s).data;for(let l=0,h=c.length;l<h;l++)if(0<a[c[l]]){if(!o||"none"===n||"Image"!==d&&"Text"!==d||o.includes(e)){const n=(c[l]-3)/4,o=i-n%s,a=i-(n/s|0),u=r(e,t,o*o+a*a);if(u)return u}u.clearRect(0,0,s,s);break}}var g=Object.keys(this.executorsByZIndex_).map(Number);let p,m,_,v,y;for(g.sort(R),p=g.length-1;0<=p;--p){const e=g[p].toString();for(_=this.executorsByZIndex_[e],m=ml.length-1;0<=m;--m)if(d=ml[m],void 0!==(v=_[d])&&(y=v.executeHitDetection(u,a,n,f,h)))return y}}getClipCoords(e){var t,n,i,r=this.maxExtent_;return r?(i=r[0],t=r[1],n=r[2],Ln(r=[i,t,i,i=r[3],n,i,n,t],0,8,2,e,r),r):null}isEmpty(){return z(this.executorsByZIndex_)}execute(e,t,n,i,r,o,s){var a=Object.keys(this.executorsByZIndex_).map(Number),l=(a.sort(s?T:R),o=o||ml,ml.length);for(let c=0,d=a.length;c<d;++c){var u=a[c].toString(),h=this.executorsByZIndex_[u];for(let u=0,d=o.length;u<d;++u){const d=o[u],f=h[d];if(void 0!==f){const o=null===s?void 0:f.getZIndexContext(),h=o?o.getContext():e,g=this.maxExtent_&&"Image"!==d&&"Text"!==d;if(g&&(h.save(),this.clip(h,n)),o&&"Text"!==d&&"Image"!==d?o.pushFunction((e=>f.execute(e,t,n,i,r,s))):f.execute(h,t,n,i,r,s),g&&h.restore(),o){o.offset();const e=a[c]*l+u;this.deferredZIndexContexts_[e]||(this.deferredZIndexContexts_[e]=[]),this.deferredZIndexContexts_[e].push(o)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){var e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(R);for(let n=0,i=t.length;n<i;++n)e[t[n]].forEach((e=>{e.draw(this.renderedContext_),e.clear()})),e[t[n]].length=0}},bl=class extends Ka{constructor(e,t,n,i,r,o,s){super(),this.context_=e,this.pixelRatio_=t,this.extent_=n,this.transform_=i,this.transformRotation_=i?Ce(Math.atan2(i[1],i[0]),10):0,this.viewRotation_=r,this.squaredTolerance_=o,this.userTransform_=s,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}drawImages_(e,t,n,i){if(this.image_){var r=Ln(e,t,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_;e=o.globalAlpha,1!=this.imageOpacity_&&(o.globalAlpha=e*this.imageOpacity_);let a=this.imageRotation_;0===this.transformRotation_&&(a-=this.viewRotation_),this.imageRotateWithView_&&(a+=this.viewRotation_);for(let e=0,t=r.length;e<t;e+=2){const t=r[e]-this.imageAnchorX_,n=r[e+1]-this.imageAnchorY_;if(0!==a||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const e=t+this.imageAnchorX_,i=n+this.imageAnchorY_;Tn(s,e,i,1,1,a,-e,-i),o.save(),o.transform.apply(o,s),o.translate(e,i),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,n,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(o.globalAlpha=e)}}drawText_(e,t,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Ln(e,t,n,i,this.transform_,this.pixelCoordinates_),o=this.context_;let s=this.textRotation_;for(0===this.transformRotation_&&(s-=this.viewRotation_),this.textRotateWithView_&&(s+=this.viewRotation_);t<n;t+=i){const e=r[t]+this.textOffsetX_,n=r[t+1]+this.textOffsetY_;0!==s||1!=this.textScale_[0]||1!=this.textScale_[1]?(o.save(),o.translate(e-this.textOffsetX_,n-this.textOffsetY_),o.rotate(s),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,e,n),this.textFillState_&&o.fillText(this.text_,e,n))}}}moveToLineTo_(e,t,n,i,r){var o=this.context_,s=Ln(e,t,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);let a=s.length;r&&(a-=2);for(let e=2;e<a;e+=2)o.lineTo(s[e],s[e+1]);return r&&o.closePath(),n}drawRings_(e,t,n,i){for(let r=0,o=n.length;r<o;++r)t=this.moveToLineTo_(e,t,n[r],i,!0);return t}drawCircle(e){var t,n,i,r;this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),rt(this.extent_,e.getExtent())&&((this.fillState_||this.strokeState_)&&(this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_),t=e,n=this.transform_,i=this.pixelCoordinates_,t=(r=(r=t.getFlatCoordinates())?(t=t.getStride(),Ln(r,0,r.length,t,n,i)):null)[2]-r[0],n=r[3]-r[1],i=Math.sqrt(t*t+n*n),(t=this.context_).beginPath(),t.arc(r[0],r[1],i,0,2*Math.PI),this.fillState_&&t.fill(),this.strokeState_)&&t.stroke(),""!==this.text_)&&this.drawText_(e.getCenter(),0,2,2)}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e)}}drawFeature(e,t){(e=t.getGeometryFunction()(e))&&(this.setStyle(t),this.drawGeometry(e))}drawGeometryCollection(e){var t=e.getGeometriesArray();for(let e=0,n=t.length;e<n;++e)this.drawGeometry(t[e])}drawPoint(e){var t=(e=this.squaredTolerance_?e.simplifyTransformed(this.squaredTolerance_,this.userTransform_):e).getFlatCoordinates();e=e.getStride(),this.image_&&this.drawImages_(t,0,t.length,e),""!==this.text_&&this.drawText_(t,0,t.length,e)}drawMultiPoint(e){var t=(e=this.squaredTolerance_?e.simplifyTransformed(this.squaredTolerance_,this.userTransform_):e).getFlatCoordinates();e=e.getStride(),this.image_&&this.drawImages_(t,0,t.length,e),""!==this.text_&&this.drawText_(t,0,t.length,e)}drawLineString(e){var t,n;this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),rt(this.extent_,e.getExtent())&&(this.strokeState_&&(this.setContextStrokeState_(this.strokeState_),t=this.context_,n=e.getFlatCoordinates(),t.beginPath(),this.moveToLineTo_(n,0,n.length,e.getStride(),!1),t.stroke()),""!==this.text_)&&(n=e.getFlatMidpoint(),this.drawText_(n,0,2,2))}drawMultiLineString(e){const t=(e=this.squaredTolerance_?e.simplifyTransformed(this.squaredTolerance_,this.userTransform_):e).getExtent();if(rt(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,r=e.getFlatCoordinates();let o=0;var n=e.getEnds(),i=e.getStride();t.beginPath();for(let e=0,t=n.length;e<t;++e)o=this.moveToLineTo_(r,o,n[e],i,!1);t.stroke()}if(""!==this.text_){const t=e.getFlatMidpoints();this.drawText_(t,0,t.length,2)}}}drawPolygon(e){var t;this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),rt(this.extent_,e.getExtent())&&((this.strokeState_||this.fillState_)&&(this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_),(t=this.context_).beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_)&&t.stroke(),""!==this.text_)&&(t=e.getFlatInteriorPoint(),this.drawText_(t,0,2,2))}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),rt(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_,n=e.getOrientedFlatCoordinates();let s=0;var i=e.getEndss(),r=e.getStride();t.beginPath();for(let e=0,t=i.length;e<t;++e){var o=i[e];s=this.drawRings_(n,s,o,r)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}""!==this.text_&&(t=e.getFlatInteriorPoints(),this.drawText_(t,0,t.length,2))}}setContextFillState_(e){var t=this.context_,n=this.contextFillState_;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){var t=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=e.lineCap&&(n.lineCap=e.lineCap,t.lineCap=e.lineCap),P(n.lineDash,e.lineDash)||t.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),n.lineJoin!=e.lineJoin&&(n.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){var t=this.context_,n=this.contextTextState_,i=e.textAlign||Ho;n?(n.font!=e.font&&(n.font=e.font,t.font=e.font),n.textAlign!=i&&(n.textAlign=i,t.textAlign=i),n.textBaseline!=e.textBaseline&&(n.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=i,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:i,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(e){const t=e.getColor();this.fillState_={fillStyle:Bo(t||Vo)}}else this.fillState_=null;if(t){const e=t.getColor(),n=t.getLineCap(),i=t.getLineDash(),r=t.getLineDashOffset(),o=t.getLineJoin(),s=t.getWidth(),a=t.getMiterLimit(),l=i||Xo;this.strokeState_={lineCap:void 0!==n?n:Yo,lineDash:1===this.pixelRatio_?l:l.map((e=>e*this.pixelRatio_)),lineDashOffset:(r||0)*this.pixelRatio_,lineJoin:void 0!==o?o:Zo,lineWidth:(void 0!==s?s:1)*this.pixelRatio_,miterLimit:void 0!==a?a:10,strokeStyle:Bo(e||Ko)}}else this.strokeState_=null}setImageStyle(e){let t;var n,i,r;e&&(t=e.getSize())?(n=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),i=e.getOrigin(),this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*n,this.imageAnchorY_=r[1]*n,this.imageHeight_=t[1]*n,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),r=e.getScaleArray(),this.imageScale_=[r[0]*this.pixelRatio_/n,r[1]*this.pixelRatio_/n],this.imageWidth_=t[0]*n):this.image_=null}setTextStyle(e){if(e){if(t=e.getFill()){const e=t.getColor();this.textFillState_={fillStyle:Bo(e||Vo)}}else this.textFillState_=null;if(t=e.getStroke()){const e=t.getColor(),n=t.getLineCap(),i=t.getLineDash(),r=t.getLineDashOffset(),o=t.getLineJoin(),s=t.getWidth(),a=t.getMiterLimit();this.textStrokeState_={lineCap:void 0!==n?n:Yo,lineDash:i||Xo,lineDashOffset:r||0,lineJoin:void 0!==o?o:Zo,lineWidth:void 0!==s?s:1,miterLimit:void 0!==a?a:10,strokeStyle:Bo(e||Ko)}}else this.textStrokeState_=null;var t=e.getFont(),n=e.getOffsetX(),i=e.getOffsetY(),r=e.getRotateWithView(),o=e.getRotation(),s=e.getScaleArray(),a=e.getText(),l=e.getTextAlign();e=e.getTextBaseline(),this.textState_={font:void 0!==t?t:Uo,textAlign:void 0!==l?l:Ho,textBaseline:void 0!==e?e:qo},this.text_=void 0!==a?Array.isArray(a)?a.reduce(((e,t,n)=>e+(n%2?" ":t)),""):a:"",this.textOffsetX_=void 0!==n?this.pixelRatio_*n:0,this.textOffsetY_=void 0!==i?this.pixelRatio_*i:0,this.textRotateWithView_=void 0!==r&&r,this.textRotation_=void 0!==o?o:0,this.textScale_=[this.pixelRatio_*s[0],this.pixelRatio_*s[1]]}else this.text_=""}},wl=.5,Sl={Point:function(e,t,n,i,r,o){var s=n.getImage(),a=n.getText(),l=a&&a.getText(),u=o&&s&&l?{}:void 0;if(s){if(s.getImageState()!=Do.LOADED)return;const o=e.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,u),o.drawPoint(t,i,r)}if(l){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a,u),o.drawText(t,i,r)}},LineString:function(e,t,n,i,r){const o=n.getStroke();if(o){const s=e.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawLineString(t,i,r)}const s=n.getText();if(s&&s.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,i,r)}},Polygon:function(e,t,n,i,r){const o=n.getFill(),s=n.getStroke();if(o||s){const a=e.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawPolygon(t,i,r)}const a=n.getText();if(a&&a.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,i,r)}},MultiPoint:function(e,t,n,i,r,o){var s=n.getImage(),a=s&&0!==s.getOpacity(),l=n.getText(),u=l&&l.getText(),h=o&&a&&u?{}:void 0;if(a){if(s.getImageState()!=Do.LOADED)return;const o=e.getBuilder(n.getZIndex(),"Image");o.setImageStyle(s,h),o.drawMultiPoint(t,i,r)}if(u){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(l,h),o.drawText(t,i,r)}},MultiLineString:function(e,t,n,i,r){const o=n.getStroke();if(o){const s=e.getBuilder(n.getZIndex(),"LineString");s.setFillStrokeStyle(null,o),s.drawMultiLineString(t,i,r)}const s=n.getText();if(s&&s.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(s),o.drawText(t,i,r)}},MultiPolygon:function(e,t,n,i,r){const o=n.getFill(),s=n.getStroke();if(s||o){const a=e.getBuilder(n.getZIndex(),"Polygon");a.setFillStrokeStyle(o,s),a.drawMultiPolygon(t,i,r)}const a=n.getText();if(a&&a.getText()){const o=e.getBuilder(n.getZIndex(),"Text");o.setTextStyle(a),o.drawText(t,i,r)}},GeometryCollection:function(e,t,n,i,r,o){var s=t.getGeometriesArray();let a,l;for(a=0,l=s.length;a<l;++a)(0,Sl[s[a].getType()])(e,s[a],n,i,r,o)},Circle:function(e,t,n,i,r){var o=n.getFill(),s=n.getStroke();if(o||s){const a=e.getBuilder(n.getZIndex(),"Circle");a.setFillStrokeStyle(o,s),a.drawCircle(t,i,r)}const a=n.getText();if(a&&a.getText()){const r=e.getBuilder(n.getZIndex(),"Text");r.setTextStyle(a),r.drawText(t,i)}}};function Cl(e,t){return parseInt(Y(e),10)-parseInt(Y(t),10)}function El(e,t){return(e=kl(e,t))*e}function kl(e,t){return wl*e/t}function Rl(e,t,n,i,r,o,s,a){var l=[],u=n.getImage();if(u){let e=!0;const t=u.getImageState();t==Do.LOADED||t==Do.ERROR?e=!1:t==Do.IDLE&&u.load(),e&&l.push(u.ready())}return(u=n.getFill())&&u.loading()&&l.push(u.ready()),(u=0<l.length)&&Promise.all(l).then((()=>r(null))),l=e,e=t,t=i,i=o,o=s,s=a,(n=(a=n).getGeometryFunction()(e))&&(n=n.simplifyTransformed(t,i),a.getRenderer()?function e(t,n,i,r,o){if("GeometryCollection"!=n.getType())t.getBuilder(i.getZIndex(),"Default").drawCustom(n,r,i.getRenderer(),i.getHitDetectionRenderer(),o);else{const s=n.getGeometries();for(let n=0,a=s.length;n<a;++n)e(t,s[n],i,r,o)}}(l,n,a,e,s):(0,Sl[n.getType()])(l,n,a,e,s,o)),u}const Tl=class extends f{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.wrappedRenderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,n){var i,r=t.extent,o=(u=t.viewState).center,s=u.resolution,a=u.projection,l=u.rotation,u=a.getExtent(),h=this.getLayer().getSource(),c=this.getLayer().getDeclutter(),d=t.pixelRatio,f=!((i=t.viewHints)[0]||i[1]),g=this.context,p=Math.round(it(r)/s*d),m=Math.round($e(r)/s*d),_=(i=h.getWrapX()&&a.canWrapX())?it(u):null,v=i?Math.ceil((r[2]-u[2])/_)+1:1;let y=i?Math.floor((r[0]-u[0])/_):0;do{let i=this.getRenderTransform(o,s,0,d,p,m,y*_);t.declutter&&(i=i.slice(0)),e.execute(g,[g.canvas.width,g.canvas.height],i,l,f,void 0===n?ml:n?_l:vl,n?c&&t.declutter[c]:void 0)}while(++y<v)}setDrawContext_(){1!==this.opacity_&&(this.targetContext_=this.context,this.context=Ci(this.context.canvas.width,this.context.canvas.height,_a))}resetDrawContext_(){var e;1!==this.opacity_&&(e=this.targetContext_.globalAlpha,this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Ri(this.context),_a.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null)}renderDeclutter(e){this.replayGroup_&&this.getLayer().getDeclutter()&&this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){var n=e.layerStatesArray[e.layerIndex],i=(this.opacity_=n.opacity,e.viewState),r=(this.prepareContainer(e,t),this.context);let o=(t=this.replayGroup_)&&!t.isEmpty();if(o||this.getLayer().hasListener(vr)||this.getLayer().hasListener(yr)){if(this.setDrawContext_(),this.preRender(r,e),i.projection,this.clipped_=!1,o&&n.extent&&this.clipping){const t=n.extent;o=rt(t,e.extent),this.clipped_=o&&!Oe(t,e.extent),this.clipped_&&this.clipUnrotated(r,e,t)}o&&this.renderWorlds(t,e,!this.getLayer().getDeclutter()&&void 0),!e.declutter&&this.clipped_&&r.restore(),this.postRender(r,e),this.renderedRotation_!==i.rotation&&(this.renderedRotation_=i.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_()}return this.container}getFeatures(e){return new Promise((t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const e=this.frameState.size.slice(),t=this.renderedCenter_,o=this.renderedResolution_,s=this.renderedRotation_,a=this.renderedProjection_,l=this.wrappedRenderedExtent_,u=this.getLayer(),h=[],c=.5*e[0],d=.5*e[1];h.push(this.getRenderTransform(t,o,s,.5,c,d,0).slice());var n=u.getSource(),i=a.getExtent();if(n.getWrapX()&&a.canWrapX()&&!Oe(i,l)){let e=l[0];var r=it(i);let n,a=0;for(;e<i[0];)--a,n=r*a,h.push(this.getRenderTransform(t,o,s,.5,c,d,n).slice()),e+=r;for(a=0,e=l[2];e>i[2];)++a,n=r*a,h.push(this.getRenderTransform(t,o,s,.5,c,d,n).slice()),e-=r}this.hitDetectionImageData_=function(e,t,n,i,r,o,s,a,l){const u=r,h=Ci(.5*e[0],.5*e[1]),c=(h.imageSmoothingEnabled=!1,h.canvas),d=new bl(h,.5,r,null,s,a,null),f=n.length,g=Math.floor(16777215/f),p={};for(let e=1;e<=f;++e){const t=n[e-1],r=t.getStyleFunction()||i;if(r){let n=r(t,o);if(n){Array.isArray(n)||(n=[n]);const i=(e*g).toString(16).padStart(7,"#00000");for(let e=0,r=n.length;e<r;++e){const r=n[e],o=r.getGeometryFunction()(t);if(o&&rt(u,o.getExtent())){const e=r.clone(),t=e.getFill(),n=(t&&t.setColor(i),e.getStroke()),s=(n&&(n.setColor(i),n.setLineDash(null)),e.setText(void 0),r.getImage());if(s){const t=s.getImageSize();if(!t)continue;const n=Ci(t[0],t[1],void 0,{alpha:!1}),r=n.canvas;n.fillStyle=i,n.fillRect(0,0,r.width,r.height),e.setImage(new ds({img:r,anchor:s.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:s.getOrigin(),opacity:1,size:s.getSize(),scale:s.getScale(),rotation:s.getRotation(),rotateWithView:s.getRotateWithView()}))}const a=e.getZIndex()||0;let l=p[a];l||(l={},(p[a]=l).Polygon=[],l.Circle=[],l.LineString=[],l.Point=[]);const u=o.getType();if("GeometryCollection"===u){const t=o.getGeometriesArrayRecursive();for(let n=0,i=t.length;n<i;++n){const i=t[n];l[i.getType().replace("Multi","")].push(i,e)}}else l[u.replace("Multi","")].push(o,e)}}}}}var m=Object.keys(p).map(Number).sort(R);for(let e=0,n=m.length;e<n;++e){const n=p[m[e]];for(const e in n){const i=n[e];for(let e=0,n=i.length;e<n;e+=2){d.setStyle(i[e+1]);for(let n=0,r=t.length;n<r;++n)d.setTransform(t[n]),d.drawGeometry(i[e])}}}return h.getImageData(0,0,c.width,c.height)}(e,h,this.renderedFeatures_,u.getStyleFunction(),l,o,s,El(o,this.renderedPixelRatio_))}var o,s,a,l;t((n=e,t=this.renderedFeatures_,l=[],(o=this.hitDetectionImageData_)&&(a=Math.floor(.5*Math.round(n[0])),n=Math.floor(.5*Math.round(n[1])),a=4*(ve(a,0,o.width-1)+ve(n,0,o.height-1)*o.width),n=o.data[a],s=o.data[1+a],o=o.data[2+a]+256*(s+256*n),a=Math.floor(16777215/t.length),o)&&o%a==0&&l.push(t[o/a-1]),l))}))}forEachFeatureAtCoordinate(e,t,n,i,r){if(this.replayGroup_){const o=t.viewState.resolution,s=t.viewState.rotation,a=this.getLayer(),l={},u=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,o,s,n,(function(e,t,n){var o=Y(e),s=l[o];if(s){if(!0!==s&&n<s.distanceSq){if(0===n)return l[o]=!0,r.splice(r.lastIndexOf(s),1),i(e,a,t);s.geometry=t,s.distanceSq=n}}else{if(0===n)return l[o]=!0,i(e,a,t);r.push(l[o]={feature:e,layer:a,geometry:t,distanceSq:n,callback:i})}}),u?null==(e=t.declutter)||null==(e=e[u])?void 0:e.all().map((e=>e.value)):null)}}handleFontsChanged(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),n=t.getSource();if(!n)return!1;var i=e.viewHints[0],r=e.viewHints[1],o=t.getUpdateWhileAnimating(),s=t.getUpdateWhileInteracting();if(this.ready&&!o&&i||!s&&r)this.animatingOrInteracting_=!0;else{this.animatingOrInteracting_=!1;const h=e.extent,c=e.viewState,d=c.projection,f=c.resolution,g=e.pixelRatio,p=t.getRevision(),m=t.getRenderBuffer();let _=t.getRenderOrder();void 0===_&&(_=Cl),o=c.center.slice(),s=(i=Le(h,m*f)).slice();var a=[i.slice()];if(r=d.getExtent(),n.getWrapX()&&d.canWrapX()&&!Oe(r,e.extent)){const e=it(r),t=Math.max(it(i)/2,e),n=(i[0]=r[0]-t,i[2]=r[2]+t,ht(o,d),st(a[0],d));n[0]<r[0]&&n[2]<r[2]?a.push([n[0]+e,n[1],n[2]+e,n[3]]):n[0]>r[0]&&n[2]>r[2]&&a.push([n[0]-e,n[1],n[2]-e,n[3]])}if(this.ready&&this.renderedResolution_==f&&this.renderedRevision_==p&&this.renderedRenderOrder_==_&&this.renderedFrameDeclutter_===!!e.declutter&&Oe(this.wrappedRenderedExtent_,i))P(this.renderedExtent_,s)||(this.hitDetectionImageData_=null,this.renderedExtent_=s),this.renderedCenter_=o,this.replayGroupChanged=!1;else{this.replayGroup_=null;const h=new rl(kl(f,g),i,f,g);let c;for(let e=0,t=a.length;e<t;++e)n.loadFeatures(a[e],f,d);const m=El(f,g);let v=!0;var l=(e,n)=>{let i;var r=e.getStyleFunction()||t.getStyleFunction();if(i=r?r(e,f):i){const t=this.renderFeature(e,m,i,h,c,this.getLayer().getDeclutter(),n);v=v&&!t}},u=(r=i,n.getFeaturesInExtent(r));_&&u.sort(_);for(let e=0,t=u.length;e<t;++e)l(u[e],e);this.renderedFeatures_=u,this.ready=v,r=h.finish(),r=new xl(i,f,g,n.getOverlaps(),r,t.getRenderBuffer(),!!e.declutter),this.renderedResolution_=f,this.renderedRevision_=p,this.renderedRenderOrder_=_,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=s,this.wrappedRenderedExtent_=i,this.renderedCenter_=o,this.renderedProjection_=d,this.renderedPixelRatio_=g,this.replayGroup_=r,this.hitDetectionImageData_=null,this.replayGroupChanged=!0}}return!0}renderFeature(e,t,n,i,r,o,s){if(!n)return!1;let a=!1;if(Array.isArray(n))for(let l=0,u=n.length;l<u;++l)a=Rl(i,e,n[l],t,this.boundHandleStyleImageChange_,r,o,s)||a;else a=Rl(i,e,n,t,this.boundHandleStyleImageChange_,r,o,s);return a}},Il=class extends Vs{constructor(e){super(e)}createRenderer(){return new Tl(this)}};function Ml(e,t){return function(n,i,r,o,s){{var a=e,l=t,u=n,h=(n=i,r),c=(e,t)=>{this.addFeatures(e),void 0!==o&&o(e)},d=()=>{this.changed(),void 0!==s&&s()};const f=new XMLHttpRequest;f.open("GET","function"==typeof a?a(u,n,h):a,!0),"arraybuffer"==l.getType()&&(f.responseType="arraybuffer"),f.withCredentials=!1,f.onload=function(e){if(!f.status||200<=f.status&&f.status<300){const e=l.getType();try{let t;"text"==e||"json"==e?t=f.responseText:"xml"==e?t=f.responseXML||f.responseText:"arraybuffer"==e&&(t=f.response),t?c(l.readFeatures(t,{extent:u,featureProjection:h}),l.readProjection(t)):d()}catch{d()}}else d()},f.onerror=d,f.send()}}}function Pl(e,t){return[[-1/0,-1/0,1/0,1/0]]}function Ll(e,t,n,i,r,o,s){let a,l;var u=(n-t)/i;if(1==u)a=t;else if(2==u)a=t,l=r;else if(0!=u){let o=e[t],s=e[t+1],c=0;var h=[0];for(let r=t+i;r<n;r+=i){const t=e[r],n=e[r+1];c+=Math.sqrt((t-o)*(t-o)+(n-s)*(n-s)),h.push(c),o=t,s=n}r=function(e,t,n){var i,r;n=R;let o=0,s=e.length,a=!1;for(;o<s;)(r=+n(e[i=o+(s-o>>1)],t))<0?o=i+1:(s=i,a=!r);return a?o:~o}(h,u=r*c),a=r<0?(l=(u-h[-r-2])/(h[-r-1]-h[-r-2]),t+(-r-2)*i):t+r*i}s=1<s?s:2,o=o||new Array(s);for(let t=0;t<s;++t)o[t]=void 0===a?NaN:void 0===l?e[a+t]:Se(e[a+t],e[a+i+t],l);return o}const Al=[1,0,0,1,0,0];class Fl{constructor(e,t,n,i,r,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n||null,this.properties_=r,this.squaredTolerance_,this.stride_=i,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_="Point"===this.type_?je(this.flatCoordinates_):Be(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){var e;return this.flatInteriorPoints_||(e=qe(this.getExtent()),this.flatInteriorPoints_=Jn(this.flatCoordinates_,0,this.ends_,2,e,0)),this.flatInteriorPoints_}getFlatInteriorPoints(){var e,t;return this.flatInteriorPoints_||(e=function(e,t){var n=[];let i,r=0,o=0;for(let l=0,u=t.length;l<u;++l){var s=t[l],a=ni(e,r,s,2);if(a===(i=void 0===i?a:i))n.push(t.slice(o,l+1));else{if(0===n.length)continue;n[n.length-1].push(t[o])}o=l+1,r=s}return n}(this.flatCoordinates_,this.ends_),t=function(e,t,n){var i=[];for(let s=0,a=n.length;s<a;++s){var r=n[s],o=Be(e,t,r[0],2);i.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=r[r.length-1]}return i}(this.flatCoordinates_,0,e),this.flatInteriorPoints_=function(e,t,n,i){let r=[];for(let s=0,a=n.length;s<a;++s){var o=n[s];r=Jn(e,t,o,2,i,2*s,r),t=o[o.length-1]}return r}(this.flatCoordinates_,0,e,t)),this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Ll(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];var e=this.flatCoordinates_;let r=0;var t=this.ends_;for(let o=0,s=t.length;o<s;++o){var n=t[o],i=Ll(e,r,n,2,.5);M(this.flatMidpoints_,i),r=n}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){var t=(e=fn(e)).getExtent(),n=e.getWorldExtent();if(t&&n){const e=$e(n)/$e(t);Tn(Al,n[0],n[3],e,-e,0,0,0),Ln(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Al,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var e;return new Fl(this.type_,this.flatCoordinates_.slice(),null==(e=this.ends_)?void 0:e.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=D(((e,t)=>{if(e!==this.squaredTolerance_){this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);var n=this.simplifiedGeometry_.getFlatCoordinates();let i;switch(this.type_){case"LineString":n.length=Yn(n,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,n,0),i=[n.length];break;case"MultiLineString":i=[],n.length=function(e,t,n,i,r,o,s,a){for(let u=0,h=n.length;u<h;++u){var l=n[u];s=Yn(e,t,l,i,r,o,s),a.push(s),t=l}return s}(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,n,0,i);break;case"Polygon":i=[],n.length=Zn(n,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),n,0,i)}i&&(this.simplifiedGeometry_=new Fl(this.type_,n,i,2,this.properties_,this.id_)),this.squaredTolerance_=e}return this.simplifiedGeometry_})),this}}Fl.prototype.getFlatCoordinates=Fl.prototype.getOrientedFlatCoordinates;const Dl=Fl,Ol=class{constructor(e){this.rbush_=new kr(e),this.items_={}}insert(e,t){e={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t},this.rbush_.insert(e),this.items_[Y(t)]=e}load(e,t){var n=new Array(t.length);for(let o=0,s=t.length;o<s;o++){var i=e[o],r=t[o];i={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:r},n[o]=i,this.items_[Y(r)]=i}this.rbush_.load(n)}remove(e){e=Y(e);var t=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(t)}update(e,t){var n=this.items_[Y(t)];Ue([n.minX,n.minY,n.maxX,n.maxY],e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map((function(e){return e.value}))}getInExtent(e){return e={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},this.rbush_.search(e).map((function(e){return e.value}))}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let n;for(let i=0,r=e.length;i<r;i++)if(n=t(e[i]))return n;return n}isEmpty(){return z(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){var t=this.rbush_.toJSON();return Ge(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}},zl="addfeature",Nl="removefeature";class Gl extends N{constructor(e,t,n){super(e),this.feature=t,this.features=n}}const Wl=class extends c{constructor(e){super({attributions:(e=e||{}).attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===e.wrapX||e.wrapX}),this.on,this.once,this.un,this.loader_=F,this.format_=e.format||null,this.overlaps_=void 0===e.overlaps||e.overlaps,this.url_=e.url,void 0!==e.loader?this.loader_=e.loader:void 0!==this.url_&&(pe(this.format_,"`format` must be set when `url` is set"),this.loader_=Ml(this.url_,this.format_)),this.strategy_=void 0!==e.strategy?e.strategy:Pl;var t=void 0===e.useSpatialIndex||e.useSpatialIndex;let n,i;this.featuresRtree_=t?new Ol:null,this.loadedExtentsRtree_=new Ol,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(e.features)?i=e.features:e.features&&(n=e.features,i=n.getArray()),t||void 0!==n||(n=new H(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==n&&this.bindFeaturesCollection_(n)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=Y(e);if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var n=e.getGeometry();if(n){const t=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(t,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Gl(zl,e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)}setupChangeEvents_(e,t){t instanceof Dl||(this.featureChangeKeys_[e]=[G(t,y,this.handleFeatureChange_,this),G(t,v,this.handleFeatureChange_,this)])}addToIndex_(e,t){let n=!0;if(void 0!==t.getId()){const e=String(t.getId());var i;e in this.idIndex_?t instanceof Dl&&(i=this.idIndex_[e])instanceof Dl?Array.isArray(i)?i.push(t):this.idIndex_[e]=[i,t]:n=!1:this.idIndex_[e]=t}return n&&(pe(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),n}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],n=[],i=[];for(let t=0,i=e.length;t<i;t++){const i=e[t],r=Y(i);this.addToIndex_(r,i)&&n.push(i)}for(let e=0,o=n.length;e<o;e++){const o=n[e],s=Y(o);this.setupChangeEvents_(s,o);var r=o.getGeometry();if(r){const e=r.getExtent();t.push(e),i.push(o)}else this.nullGeometryFeatures_[s]=o}if(this.featuresRtree_&&this.featuresRtree_.load(t,i),this.hasListener(zl))for(let e=0,t=n.length;e<t;e++)this.dispatchEvent(new Gl(zl,n[e]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(zl,(function(n){t||(t=!0,e.push(n.feature),t=!1)})),this.addEventListener(Nl,(function(n){t||(t=!0,e.remove(n.feature),t=!1)})),e.addEventListener(m,(e=>{t||(t=!0,this.addFeature(e.element),t=!1)})),e.addEventListener(_,(e=>{t||(t=!0,this.removeFeature(e.element),t=!1)})),this.featuresCollection_=e}clear(e){if(e){for(const e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(j);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach((e=>{this.removeFeatureInternal(e)}));for(const e in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[e])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={},e=new Gl("clear"),this.dispatchEvent(e),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){var n=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(n,(function(n){var i=n.getGeometry();if(i instanceof Dl||i.intersectsCoordinate(e))return t(n)}))}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,(function(n){var i=n.getGeometry();if(i instanceof Dl||i.intersectsExtent(e)){const e=t(n);if(e)return e}}))}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),z(this.nullGeometryFeatures_)||M(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t}getFeaturesInExtent(e,t){return this.featuresRtree_?t&&t.canWrapX()&&this.getWrapX()?(t=at(e,t),[].concat(...t.map((e=>this.featuresRtree_.getInExtent(e))))):this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const n=e[0],i=e[1];let r=null;const o=[NaN,NaN];let s=1/0;const a=[-1/0,-1/0,1/0,1/0];return t=t||L,this.featuresRtree_.forEachInExtent(a,(function(e){if(t(e)){const t=e.getGeometry(),l=s;if((s=t instanceof Dl?0:t.closestPointXY(n,i,o,s))<l){r=e;const t=Math.sqrt(s);a[0]=n-t,a[1]=i-t,a[2]=n+t,a[3]=i+t}}})),r}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){return void 0!==(e=this.idIndex_[e.toString()])?e:null}getFeatureByUid(e){return void 0!==(e=this.uidIndex_[e])?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){var t=e.target,n=Y(t),i=t.getGeometry();if(i){const e=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(e,t)):this.featuresRtree_&&this.featuresRtree_.update(e,t)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[n]=t);if(void 0!==(i=t.getId())){const e=i.toString();this.idIndex_[e]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[e]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[n]=t;this.changed(),this.dispatchEvent(new Gl("changefeature",t))}hasFeature(e){var t=e.getId();return void 0!==t?t in this.idIndex_:Y(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&z(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}loadFeatures(e,t,n){var i=this.loadedExtentsRtree_,r=this.strategy_(e,t,n);for(let e=0,o=r.length;e<o;++e){const o=r[e];i.forEachInExtent(o,(function(e){return Oe(e.extent,o)}))||(++this.loadingExtentsCount_,this.dispatchEvent(new Gl("featuresloadstart")),this.loader_.call(this,o,t,n,(e=>{--this.loadingExtentsCount_,this.dispatchEvent(new Gl("featuresloadend",void 0,e))}),(()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Gl("featuresloaderror"))})),i.insert(o,{extent:o.slice()}))}this.loading=!(this.loader_.length<4)&&0<this.loadingExtentsCount_}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){var t=this.loadedExtentsRtree_,n=t.forEachInExtent(e,(function(t){if(Ue(t.extent,e))return t}));n&&t.remove(n)}removeFeatures(e){let t=!1;for(let n=0,i=e.length;n<i;++n)t=this.removeFeatureInternal(e[n])||t;t&&this.changed()}removeFeature(e){e&&this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=Y(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e);const n=this.featureChangeKeys_[t];null!=n&&n.forEach(j),delete this.featureChangeKeys_[t];var i=e.getId();if(void 0!==i){const t=i.toString(),n=this.idIndex_[t];n===e?delete this.idIndex_[t]:Array.isArray(n)&&(n.splice(n.indexOf(e),1),1===n.length)&&(this.idIndex_[t]=n[0])}return delete this.uidIndex_[t],this.hasListener(Nl)&&this.dispatchEvent(new Gl(Nl,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){pe(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(Ml(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}},jl=JSON.parse('[{"category":"main","type":"Hotel Profile","id":26666,"name":"The Waterfront Beach Resort, a Hilton Hotel","coords":[-117.9942423,33.6533383],"address":"21100 Pacific Coast Highway, Huntington Beach CA 92648","website":"https://www.waterfrontresort.com/","position":1,"phone":"+1 (714) 845-8000"},{"category":"attraction","type":"Things to Do","id":15070,"name":"Huntington Beach Pier","coords":[-118.0048322,33.6565632],"address":"315 Pacific Coast Hwy, Huntington Beach, CA 92648","website":"https://www.surfcityusa.com/things-to-do/attractions/huntington-beach-pier/","position":2,"phone":"714-374-0277"},{"category":"attraction","type":"Things to Do","id":15071,"name":"Pacific City","coords":[-118.0009977,33.6556529],"address":"21010 Pacific Coast Hwy, Huntington Beach, CA 92648","website":"https://www.gopacificcity.com/","position":3,"phone":"714-930-2345"},{"category":"attraction","type":"Things to Do","id":15072,"name":"Bella Terra","coords":[-117.9967474,33.7322723],"address":"7777 Edinger Ave, Huntington Beach, CA 92647","website":"https://www.bellaterra-hb.com/","position":4,"phone":"714-897-2533"},{"category":"attraction","type":"Things to Do","id":15073,"name":"International Surfing Museum","coords":[-118.003003,33.6591544],"address":"411 Olive Ave, Huntington Beach, CA 92648","website":"http://www.surfingmuseum.org/","position":5,"phone":"714-465-4350"},{"category":"attraction","type":"Things to Do","id":15074,"name":"Orange County Coastline","coords":[-118.0708559,33.6590161],"address":"Sunset Beach off Pacific Coast Hwy. and Warner Ave., Huntington Beach, CA","website":"https://www.californiabeaches.com/southern/orange-county/huntington-beach/","position":6},{"category":"attraction","type":"Things to Do","id":15075,"name":"Bolsa Chica Ecological Reserve","coords":[-118.0485892,33.6956195],"address":"1800 CA-1, Huntington Beach, CA 92648","website":"https://www.wildlife.ca.gov/Lands/Places-to-Visit/Bolsa-Chica-ER","position":7,"phone":"714-846-1114"},{"category":"other","type":"Attraction","id":15076,"name":"Aquarium of the Pacific ","coords":[-118.1986233,33.7626383],"address":"100 Aquarium Way, Long Beach, CA 90802","website":"http://www.aquariumofpacific.org/","position":8},{"category":"other","type":"Things to Do","id":15077,"name":"Disneyland","coords":[-117.9211629,33.8120918],"address":"1313 Disneyland Dr, Anaheim, CA 92802","website":"https://disneyland.disney.go.com/","position":9},{"category":"other","type":"Things to Do","id":15078,"name":"California Adventure Park","coords":[-117.9236466,33.805865],"address":"1313 Disneyland Dr, Anaheim, CA 92802","website":"https://disneyland.disney.go.com/destinations/disney-california-adventure/?CMP=OKC-dlr_themeparks_gmap_173","position":10},{"category":"other","type":"Things to Do","id":10998,"name":"Knotts Berry Farm","coords":[-118.000226,33.844322],"address":"8039 Beach Blvd, Buena Park, CA 90620","website":"https://www.knotts.com/","position":11}]');var p=l(723);function Bl(){const e=(0,u.useRef)(),t=(0,u.useRef)(),[n,i]=(0,u.useState)(),[r,o]=(0,u.useState)(),[s,a]=(0,u.useState)(null),[l,h]=(0,u.useState)(!1),c=((0,u.useEffect)((()=>{const n=new Xa({element:t.current,autoPan:!0,autoPanAnimation:{duration:250},positioning:"bottom-center",stopEvent:!1,offset:[0,-10]}),r=new Wl,s=new Il({source:r,style:new vs({image:new ds({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAlCAYAAAC+uuLPAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAdnJLH8AAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAE8ATwBPvkXiGwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+kEGAYRBiOFw80AAAOESURBVFjDxVdvSBNhGH+8BZJoQ6E+ZCm72koQxXYfRhqG3FAo2VhqjNJZ4h3SX4Lw+mASfZkYFSXEbkxdZYtMcWU02ZQkyz7sSiMiWk4SDZL8U5YGudWnG7bu3e62Qb9vd8979+P5vc/ze583CSTASpD4b+VGHDakpK/bnIGvvpvmAAAoh8Mj5T9JYohS68hGRe4O0nnrBo5apzWYuInBUba+tY2NmdSWrUlPYfTm16+GKClZ6Kob/K9v9zOUxdYtiZQ1GsnJtDk3xAGiaF/3YpODrvv4YiE8hv0j59njVLyEAADekUeVCssJty1bkx4xU7ZMp57MWvFCAqE1mLiSskOEYKa2bE26FEKtwcSJWefutatvXjpvFszUccNsiVQ0WoOJK9qrUwcDwWFMhhXz7zv1h4javi5v80lDRHLF1HqCcjm5EKmVIHH/LmwC9YEyM5853NhsjpbVyBMn5+61q4VihaUVnv0HKG1I3tQ6shH1I1yuosUQAgDs3lP+HSX7s4H7pJUg8RApSlaiaF+36aLZInafMRlW/OHqPRoVl5UXVAIAYKzRSKIWzV97yEit1tq+Lm9eQYmgK23KVZIAANi6nVuQe2Aa6ZuIpU2WxnwelMSC5sBj9o3PE2tv1ly+ciySl2N8yonE2pYKx2/lRhyD/wBsaXbeLxSQK4T3Wgw6j9RrkcGF5QVsZXbOjzLsYCA4HAtpbYcVeWBQLieHrY6+RxbMnUsXH0slDAaCwyhLLCyt8AAAYJTLyemqGwSz9c2Mmzv1f58Q0eBx3f0VrSMwAIC3Q8+RI8Zk1oo34h6tybCno43le1GwctufsiFS/gFJnDbn7uloY+1F+m1CcXsTQ4+9HNwa6ZRSZuYz/BQROtraL5xt9M2MRzV2rcHELf/4sRDuMtGwfeBbxj+kAABDri4v6miKB8rMfOZoc2tLyPj/qq5Asn8xeaUmkYSFpRWegw3naORgRjkcnhyVpiWRpJ+sjxhRI2iiZA6XVVDekCRfAtyifJVKtKzIuZe3KlyuouMh/XymvQpp+KhAfWsbi5oAokExtZ4QmuyjkgIAGBsYmvdLscDlKpofNWMi5WUSO1jnqDQtYm5tsmgLHnyd/immsPIKStjDp5pOJ+R+KuaeI3RfiUvetRWtSNpaJUQ4SV/XStl3STMSZbF1r20lnjBSpSYMbJlO3d/DCt49xeAPOK1x4VXo9lgAAAAASUVORK5CYII=",anchor:[.5,1]})})}),a=new Wl,l=new Il({source:a,style:new vs({image:new ds({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFMAAABTCAYAAADjsjsAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Mzc5QTlDNUQwOEZGMTFFOTlENzU5OTQwMzZFRTVGNTIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Mzc5QTlDNUUwOEZGMTFFOTlENzU5OTQwMzZFRTVGNTIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNzlBOUM1QjA4RkYxMUU5OUQ3NTk5NDAzNkVFNUY1MiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNzlBOUM1QzA4RkYxMUU5OUQ3NTk5NDAzNkVFNUY1MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Po8p+ksAAAw/SURBVHja7FwHWBVnFj0gIIoNqXbFiA2wALGgUbFgr7HXxK7RxPhFo7sx2V0LMUY3a+xGiWuLqLHBisZeiYoNGyCi2BBFBAQ7e+/PQHwg5c2b994A3u87H7w25cwt594pJqmpqchs00f7wAhmSqhMcJZgTyghoSQhgfCEkES4S7hGuEqINcbGzl4WlOU9MxjPihA8Ca0I3oQmBCsZy2EyDxIOEPZLJBvFjEGmO2EYoTfBQYHl2UnL6i29vkzYSFhNuG3o0DKEmRC6EI4TThM+U4jId1kdwj8JURKp9QoSmV0JZwk7pFA2ZBrpK617J8EtP5PpRNhF2G5I78gmKjoTzhDmS8Us35DJGz+JEEroBPWYmbRdrADa5wcybQjbJA8oBnVaeUIg4UelC7CSZLoQQqQcqXbj6PmSsJdQVm1kNiMclkR3frKWhKNKbbcSZHYgcDtgjfxptSVHcDI2mdy5bCEUR/62KlLIVzQWma6ErSouNHKkHBem0oYm01YSwqVRsIwdZK1UoAxCpom0wioomMYCf5qhyGTh64OCbf8gNNI3mR8QZqLgG4v5VYSi+iRzUQEqOLkZT58m64tMHqG1Q+Eyzp3llCbTpJCEd2bjUybTlSaT+203FE4bmVfvzCuZU1B4jYvQOKXIZCHbFIXb2DvNlSBzGN4bn6/qmBc9lRvZfZXesiJFzNCyQx/Uqd8Epa3tgNRUJCY8xu2ocERFhKJY8RJIffMGj2Lv4UZ4KJ4/S1YDoczDdl3I5NOyFZTaGhMTEzi7eMC7Y384Vqiq8VlZW0cBN4/mGu8/f56C7esX4dLZ48Yms6MU6i/lkqmYrixrVw4DR02HrYN2x+bB3Zt4Q16qAuOhTmPCEblktlBqS+IoZP0WzkDxEqUotG1hY18e5So6oeoHdcXrbEuppRVuXb+skSIqVKkBaxt7FLcqSd5uipTkJMTcu4mYOzfx+vUrfRLaXBcyP1RySzgvMmLI23DpTMb7TGjjlp1R2y3rbOHm9UuUM1NEfvX08kElp1owN7d45/I5t14LPYOTh3bhzs1wfZDpmWMay+HCLRaqdxURakWLwcahPCyLWeFZylM8iYvF06SELN9zqumGbv3HoUxZe7x6+RIB/ssRceUseg7+HNWcXbVa55ULwQj0X4GEJ3FKksnXMdXif7S9cMtZ5yRD4duu+1DUqdcEpqaaKiw+7gEiwy7i7q0IvHzxAlYU/ib0nZAT++DVpjs2LJ8jXo+ZOl98ltnYCeIe3kcikZVMB8aiqKVIHdY2aVfdsJdXqV4b65f7IvrGVaXIdMqpCOXkmaMJS2Wv1dkNvT+ZLPKaNpb8NBFrl86EjZ0jug+cSDmyiMbnLJXOBe+n8L8iihkTaGZmLn7HeZn/NmjsjQaNvIXE4tBf/Z9vcO/2DaUIZScL19YzZZ1PZvlTt0FT9CAizMzNtfrtyxfPsW7pLFSoXB0dPx4plvV2AduxcYlIEy18eqNr//FZiE5fRmjIMXFAWrbvgxp1GqLX0ElY4juJitNrpQR8uLYFqJQ2a2Av4I1nIkuW1v44sPzx/3U+HMpXzkIkkxO0zQ+tOvYTHvf2Z5nN3KKo8EyXhl7Y+dtS4an1PFvQ71rj9PE9SpBZUk4114pM3glOGGFUpbnQ8OtSZWxIXzrCwsIy19/vD1hPhcoSnfuO0SDrUJA/wqhCf/r5zIx8mFkhxNyJQlJiPOXORFgWtxINAcuuHoMmYtu6hVTQ7ODu1VYpMkvIIdNCmzUkxD/C7q2r3hn2tg4VKYe6wrmuh6jYmYvRqaO7cZukzOCx32R8xrmcq3lCfBw+mfgvjZTx5s1rnPvzIE4fDSLySqA6LdPWvgJKlbZBcnIi5dQDCNz8C9p0HkDpYBz8V/+IXkO+EKqCOyodzVwOmYo0xExK7P1ogeDDgbTDZdHEuys8mrYTFfjaxVM4eTAAwyfNFoI8PeTZo9j6jZhCBBfRCPmDuzeheq169NlU4f2ZzaWBF5IS4rFp9TwR8h9+1IHIPwA7x0p00MJ03aUUOWQm6kP1su4L+t0PJw7sFEL9TyJ46PjvMqo+dzBb1/wEq5Kl0aHX8IyQ53DmHMgCfsCoaaKPz9g77oAo1Fm7sqB3rOQkDlrf4VPw86wJGPmlr/BWXqYSvYdqyHw7LezbuU7kQu7b04n8bdUPsHesjDZdBv6llMl7AzavQLM2PeHZzCeD4FuRV3B4zxZcv3pOo38XiqJ+U3QbOB4eXu0QfOR/Io8/fvRAiU1PkkOmXi+u5x3uPvAzVKzqnCFpNv4yF5WpXWTpk54b9+1aL8gcPG4G7BzSLgViDwwkcjnks0stoWePCQJd3ZuJtMD5mtOMAnZHznA4TJ9kenfqDzePjzLCdN2yWaI4pRPJOc9v4beiyxk52TeDSG4vF/t+IQgd89U8UXiy7f1CT1HhshDkWlhaKuWV0XI8U2/307TpMgjN2/YU/z9+FIMNK3zRpFUXoSHTw9ffb74I6eZtewkvZsG9d8caBB8KJB06QoQvvz9w9HSsXDDtnb1+iVJl6GDECGmU8lSRrBUmdzicIIV6RaVI5I6lU+9RcG/aVrzmge++XevQpd9YVKvhIt47eXCXCMsegyagpotnBuGb/RYILckFJiH+ocacdMj4b6kHn4Mnjx9qTrZJMVy9GAzXhs0QfjlEiV24JJdMNh5v91Fksmpti54koqsSabzTe7evEQVhCFVy9pxnKclUrZfgwb1ojJg0J2OIfP7UIcqPK0VH49NjGBIePxJFKi72Pgn80aLzcqxQDRP+thBnqWLfCL8o8q9zXXfqxKxFuqjl1gh7d65VYjdOyh3BsY0lLNZl7Sy23Zu0pRw5QAwdeNYYcuIPeLXuQdW5u9CQ7DU7Niwm7VifPHek6J44bHdtWoboyKvoNmC86LHTjcdz3Bnxcuo3aiXSw9sTfM7BJw8FUJU/j/4jvxbKYencyUqQyZfMXMluBJcbmVV5UCOnUnNLV62GKypVqynCk9tM9hqWLNzDc3hGRVzCkb1bcC86UmhKV/fmQh6dPraH2ssNYqjBIcoeyJX5Xa0kp4rIsAvCG/k7piamKGJmJqo3zwl4W7asWYALp4/oSuQtvHUZpRwy2Xgk3lDuFrDncbdS08UD5StVFyHOpEaQ1yQnPaFC4iOKEetEFtbBhwMQHxebpZC0bN9XdDM8btPWVsz/GrejdBYnC5B2hwbkDIfTbaMuZLJWjLx2QaMA2JerjBq1G8ChfBVB3MaV34v5JH/3nXqE8h6H/GEK7YZUvKrXrEf6tIZGm8nGeZcj4PK54+I0MR88PqWc+XsybX2uEZkHz7SXtJUFVGScV8tY24kWsWix4lSYHlLxupVlZsmfszdnrvRa2gVkumVRrmdyD7aJMEhNZHKOjI25LZCTPU18osTqfs5TSsvjwvjWuFQUTotB2jX8ipF5DrlcGlKAbXZOYzc5ZLLxVbSvChmRLAuX5Vm5aLFgPl+6qJCRyXeWPNcHmWx/l8RrYbCt2qY2bcnkEdQwlo+FoOiM0/ZHcm6q4kfe+BZgIlmoDpUI1TuZbDMIewoombxvQbJaZx2OHo/EgwsYkUskKQRDksnGw2O+0SqigBD5O2GCLgvQ9eZ9Hu94S7IpPxvf7t1PijijkQlpCNIsH4f8GkIvwgtdF6TUA08eEVpLoZJf7I2km1nqvVRigUo+iuepdISnKrVxejSehPHdE7Og4ABH6YdE8YbNRdoz3y6olMjNSLsPNEjpBevrWXB8qsOD8BVyuJzEwMaqw0eSdDH6WIE+H6zHoT4PaU9P4L+JRiKRZwn8iEkXfTcahnjkY4zkoVWR9uyLaAOReJHwqXQwedr1XN8rNDWgh/A9JN9JpPIlHb9K7ylpPH/8N9IeVsJ5cbUhi6ExHpPLkuQPCXww6yPtucN8FRffAabNY9CikPYst4NIG8BEGjMpG/MBzunEhkjg80yDJRGdF+Opf0vCTbXIBFOoyzZoQc56NRGpRjLZ237Io579Xm0CVm1ksq2SOpScjB8Gffk9mbkbn1b9KZfvzFFja6VGMtn4MsaEbD7jqh38nsy8WzyyvwlWteef1EomJPH9LNN7IVDxuSc1k3mP4JcfcmV+IJNtHv66JIevVt36nkz5dp3gL/0/Fyq/+EHtZEIS53wR5n/VvqH5gczzhI+hwAkvfdv/BRgAVyA4SJwFZHIAAAAASUVORK5CYII=",anchor:[.5,1]})})}),u=(jl.map((e=>{var t=_n(e.coords);t=new Za({geometry:new Hn(t),location:e}),("main"!==e.category?r:a).addFeature(t)})),new Ea({source:new ja({url:"https://a.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png"}),title:"OSMHumanitarian",crossOrigin:null})),h=new Hs({target:e.current,layers:[u,l,s],view:new _i({center:_n([-117.9942423,33.6533383]),zoom:16}),overlays:[n]});return h.on("singleclick",(function(e){h.forEachFeatureAtPixel(e.pixel,(function(e){var t=e.getGeometry().getCoordinates();n.setPosition(t),h.getView().animate({center:t}),c(e.get("location"))}))})),h.on("pointermove",(function(e){e=h.hasFeatureAtPixel(e.pixel),h.getTargetElement().style.cursor=e?"pointer":""})),i(h),o(n),()=>h.setTarget(null)}),[t.current]),e=>{var t=e.website?'<a href="'.concat(e.website,'" target="_blank">Visit Site</a> | '):"",n=e.phone?'<p>Phone: <a href="tel:'.concat(e.phone,'">').concat(e.phone,"</a></p>"):"";t="main"!==e.category?"<div>".concat(t,'<a href="https://maps.google.com/maps?saddr=21100%20Pacific%20Coast%20Highway,%20Huntington%20Beach%20CA%2092648&daddr=').concat(e.address,'" target="_blank">Get Directions</a></div>'):"",a('\n      <div class="popup-content">\n        <h4>'.concat(e.name,"</h4>\n        <p>").concat(e.address,"</p>\n        ").concat(n,"\n        ").concat(t,"\n      </div>\n    "))});return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"map-container",children:[(0,p.jsx)("div",{className:"side-panel ".concat(l?"open":""),children:jl.map((e=>(0,p.jsxs)("div",{className:"location",onClick:()=>{return i=_n((t=e).coords),h(!l),n.getView().animate({center:i}),c(t),void r.setPosition(i);var t,i},children:[(0,p.jsx)("h3",{children:e.name}),(0,p.jsx)("p",{children:e.address})]},e.id)))}),(0,p.jsxs)("button",{className:"navbar-toggler navicon ".concat(l?"open":""),type:"button",onClick:()=>{h(!l)},children:[(0,p.jsx)("span",{}),(0,p.jsx)("span",{}),(0,p.jsx)("span",{})]}),(0,p.jsx)("div",{ref:e,className:"map-panel"})]}),(0,p.jsxs)("div",{ref:t,id:"popup",className:"ol-popup",style:{background:"white",borderRadius:"5px",padding:"10px",border:"1px solid #ccc",position:"absolute",bottom:"50px",left:"calc(50% - 150px)",zIndex:1e3,width:"300px"},children:[(0,p.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),r.setPosition(null),a(null)},style:{position:"absolute",top:"6px",right:"8px",textDecoration:"none",fontSize:"16px",color:"#999",cursor:"pointer"},children:""}),(0,p.jsx)("div",{id:"popup-content",dangerouslySetInnerHTML:{__html:s}})]})]})}window.WBRMap={init:e=>{e=e.substring(1);var t=(0,p.jsx)(u.StrictMode,{children:(0,p.jsx)(Bl,{})});h.render(t,document.getElementById(e))}}}})()})();